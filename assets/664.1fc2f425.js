(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[664],{"../../browser-shims/v6 sync recursive":e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id="../../browser-shims/v6 sync recursive",e.exports=t},"../components/repl/index.marko":(e,t,r)=>{"use strict";r.d(t,{Z:()=>re});var n=r("../../node_modules/marko/dist/runtime/vdom/index.js"),s=r("../../node_modules/@marko/tags-api-preview/dist/util/replace-assignments/index.mjs"),a=r("../../node_modules/@marko/tags-api-preview/dist/transform/cached-function/index-browser.mjs"),o=r("../../node_modules/@marko/tags-api-preview/dist/transform/native-tag-var/index-browser.mjs"),i=r("../../node_modules/@marko/tags-api-preview/dist/components/lifecycle/index.mjs"),l=r("../../node_modules/@marko/tags-api-preview/dist/components/_instance/index.marko"),c=r("../../node_modules/marko/dist/runtime/helpers/render-tag.js"),d=r.n(c),p=r("../../node_modules/marko/dist/runtime/helpers/class-value.js"),u=r.n(p),m=r("../../node_modules/@marko/tags-api-preview/dist/translate/track-rendering/index.mjs"),f=r("../../node_modules/marko/dist/runtime/components/renderer.js"),y=r.n(f),h=r("../../node_modules/marko/dist/runtime/components/registry/index-browser.js"),g=r("../../node_modules/marko/dist/runtime/components/defineComponent.js"),b=r.n(g);const v="6o3N4O4f",x=(0,n.t)(v),w=x;(0,h.r)(v,(()=>x));const k={onCreate(){this.state={}}};x._=y()((function(e,t,r,n,c){(0,m.begin)();try{var p=n,f=c;const{selectedIndexChange:y,filesChange:h,files:g,selectedIndex:b}=e,v=h||(e=>p.setState("0",e)),x=h?g:"0"in f?f[0]:f[0]=g,w=y||(e=>p.setState("1",e)),k=y?b:"1"in f?f[1]:f[1]=b,E=x[k];t.be("div",{class:"file-tabs"},"0",n,null,1);{const e="2"in f?f[2]:f[2]=1,c=e=>p.setState("2",e);let m=0;for(const e of x){let n=m++;const c=`[${n}]`;d()(l.default,{renderBody:(t,r,p,m)=>{var f=r,y=p;const h="0"in m?m[0]:m[0]=!1,g=e=>p.setState("0",e),b=E===e,S=n>0;t.be("div",{class:u()(["file-tab",{selected:b}])},"2"+c,y,null,1,{onclick:f.d("click",(function(){b?(0,s.default)(g,!0):((0,s.default)(g,!1),(0,s.default)(w,n))}),!1)}),h&&b&&S?d()(l.default,{renderBody:(t,r,l,c)=>{var d=r,p=l;const u="0"in c?c[0]:c[0]=e.name,m=(0,a.cache)((0,a.cached)(l,[u,x])||function(){const t={...e,name:u,path:e.path.replace(e.name,u)};(0,s.default)(v,[...x.slice(0,n),t,...x.slice(n+1)]),(0,s.default)(g,!1)}),f=(0,o.default)(l,"0");var y=e=>l.setState("0",e);t.e("input",{type:"text",size:u.length,value:u},"@0",p,0,0,{pa:[y&&"value"],onblur:d.d("blur",m,!1),onkeydown:d.d("keydown",(function(e){"Enter"===e.code&&m()}),!1),oninput:d.d("input",(e=>{y(e.target.value)}),!1)}),(0,i.default)(p,{onMount:(0,a.cache)((0,a.cached)(l,[u])||function(){f().focus(),f().setSelectionRange(0,u.indexOf("."))})})}},t,f,"3"+c):t.t(e.name,y),S&&(t.be("button",{class:"file-close"},"4"+c,y,null,1,{onclick:f.d("click",(function(t){window.confirm(`Delete ${e.path}?`)&&(k>=n&&(0,s.default)(w,k-1),(0,s.default)(v,[...x.slice(0,n),...x.slice(n+1)])),t.stopPropagation()}),!1)}),t.t("×",y),t.ee()),t.ee()}},t,r,"1"+c)}t.be("button",{class:"new-file"},"5",n,null,1,{onclick:r.d("click",(function(){const t={name:`Component${e}.marko`,path:`/components/Component${e}.marko`,content:""},r=x.length;(0,s.default)(v,x.concat(t)),(0,s.default)(w,r),(0,s.default)(c,e+1)}),!1)}),t.t("+",n),t.ee()}t.ee()}finally{(0,m.end)()}}),{t:v},k),x.Component=b()(k,x._);var E=r("../../node_modules/marko/dist/runtime/helpers/dynamic-tag.js"),S=r.n(E);const C="QAUP5peK",T=(0,n.t)(C),L=T;(0,h.r)(C,(()=>T));const A={};T._=y()((function(e,t,r,n,s){(0,m.begin)();try{const{actions:s,body:a}=e;t.be("div",{class:"pane"},"0",n,null,1),t.be("div",{class:"pane-actions"},"1",n,null,1),S()(t,s.renderBody,null,null,null,null,r,"2"),t.ee(),t.e("div",{class:"pane-divider"},"3",n,0,1),t.be("div",{class:"pane-body"},"4",n,null,1),S()(t,a.renderBody,null,null,null,null,r,"5"),t.ee(),t.ee()}finally{(0,m.end)()}}),{t:C,i:!0},A),T.Component=b()(A,T._);var D=r("../../node_modules/marko/dist/runtime/vdom/helpers/v-element.js"),I=r.n(D),j=r("../../node_modules/@marko/tags-api-preview/dist/components/effect/index.mjs");const M="rRMAwOPg",_=(0,n.t)(M),N=_;(0,h.r)(M,(()=>_));const F={onCreate(){this.state={}}};_._=y()((function(e,t,r,n,s){(0,m.begin)();try{var i=n;const{value:s,valueChange:l,renderBody:c,class:d}=e,p=(0,o.default)(i,"0");t.be("select",{class:u()(d)},"@0",n,null,1,{onchange:r.d("change",(function(e){l(e.target.value)}),!1)}),S()(t,c,null,null,null,null,r,"0"),t.ee(),(0,j.default)(n,(0,a.cache)((0,a.cached)(i,[s,c,l])||function(){p().value=s}))}finally{(0,m.end)()}}),{t:M},F),_.Component=b()(F,_._);var $=r("../../node_modules/lz-string/libs/lz-string.js"),R=r("../../node_modules/@marko/tags-api-preview/dist/translate/native-tag-handlers/index-browser.mjs"),P=r("../../node_modules/marko/dist/runtime/vdom/helpers/attrs.js"),B=r.n(P);const U="ftG9dvL8",O=(0,n.t)(U),z=O,q=I()("span",null,"1",null,1,0).t("Open in playground ");(0,h.r)(U,(()=>O));const W={};O._=y()((function(e,t,r,n,s){(0,m.begin)();try{const{files:s,...o}=e;var a={};t.be("a",B()((0,R.default)({...o,href:`/playground/#${(0,$.compressToEncodedURIComponent)(JSON.stringify(s))}`,target:"_top",class:"playground-link"},r,"a",a)),"0",n,null,4,{...a}),t.n(q,n),t.t("↗",n),t.ee()}finally{(0,m.end)()}}),{t:U,i:!0},W),O.Component=b()(W,O._);var V=r("../../node_modules/@marko/tags-api-preview/dist/components/return/index-browser.mjs");const H="dL815V5K",Z=(0,n.t)(H),J=Z;(0,h.r)(H,(()=>Z));const Y={onCreate(){this.state={}}};Z._=y()((function(e,t,r,n,o){(0,m.begin)();try{var i=n,l=o;const{default:t,fallback:r}=e,c="0"in l?l[0]:l[0]=window.matchMedia(t).matches,d=e=>i.setState("0",e);(0,j.default)(n,(0,a.cache)((0,a.cached)(i,[t])||function(){const e=window.matchMedia(t),r=()=>(0,s.default)(d,!!e.matches);return e.addEventListener("change",r),(0,s.default)(d,!!e.matches),()=>e.removeEventListener("change",r)})),e._return&&e._return({default:c},1)}finally{(0,m.end)()}}),{t:H},Y),Z.Component=b()(Y,Z._);const G="V970f081",K=(0,n.t)(G),X=K;(0,h.r)(G,(()=>K));const Q={onCreate(){this.state={}}};K._=y()((function(e,t,r,n,i){(0,m.begin)();try{var c=n,p=i;const{left:g,right:b}=e,v="0"in p?p[0]:p[0]=.5,x=e=>c.setState("0",e),w="1"in p?p[1]:p[1]=!1,k=e=>c.setState("1",e);var f=(0,V.default)(c);d()(J,{default:"(max-aspect-ratio: 1/1)",_return:f},t,r,"0");const{default:E}=f(),C=(0,o.default)(c,"0");t.be("div",{class:u()(["panes",w&&"resizing"])},"@0",n,null,1);var y={};t.be("div",B()((0,R.default)({...g,style:`flex-grow:${v}`},r,"div",y)),"1",n,null,4,{...y}),S()(t,g.renderBody,null,null,null,null,r,"2"),t.ee(),t.be("div",{class:"divider"},"3",n,null,1),t.e("div",{class:"inner"},"4",n,0,1,{onmousedown:r.d("mousedown",(function(e){(0,s.default)(k,!0),e.preventDefault(),e.stopPropagation()}),!1)}),t.ee();var h={};t.be("div",B()((0,R.default)({...b,style:"flex-grow:"+(1-v)},r,"div",h)),"5",n,null,4,{...h}),S()(t,b.renderBody,null,null,null,null,r,"6"),t.ee(),t.ee(),w&&d()(l.default,{renderBody:(e,t,r,n)=>{var o=r;(0,j.default)(o,(0,a.cache)((0,a.cached)(r,[E])||function(){const e=e=>{if(e.buttons||e.which){const t=C().getBoundingClientRect(),r=E?(e.clientY-t.top)/t.height:(e.clientX-t.left)/t.width;r>0&&(0,s.default)(x,Math.min(.8,Math.max(.2,r)))}else(0,s.default)(k,!1)};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)}))}},t,r,"7")}finally{(0,m.end)()}}),{t:G},Q),K.Component=b()(Q,K._);const ee="Y/QiYO60",te=(0,n.t)(ee),re=te,ne=I()("option",{value:"preview"},"7",null,1,0).t("App Preview"),se=I()("option",{value:"compiled-html"},"8",null,1,0).t("Compiled (HTML)"),ae=I()("option",{value:"compiled-vdom"},"9",null,1,0).t("Compiled (DOM)");(0,h.r)(ee,(()=>te));const oe={onCreate(){this.state={}}};te._=y()((function(e,t,n,o,c){(0,m.begin)();try{var p=o,u=c;const{filesChange:f,getTranslator:y,files:h}=e,g="0"in u?u[0]:u[0]=0,b=e=>p.setState("0",e),v="1"in u?u[1]:u[1]="preview",x=e=>p.setState("1",e),k="2"in u?u[2]:u[2]=!1,E=e=>p.setState("2",e),C=h[g];d()(X,{left:{class:"editor-container",renderBody:e=>{d()(L,{actions:{renderBody:e=>{d()(w,{files:h,filesChange:f,selectedIndex:g,selectedIndexChange:b},e,n,"2")}},body:{renderBody:e=>{d()(l.default,{renderBody:(e,t,n,o)=>{var l=t,c=n;const d="0"in o?o[0]:o[0]=null,p=e=>n.setState("0",e);S()(e,d,(()=>({value:C.content,filename:C.path,valueChange:(0,a.cache)((0,a.cached)(n,[C,h,g])||function(e){const t={...C,content:e};(0,s.default)(f,[...h.slice(0,g),t,...h.slice(g+1)]),(0,s.default)(E,!0)})})),null,null,null,l,"4"),(0,i.default)(c,{onMount:async()=>{const e=await Promise.all([r.e(103),r.e(400),r.e(109),r.e(888),r.e(176)]).then(r.bind(r,"../components/repl/components/editor.marko"));await e.loading,(0,s.default)(p,e)}})}},e,n,"3")}}},e,n,"1")}},right:{renderBody:e=>{d()(L,{actions:{renderBody:e=>{d()(N,{value:v,valueChange:function(e){(0,s.default)(x,e),(0,s.default)(E,!1)},class:"preview-select",renderBody:e=>{e.n(ne,o),e.n(se,o),e.n(ae,o)}},e,n,"6"),d()(z,{files:h},e,n,"10")}},body:{renderBody:e=>{d()(l.default,{renderBody:(e,t,n,a)=>{var o=t,l=n;const c="0"in a?a[0]:a[0]=null,d=e=>n.setState("0",e);S()(e,c,(()=>({type:v,files:h,selectedFile:C,getTranslator:y,debounce:k})),null,null,null,o,"12"),(0,i.default)(l,{onMount:async()=>{(0,s.default)(d,await Promise.all([r.e(103),r.e(641),r.e(400),r.e(648),r.e(888),r.e(546),r.e(25)]).then(r.bind(r,"../components/repl/components/preview.marko")))}})}},e,n,"11")}}},e,n,"5")}}},t,n,"0")}finally{(0,m.end)()}}),{t:ee},oe),te.Component=b()(oe,te._)},"./playground/components/hash-value.marko":(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r("../../node_modules/marko/dist/runtime/vdom/index.js"),s=r("../../node_modules/lz-string/libs/lz-string.js"),a=r("../../node_modules/@marko/tags-api-preview/dist/transform/cached-function/index-browser.mjs"),o=r("../../node_modules/@marko/tags-api-preview/dist/util/replace-assignments/index.mjs"),i=r("../../node_modules/@marko/tags-api-preview/dist/components/lifecycle/index.mjs"),l=r("../../node_modules/@marko/tags-api-preview/dist/translate/track-rendering/index.mjs"),c=r("../../node_modules/marko/dist/runtime/components/renderer.js"),d=r.n(c),p=r("../../node_modules/marko/dist/runtime/components/registry/index-browser.js"),u=r("../../node_modules/marko/dist/runtime/components/defineComponent.js"),m=r.n(u);const f="41NMzc7K",y=(0,n.t)(f),h=y;(0,p.r)(f,(()=>y));const g={onCreate(){this.state={}}};y._=d()((function(e,t,r,n,c){(0,l.begin)();try{var d=n,p=c;const{default:t}=e,r="0"in p?p[0]:p[0]=(()=>{try{return JSON.parse((0,s.decompressFromEncodedURIComponent)(window.location.hash.slice(1)))}catch(e){console.error(e)}})()||t,u=e=>d.setState("0",e);(0,i.default)(n,{onMount:function(){window.addEventListener("hashchange",this.handler=()=>{try{this.isUpdating?this.isUpdating=!1:(0,o.default)(u,JSON.parse((0,s.decompressFromEncodedURIComponent)(window.location.hash.slice(1))))}catch(e){console.error(e)}})},onUpdate:(0,a.cache)((0,a.cached)(d,[r])||function(){this.isUpdating=!0,window.location.hash=(0,s.compressToEncodedURIComponent)(JSON.stringify(r))}),onDestroy:function(){window.removevEventListener("hashchange",this.handler)}}),e._return&&e._return({default:r,defaultChange:u},1)}finally{(0,l.end)()}}),{t:f},g),y.Component=m()(g,y._)},"./playground/v6/index.marko?browser-entry":(e,t,r)=>{"use strict";var n={};r.r(n),r.d(n,{analyze:()=>vr,taglibs:()=>wr,translate:()=>xr});var s=r("../../node_modules/marko/dist/runtime/components/index.js"),a=(r("../components/app-layout/favicon.png"),r("../logos/marko.svg"),r("../components/app-layout/components/layout-header/component-browser.js")),o=r.n(a),i=r("../components/app-layout/components/layout-sidebar/components/version-switcher/component-browser.js"),l=r.n(i),c=r("../components/app-layout/components/layout-sidebar/component-browser.js"),d=r.n(c),p=(r("../components/app-footer/openjsf.svg"),r("../components/app-footer/osi.svg"),r("../components/app-footer/ebay.svg"),r("../logos/discord.svg"),r("../../node_modules/marko/dist/runtime/vdom/index.js")),u=r("../../browser-shims/compiler/index.js"),m=r("../../node_modules/@marko/babel-utils/dist/index.js"),f=r("../../node_modules/path-browserify/index.js"),y=r.n(f),h=r("../../browser-shims/v6 sync recursive");function g(){return"html"===v().output}function b(){return!g()}function v(){return Ye.hub.file.markoOpts}var x=/^<.*>$|\.marko$/;function w(e){const t=e.node.extra??={};if(void 0===t.tagNameType){const r=e.get("name");if(r.isStringLiteral())t.tagNameType="@"===r.node.value[0]?3:(0,m.isNativeTag)(e)?0:1,t.tagNameNullable=t.tagNameNullable=!1;else{const e=[r];let n,s,a=!1;for(;(n=e.pop())&&2!==s;)if(n.isConditionalExpression())e.push(n.get("consequent")),n.node.alternate&&e.push(n.get("alternate"));else if(n.isLogicalExpression())"||"===n.node.operator?e.push(n.get("left")):a=!0,e.push(n.get("right"));else if(n.isAssignmentExpression())e.push(n.get("right"));else if(n.isBinaryExpression())s="+"!==n.node.operator||void 0!==s&&0!==s?2:0;else if(n.isStringLiteral()||n.isTemplateLiteral())s=void 0!==s&&0!==s?2:0;else if(n.isNullLiteral())a=!0;else if(n.isIdentifier()){if("undefined"===n.node.name){a=!0;continue}const t=n.scope.getBinding(n.node.name);if(!t){s=2;continue}if("module"===t.kind){const e=t.path.parent;s=x.test(e.source.value)&&e.specifiers.some((e=>u.types.isImportDefaultSpecifier(e)))?void 0!==s&&1!==s?2:1:2;continue}const r=t.path;if(r.isMarkoTag()&&"local"===t.kind){const n=r.get("name").node.value;if("tag"===n){s=void 0!==s&&1!==s?2:1;continue}if("const"===n){e.push(r.get("attributes")[0].get("value"));continue}if("let"===n){const n=r.get("attributes")[0];n.node?e.push(n.get("value")):a=!0;const o=t.constantViolations;for(let t=o.length;t--;){const r=o[t],{operator:n}=r.node;if("="===n)e.push(r.get("right"));else{if("+="!==n){s=2;break}s=void 0!==s&&0!==s?2:0}}}continue}s=2}else s=2;t.tagNameType=g()?s:2,t.tagNameNullable=a,t.tagNameDynamic=!0}void 0===t.tagNameType&&(t.tagNameType=2)}return t.tagNameType}function k(e){const t=e.node.extra??={};let r=t.sectionId;if(void 0===r){const n=e.hub.file.path.node.extra??={},s=e.parent?.name,a=s?.value??s?.name??"dynamic";r=t.sectionId=n.nextSectionId||0,n.nextSectionId=r+1,n.sectionNames=n.sectionNames??[],n.sectionNames[r]=Ye.scope.generateUid(a+"Body")}return r}function E(e){let t=e;for(;;){if("Program"===t.type||"MarkoTagBody"===t.type&&0!==w(t.parentPath))return k(t);t=t.parentPath}}function S(e){let t,r=e;for(;void 0===(t=r.node.extra?.sectionId);)r=r.parentPath;return t}function C(e,t){return[r=>{const n=Ye.state[e]??=[];return n[r]??=t&&t(r)},(t,r)=>{(Ye.state[e]??=[])[t]=r}]}function T(e){const{nextSectionId:t}=Ye.node.extra;for(let r=0;r<t;r++)e(r)}function L(e){return{insert(t,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t){if(Array.isArray(t))return function(e,t,r){const n=t.length;let s=n,a=0;for(;a<s;){const n=a+s>>>1,o=e(t[n],r);if(0===o)return t;o>0?s=n:a=n+1}let o=r;for(;a<n;){const e=o;o=t[a],t[a++]=e}return t[n]=o,t}(e,n?[...t]:t,r);{const n=e(t,r);if(0!==n)return n<0?[t,r]:[r,t]}}return r},find(t,r){if(t)return Array.isArray(t)?t[function(e,t,r){let n=t.length,s=0;for(;s<n;){const a=s+n>>>1,o=e(t[a],r);if(0===o)return a;o>0?n=a:s=a+1}return-1}(e,t,r)]:t===r?t:void 0},count:e=>void 0===e?0:Array.isArray(e)?e.length:1}}var[A]=C("reservesByType",(()=>[void 0,void 0,void 0]));function D(e,t,r,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const a=r.extra??={};if(a.reserve){const e=a.reserve;if(s&&e.size)throw new Error("Unable to reserve multiple scopes for a node");return e.size=s,e.name+="_"+n,e}const o=A(t),i=a.reserve={id:0,type:e,size:s,name:n,sectionId:t};return o[e]?i.id=o[e].push(i)-1:o[e]=[i],i}function I(e,t){return e.sectionId-t.sectionId||e.type-t.type||e.id-t.id}var{insert:j,count:M}=L(I),_=["createRenderFn","createRenderer","source","derivation","subscriber","closure","loop","conditional","destructureSources","bind","bindRenderer","inLoopScope","inConditionalScope"];function N(e){const{output:t}=v();return(0,m.importNamed)(Ye.hub.file,R(t),e)}function F(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const s=u.types.callExpression(N(e),U(r));return _.includes(e)&&(s.leadingComments=[{type:"CommentBlock",value:" @__PURE__ "}]),s}function $(){return h(R("html"))}function R(e){const{optimize:t}=v();return`@marko/runtime-fluurt/${t?"dist":"dist/debug"}/${"html"===e?"html":"dom"}`}function P(e,t){return u.types.memberExpression(B(e,t),u.types.numericLiteral(e.id),!0)}function B(e,t){const r=e.sectionId!==t?1:0;let n=Ge;for(let e=0;e<r;e++)n=u.types.memberExpression(n,u.types.identifier("_"));return n}function U(e){const t=[];for(let r=e.length;r--;){const n=e[r];(n||t.length)&&(t[r]=n||u.types.nullLiteral())}return t}function O(e){const t=[],r=[];let n=e[0];for(let s=1;s<e.length;s++){let a=e[s];if("object"==typeof a){if(!u.types.isStringLiteral(a)){if(u.types.isTemplateLiteral(a)){let t=s+1;const r=a.expressions.length;q(e,t,a.quasis.length+r);for(let n=0;n<r;n++)e[t++]=a.quasis[n].value.raw,e[t++]=a.expressions[n];e[t]=a.quasis[r].value.raw;continue}r.push(a),t.push(n),n="";continue}a=a.value}n+=a}return r.length?(t.push(n),u.types.templateLiteral(t.map((e=>u.types.templateElement({raw:e}))),r)):n?u.types.stringLiteral(n):void 0}function z(e,t){e[e.length-1]+=t}function q(e,t,r){for(let n=e.length-1;n>=t;n--)e[n+r]=e[n]}var[W]=C("walks",(()=>[""])),[V]=C("walkComment",(()=>[])),[H]=C("steps",(()=>[])),Z={32:"get",33:"before",35:"after",36:"inside",37:"replace",38:"endChild",40:"skip",47:"beginChild",67:"next",97:"over",107:"out",117:"multiplier",46:"skipEnd",66:"beginChildEnd",91:"nextEnd",106:"overEnd",116:"outEnd",126:"multiplierEnd"};function J(e){H(S(e)).push(0)}function Y(e){H(S(e)).push(1)}function G(e){H(S(e)).push(0,1)}function K(e,t){const{reserve:r}=e.node.extra;if(t&&(!r||0!==r.type))throw e.buildCodeFrameError("Tried to visit a node that was not marked as needing to visit during analyze.");const n=S(e),s=H(n),a=W(n),o=V(n);if(t&&g())ne(e)`${F("markHydrateNode",Ge,u.types.numericLiteral(r.id))}`;else{let n="";if(s.length){const e=[];let t=0;for(const r of s)0===r?(t++,e.push(67)):(t--,t>=0?(e.length=e.lastIndexOf(67),e.push(97)):(e.length=e.lastIndexOf(107)+1,e.push(107),t=0));let r=e[0],a=0;for(const t of e)t!==r?(o.push(`${Z[r]}(${a})`),n+=X(r,a),r=t,a=1):a++;o.push(`${Z[r]}(${a})`),n+=X(r,a),s.length=0}void 0!==t&&(32!==t&&ne(e)`<!>`,o.push(`${Z[t]}`),n+=String.fromCharCode(t)),r?.size&&(o.push(`${Z[40]}(${r.size})`),n+=X(40,r.size)),z(a,n)}}function X(e,t){switch(e){case 67:case 47:return Q(t,e,20);case 97:case 107:return Q(t,e,10);case 40:return Q(t,e,7);default:throw new Error(`Unexpected walk code: ${e}`)}}function Q(e,t,r){let n="";if(e>=r){const t=Math.floor(e/r);n+=Q(t,117,10),e-=t*r}return n+=String.fromCharCode(t+e),n}function ee(e){const t=O(W(e))||u.types.stringLiteral("");return""!==t.value&&(t.leadingComments=[{type:"CommentBlock",value:" "+V(e).join(", ")+" "}]),t}var[te]=C("renderer",(e=>{const t=Ye.node.extra.sectionNames[e];return u.types.identifier(t)})),[re]=C("writes",(()=>[""]));function ne(e){const t=S(e);return function(e){const r=arguments.length<=1?0:arguments.length-1,n=re(t);z(n,e[0]);for(let t=0;t<r;t++)n.push(t+1<1||arguments.length<=t+1?void 0:arguments[t+1],e[t+1])}}function se(e){const t=re(S(e)),r=O(t);if(t.length=0,t[0]="",r)return u.types.expressionStatement(F("write",r))}function ae(e){const t=se(e);t&&e.insertBefore(t)[0].skip()}function oe(e){const t=e.isProgram()?e:e.get("body"),r=se(t);r&&t.pushContainer("body",r)[0].skip()}function ie(e){const t=re(e);return{apply:$e(e),walks:ee(e),writes:O(t)||u.types.stringLiteral("")}}function le(e){for(const t of e.get("attributes"))if(t.isMarkoSpreadAttribute())throw t.buildCodeFrameError(`The <${e.get("name")}> tag does not support ...spread attributes.`)}function ce(e){if(e.node.body.body.length)throw e.get("name").buildCodeFrameError(`The <${e.get("name")}> tag does not support body content.`)}var[de,pe]=C("returnId"),ue={translate(e){(0,m.assertNoVar)(e),(0,m.assertNoParams)(e),ce(e),le(e);const t=S(e),{node:r,hub:{file:n}}=e,[s]=r.attributes;if(!u.types.isMarkoAttribute(s)||!s.default)throw e.get("name").buildCodeFrameError("The '<return>' tag requires default attribute like '<return=VALUE>'.");if(r.attributes.length>1){const t=r.attributes[1].loc?.start,n=r.attributes[r.attributes.length-1].loc?.end,s="The '<return>' tag only supports a default attribute.";throw null==t||null==n?e.get("name").buildCodeFrameError(s):e.hub.buildError({loc:{start:t,end:n}},s,Error)}if(g()){ae(e);const r=n.path.scope.generateUidIdentifier("return");pe(t,r),e.replaceWith(u.types.variableDeclaration("const",[u.types.variableDeclarator(r,s.value)]))[0].skip()}else{const r=xe(t,s.extra?.valueReferences?.references),n=N("tagVarSignal");r.subscribers.push(n),Te("apply",t,s.extra?.valueReferences,u.types.expressionStatement(F("setSource",Ge,u.types.identifier(n.name),s.value))),e.remove()}},autocomplete:[{displayText:"return=<value>",description:"Provides a value for use in a parent template.",snippet:"return=${1:value}",descriptionMoreURL:"https://markojs.com/docs/core-tags/#return"}]},[me]=C("signals",(()=>new Map)),[fe,ye]=C("queue"),[he]=C("closures",(()=>[])),[ge,be]=C("forceHydrateScope");function ve(e,t){ye(S(e.get("body")),t)}function xe(e,t){const r=Array.isArray(t)?t.map((e=>`${e.sectionId}/${e.id}`)).sort().join("-"):t,n=me(e);let s=n.get(r);return s||(n.set(r,s={identifier:u.types.identifier(Ce(e,t)),reserve:t,sectionId:e,render:[],hydrate:[],hydrateInlineReferences:void 0,subscribers:[]}),t?Array.isArray(t)?(Se(t,s),s.build=()=>F("subscriber",u.types.arrayExpression(s.subscribers),u.types.numericLiteral(t.length),Ee(e,u.types.blockStatement(s.render),t))):t.sectionId!==e?(he(e).push(s.identifier),s.build=()=>{const r=fe(e),n=xe(t.sectionId,t);return r?n.subscribers.push(r(s.identifier)):n.hasDynamicSubscribers||(n.hasDynamicSubscribers=!0,n.subscribers.push(F("dynamicSubscribers",u.types.numericLiteral(t.id)))),F(r?"closure":"dynamicClosure",u.types.numericLiteral(1),u.types.numericLiteral(t.id),u.types.arrayExpression(s.subscribers),u.types.arrowFunctionExpression([Ge,u.types.identifier(t.name)],u.types.blockStatement(s.render)))}):s.build=()=>u.types.stringLiteral("SIGNAL NOT INITIALIZED"):s.build=()=>{for(const e of s.subscribers)s.render.push(u.types.expressionStatement(F("notifySignal",Ge,e)));return u.types.arrowFunctionExpression([Ge],u.types.blockStatement(s.render))}),s}function we(e){const t=xe(e.sectionId,e);return t.build=()=>F("source",u.types.numericLiteral(e.id),u.types.arrayExpression(t.subscribers),u.types.arrowFunctionExpression([Ge,u.types.identifier(e.name)],u.types.blockStatement(t.render))),t}function ke(e,t,r){const n=e.sectionId,s=xe(n,e);return s.build=()=>F("derivation",u.types.numericLiteral(e.id),u.types.numericLiteral(Array.isArray(t)?t.length:1),u.types.arrayExpression(s.subscribers),Ee(n,r,t),u.types.arrowFunctionExpression([Ge,u.types.identifier(e.name)],u.types.blockStatement(s.render))),Se(t,s),s}function Ee(e,t,r){const n=[Ge];return Array.isArray(r)?r.forEach((t=>n.push(u.types.assignmentPattern(u.types.identifier(t.name),P(t,e))))):r&&n.push(u.types.assignmentPattern(u.types.identifier(r.name),P(r,e))),u.types.arrowFunctionExpression(n,t)}function Se(e,t){Array.isArray(e)?e.forEach((e=>Se(e,t))):xe(t.sectionId,e).subscribers.push(t.identifier)}function Ce(e,t){let r;if(t)if(Array.isArray(t)){r="expr";for(const e of t)r+=`_${e.name}`}else r=t.name;else r="setup";return r+=e?Ye.node.extra.sectionNames[e].replace("_","$"):"",Ye.scope.generateUid(r)}function Te(e,t,r,n,s,a){const o=r?.references,i=xe(t,o),l=i["apply"===e?"render":"hydrate"]??=[];if(Array.isArray(n)?l.push(...n):l.push(n),"hydrate"===e)if(Array.isArray(s))for(const e of s)!a&&u.types.isFunction(e)||Le(i,e);else!a&&u.types.isFunction(s)||Le(i,s)}function Le(e,t){const r=t.extra?.references?.references;let n=e.hydrateInlineReferences;if(r)if(Array.isArray(r))for(const e of r)n=j(n,e);else n=j(n,r);e.hydrateInlineReferences=n}function Ae(e,t){const{markoOpts:{optimize:r},opts:{filename:n}}=Ye.hub.file;let s="";if(t)if(Array.isArray(t))for(const e of t)s+=`_${e.name}`;else s+=`_${t.name}`;return(0,m.getTemplateId)(r,`${n}_${e}${s}`)}function De(e,t){const r=Ie(e),n=Ie(t);for(let e=Math.max(r.length,n.length)-1;e>=0;e--){const t=(n[e]??-1)-(r[e]??-1);if(0!==t)return t}return 0}function Ie(e){let{reserve:t}=e;return t?Array.isArray(t)?t.map(je).sort():[je(t)]:[]}function je(e){return 1e4*(0===e.type?1:0)+e.id}function Me(e,t){Te("hydrate",e,t,void 0,[])}function _e(e,t){const r=E(e),n=Array.from(me(r).values());e.unshiftContainer("body",u.types.variableDeclaration("const",[u.types.variableDeclarator(Ge,F("nextScopeId"))]));const s=[];for(let t=n.length;t--;)if(n[t].hydrate.length){const a=n[t].reserve;if(a)if(Array.isArray(a))for(const e of a)j(s,e);else j(s,a);e.pushContainer("body",u.types.expressionStatement(F("writeHydrateCall",Ge,u.types.stringLiteral(Ae(r,a)))))}const a=s.reduce(((e,t)=>(e.push(u.types.objectProperty(u.types.numericLiteral(t.id),u.types.identifier(t.name))),e)),[]);t&&void 0!==de(r)&&a.push(u.types.objectProperty(u.types.stringLiteral("/"),t)),(a.length||ge(r))&&e.pushContainer("body",u.types.expressionStatement(F("writeHydrateScope",Ge,u.types.objectExpression(a))))}var Ne={FunctionExpression:{exit:Fe},ArrowFunctionExpression:{exit:Fe}};function Fe(e,t){let{root:r,sectionId:n}=t;const{node:s}=e,{extra:a}=s,o=a?.references?.references,i=e.hub.file.path.scope.generateUidIdentifier(a?.name);o&&("BlockStatement"!==s.body.type&&(s.body=u.types.blockStatement([u.types.returnStatement(s.body)])),s.body.body.unshift(u.types.variableDeclaration("const",(Array.isArray(o)?o:[o]).map((e=>u.types.variableDeclarator(u.types.identifier(e.name),P(e,n)))))));let l=e.parentPath;for(;l;){if(l.isFunction())return;if(l===r)return;l=l.parentPath}r.insertBefore(u.types.variableDeclaration("const",[u.types.variableDeclarator(i,s)])),s.params.unshift(Ge),e.replaceWith(F("bind",Ge,i))}function $e(e){return me(e).get(void 0)?.identifier}function Re(e){return e.isImportDeclaration()||e.isExportDeclaration()||e.isMarkoScriptlet({static:!0})}var Pe={translate:{exit(e){const t=e.scope.generateUidIdentifier("tagVar");oe(e),_e(e,t);const r=de(0);void 0!==r&&e.pushContainer("body",u.types.returnStatement(r));const n=[];for(const t of e.get("body"))Re(t)?t.isMarkoScriptlet()&&t.replaceWithMultiple(t.node.body):(n.push(t.node),t.remove());const s=e.scope.generateUidIdentifier("renderer"),{attrs:a}=e.node.extra;e.pushContainer("body",[u.types.variableDeclaration("const",[u.types.variableDeclarator(s,u.types.arrowFunctionExpression([a?a.var:u.types.identifier("input"),t],u.types.blockStatement(n)))]),u.types.exportDefaultDeclaration(s),u.types.exportNamedDeclaration(u.types.variableDeclaration("const",[u.types.variableDeclarator(u.types.identifier("render"),F("createRenderer",s))]))])}}},Be={translate:{exit(e){K(e);const t=S(e),r=u.types.identifier("template"),n=u.types.identifier("walks"),s=u.types.identifier("setup"),a=u.types.identifier("attrs"),o=u.types.identifier("closures"),{attrs:i}=e.node.extra,{walks:l,writes:c,apply:d}=ie(t);if(function(e){const{nextSectionId:t}=Ye.node.extra;for(let r=t;r--;)e(r)}((r=>{if(function(e){const t=me(e),r=Array.from(t.values()).sort(De).flatMap((t=>{let r=t.build();t.register&&(r=F("register",u.types.stringLiteral(Ae(e,t.reserve)),r));const n=u.types.variableDeclarator(t.identifier,r);let s;if(t.hydrate.length){const r=u.types.identifier("_hydrate"+t.identifier.name);t.hydrateInlineReferences&&t.hydrate.unshift(u.types.variableDeclaration("const",(Array.isArray(t.hydrateInlineReferences)?t.hydrateInlineReferences:[t.hydrateInlineReferences]).map((t=>u.types.variableDeclarator(u.types.identifier(t.name),P(t,e)))))),s=u.types.variableDeclarator(r,F("register",u.types.stringLiteral(Ae(e,t.reserve)),u.types.arrowFunctionExpression([Ge],1===t.hydrate.length&&u.types.isExpressionStatement(t.hydrate[0])?t.hydrate[0].expression:u.types.blockStatement(t.hydrate)))),t.render.push(u.types.expressionStatement(F("queueHydrate",Ge,r)))}return u.types.isCallExpression(r)&&function(e){for(let t=e.length-1;t>=0;t--){const r=e[t];if(u.types.isArrowFunctionExpression(r)){const n=r.body.body;n&&(0===n.length?t===e.length-1?e.length=t:e[t]=u.types.nullLiteral():1===n.length&&u.types.isExpressionStatement(n[0])&&(r.body=n[0].expression))}}}(r.arguments),s?[u.types.variableDeclaration("const",[s]),u.types.variableDeclaration("const",[n])]:u.types.variableDeclaration("const",[n])}));Ye.pushContainer("body",r).forEach((t=>t.traverse(Ne,{root:t,sectionId:e})))}(r),r!==t){const{walks:t,writes:n,apply:s}=ie(r),a=he(r),o=te(r);e.node.body.push(u.types.variableDeclaration("const",[u.types.variableDeclarator(o,F("createRenderer",n,t,s,a.length&&u.types.arrayExpression(a)))]))}})),i){const r=[],n=[],s=[];for(const e in i.bindings){const a=i.bindings[e],o=xe(t,a.extra.reserve).identifier;r.push(u.types.exportSpecifier(o,a.extra.reserve.exportIdentifier)),n.push(o),s.push(u.types.expressionStatement(F("setSource",Ge,o,a)))}e.node.body.push(u.types.exportNamedDeclaration(u.types.variableDeclaration("const",[u.types.variableDeclarator(a,F("destructureSources",u.types.arrayExpression(n),u.types.arrowFunctionExpression([Ge,i.var],u.types.blockStatement(s))))])),u.types.exportNamedDeclaration(null,r))}const p=he(t);e.node.body.push(u.types.exportNamedDeclaration(u.types.variableDeclaration("const",[u.types.variableDeclarator(r,c||u.types.stringLiteral(""))])),u.types.exportNamedDeclaration(u.types.variableDeclaration("const",[u.types.variableDeclarator(n,l||u.types.stringLiteral(""))])),u.types.exportNamedDeclaration(u.types.variableDeclaration("const",[u.types.variableDeclarator(s,u.types.isNullLiteral(d)||!d?u.types.functionExpression(null,[],u.types.blockStatement([])):d)]))),p.length&&e.node.body.push(u.types.exportNamedDeclaration(u.types.variableDeclaration("const",[u.types.variableDeclarator(o,u.types.arrayExpression(p))]))),e.node.body.push(u.types.exportDefaultDeclaration(F("createRenderFn",r,n,s,i&&a,p.length&&o)))}}},[Ue]=C("apply",(()=>[{sectionId:0,index:0,count:0,references:void 0,apply:u.types.identifier(""),hydrate:u.types.identifier("")}]));function Oe(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const n=t.scope,s=t.getBindingIdentifiers();for(const t in s){const a=n.getBinding(t).referencePaths.concat(n.getBinding(t).constantViolations.filter((e=>e.isAssignmentExpression()&&"="!==e.node.operator))),o=D(r,e,s[t],t);Ke(Ue(e),{sectionId:e,index:0,count:0,references:o,apply:u.types.identifier(""),hydrate:u.types.identifier("")});for(const e of a){const t=He(e.scope.path),r=Ve(t||e),n=r.parentPath,s=t??r;if(s){const e=s.node.id?.name;e||n.isMarkoAttribute()&&!n.node.default&&((s.node.extra??={}).name=n.node.name),ze(s,"references",o)}ze(n,`${r.listKey||r.key}References`,o)}}}function ze(e,t,r){const n=E(e),s=(e.node.extra??={})[t],a=j(s?.references,r,!0);s&&s.count--,We(n,r),e.node.extra[t]=We(n,a)}function qe(e,t){let r;for(const[n,s]of t){const t=n[s],a=t.references;if(delete n[s],t.count--,e=t.sectionId,a)if(Array.isArray(a))for(const e of a)r=j(r,e);else r=j(r,a)}return We(e,r)}function We(e,t){const r={sectionId:e,index:0,count:1,references:t,apply:u.types.identifier(""),hydrate:u.types.identifier("")},n=Ue(e),s=Xe(n,r);return s?s.count++:Ke(n,r),s??r}function Ve(e){let t=e;for(;!Ze(t.parentPath);)t=t.parentPath;return t}function He(e){let t=e;if(!t.isProgram()){for(;!Je(t);){if(Ze(t))return;t=t.parentPath}return t}}function Ze(e){switch(e.type){case"MarkoTag":case"MarkoTagBody":case"MarkoAttribute":case"MarkoSpreadAttribute":case"MarkoPlaceholder":case"MarkoScriptlet":return!0;default:return!1}}function Je(e){switch(e.type){case"FunctionExpression":case"ArrowFunctionExpression":return!0;default:return!1}}var Ye,Ge,{insert:Ke,find:Xe}=L((function(e,t){let{references:r}=e,{references:n}=t;if(r){if(n){if(Array.isArray(r)){if(Array.isArray(n)){const e=r.length,t=e-n.length;if(0!==t)return t;for(let t=0;t<e;t++){const e=I(r[t],n[t]);if(0!==e)return e}return 0}return 1}return Array.isArray(n)?-1:I(r,n)}return 1}return n?-1:0}));function Qe(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=r?Ue(e):Ye.node.extra.referenceGroups[e];let s;if(s="number"==typeof t?n[t]:Xe(n,{references:t}),!s)throw new Error(`Reference group not found for section ${e}: ${t}`);return s}function et(e,t,r){let n=e+(t?Ye.node.extra.sectionNames[t].replace("_","$"):"");if(r)if(Array.isArray(r)){n+="With";for(const e of r)n+=`_${e.name}`}else n+=`_${r.name}`;return Ye.scope.generateUid(n)}var tt=new WeakMap,rt={migrate:{enter(e){tt.set(e,Ye),Ye=e},exit(){Ye.scope.crawl(),Ye=tt.get(Ye)}},analyze:{enter(e){tt.set(e,Ye),Ye=e,k(e)},exit(){T((e=>{let t=0;for(const r of A(e))if(r)for(const e of r)e.id=t,t+=e.size+1})),function(){const e=[];T((t=>{const r=Ue(t).filter((e=>e.count>0||!Array.isArray(e.references)));r.forEach(((e,r)=>{e.index=r,e.apply.name=et("apply",t,e.references),e.hydrate.name=et("hydrate",t,e.references)})),e[t]=r})),(Ye.node.extra??={}).referenceGroups=e}(),Ye=tt.get(Ye)}},translate:{enter(e){if(tt.set(e,Ye),Ye=e,Ge=e.scope.generateUidIdentifier("scope"),"hydrate"===v().output)return e.skip(),e.node.body=[u.types.importDeclaration([],u.types.stringLiteral(e.hub.file.opts.filename))],void((e.node.extra.hasInteractiveChild||e.node.extra.isInteractive)&&e.node.body.push(u.types.expressionStatement(F("init"))))},exit(e){g()?Pe.translate.exit(e):Be.translate.exit(e),Ye=tt.get(Ye)}}},nt={translate:{exit(e){const t=e.get("source"),r=t.node.value;t.node.value=(0,m.resolveTagImport)(t,r)||r}}},st={translate(e){g()&&ne(e)`<!${e.node.value}>`,e.remove()}},at=new WeakMap;function ot(e,t){return at.get(e.node)?.(e,t)}var it={translate:{exit(e){if(b()){const t="="===e.node.operator?e.node.right:u.types.binaryExpression(e.node.operator.slice(0,-1),e.node.left,e.node.right),r=ot(e,t);r&&e.replaceWith(r)}}}},lt={translate:{exit(e){if(b()){const t=ot(e,u.types.binaryExpression("++"===e.node.operator?"+":"-",e.node.argument,u.types.numericLiteral(1)));t&&e.replaceWith(e.node.prefix||e.parentPath.isExpressionStatement()?t:u.types.sequenceExpression([t,e.node.argument]))}}}},ct={translate(e){g()&&ne(e)`<?${e.node.value}?>`,e.remove()}},dt={translate(e){g()&&ne(e)`<![CDATA[${e.node.value}]]>`,e.remove()}},pt={translate(e){ne(e)`${e.node.value}`,G(e),e.remove()}};function ut(e,t){if(!e)return!1;const{node:r}=t,n=ft(e)?e.default:e;return yt(n)?n(t,u.types):n.enter&&n.enter(t,u.types),r!==t.node}function mt(e,t){if(!e)return!1;const{node:r}=t,n=ft(e)?e.default:e;return!yt(n)&&n.exit&&n.exit(t,u.types),r!==t.node}function ft(e){return Boolean(e.default)}function yt(e){return"function"==typeof e}var ht=/^[0-9A-Z_$]+$/i;function gt(e){return ht.test(e)?u.types.identifier(e):u.types.stringLiteral(e)}function bt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{node:r}=e;let n=u.types.objectExpression([]);const s=n.extra={};for(const e of r.attributes){const t=e.value;u.types.isMarkoSpreadAttribute(e)?n.properties.push(u.types.spreadElement(t)):n.properties.push(u.types.objectProperty(gt(e.name),t))}if(t){const{body:t,params:s}=r.body;let a=r.extra.hoistedControlFlows;if(a)for(const t of e.get("body").get("body"))if(e.insertBefore(t.node),t.remove(),(t.isConditional()||t.isLoop())&&!--a)break;t.length&&n.properties.push(u.types.objectMethod("method",u.types.identifier("renderBody"),s,u.types.blockStatement(t)))}if(n.properties.length){if(1===n.properties.length){const[e]=n.properties;u.types.isSpreadElement(e)&&(n=e.argument,n.extra=s)}return n}}function vt(e){if(u.types.isObjectExpression(e)){const t=e.properties[e.properties.length-1];if(u.types.isObjectMethod(t)&&"renderBody"===t.key.name)return t}}function xt(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"const";const{node:{var:n}}=e;n&&(e.get("var").remove(),e.insertBefore(u.types.variableDeclaration(r,[u.types.variableDeclarator(u.types.cloneDeep(n),t)])),e.hub.file.path.scope.crawl())}function wt(e){let{extra:t}=e.node;if(t||(t=e.node.extra={}),void 0===t.confident){const r=e.get("value"),{confident:n,value:s}=r.evaluate();t.computed=s,t.confident=n}return t}var kt={analyze:{enter(e){const{node:t}=e,r=e.get("attributes");let n=e.has("var")?E(e):void 0;if(r.some(Et));else for(const t of r){const r=t.node,{name:s}=r;St(s)?(n??=E(e),(Ye.node.extra??{}).isInteractive=!0):wt(t).confident||(n??=E(e))}const s=t.var?t.var.name:t.name.value;void 0!==n&&D(0,n,t,s)}},translate:{enter(e){const{extra:t}=e.node,r=g(),n=e.get("name"),s=e.get("attributes"),a=(0,m.getTagDef)(e),o=s.some((e=>e.isMarkoSpreadAttribute())),i=ne(e),l=S(e);if(r&&t.tagNameNullable&&ae(e),e.has("var"))if(r)xt(e,u.types.arrowFunctionExpression([],u.types.blockStatement([u.types.throwStatement(u.types.newExpression(u.types.identifier("Error"),[u.types.stringLiteral("Cannot reference DOM node from server")]))])));else{const r=e.node.var.name,n=e.scope.getBinding(r).referencePaths;let s;for(const e of n){const n=S(e);e.parentPath?.isCallExpression()?e.parentPath.replaceWith(u.types.expressionStatement(P(t.reserve,n))):(s??=u.types.identifier(r+"_getter"),e.replaceWith(F("bind",B(t.reserve,n),s)))}s&&Ye.pushContainer("body",u.types.variableDeclaration("const",[u.types.variableDeclarator(s,u.types.arrowFunctionExpression([Ge],u.types.memberExpression(Ge,u.types.numericLiteral(t.reserve.id),!0)))]))}let c;if(t.reserve&&(c=u.types.numericLiteral(t.reserve.id),K(e,32)),i`<${n.node}`,o){const t=F("attrs",Ge,bt(e));r?i`${t}`:e.insertBefore(u.types.expressionStatement(t))}else for(const e of s){const t=e.node.name,n=e.node.extra??{},s=e.get("value"),{confident:a,computed:o,valueReferences:p}=n;switch(t){case"class":case"style":{const e=`${t}Attr`;a?i`${$()[e](o)}`:r?i`${F(e,s.node)}`:Te("apply",l,p,u.types.expressionStatement(F(e,u.types.memberExpression(Ge,c,!0),s.node)));break}default:a?i`${$().attr(t,o)}`:r?St(t)?Me(l,p):i`${F("attr",u.types.stringLiteral(t),s.node)}`:St(t)?Te("hydrate",l,p,u.types.expressionStatement(F("on",u.types.memberExpression(Ge,c,!0),u.types.stringLiteral("-"===(d=t).charAt(2)?d.slice(3):d.charAt(2).toLowerCase()+d.slice(3)),s.node)),s.node):Te("apply",l,p,u.types.expressionStatement(F("attr",u.types.memberExpression(Ge,c,!0),u.types.stringLiteral(t),s.node)))}}var d;if(a&&a.parseOptions?.openTagOnly)switch(a.htmlType){case"svg":case"math":i`/>`;break;default:i`>`}else i`>`;r&&t.tagNameNullable&&e.insertBefore(u.types.ifStatement(n.node,se(e)))[0].skip(),J(e)},exit(e){const{extra:t}=e.node,r=g(),n=(0,m.getTagDef)(e)?.parseOptions?.openTagOnly;r&&t.tagNameNullable&&oe(e),e.insertBefore(e.node.body.body).forEach((e=>e.skip())),n||ne(e)`</${e.node.name}>`,r&&t.tagNameNullable&&e.insertBefore(u.types.ifStatement(e.node.name,se(e)))[0].skip(),Y(e),e.remove()}}};function Et(e){return"MarkoSpreadAttribute"===e.type}function St(e){return/^on[A-Z-]/.test(e)}var Ct={analyze:{enter(e){!function(e){e.has("var")&&Oe(E(e),e.get("var"));const t=e.get("body");t.get("body").length&&t.get("params").length&&Oe(E(t),t)}(e);const t=e.get("body");t.get("body").length&&k(t),(0,m.getTagDef)(e)?.template&&D(1,E(e),e.node,"child");const r=(0,m.loadFileForTag)(e)?.ast.program.extra;(r?.isInteractive||r?.hasInteractiveChild)&&((Ye.node.extra??{}).hasInteractiveChild=!0)},exit(e){const t=(0,m.getTagDef)(e)?.template,r=E(e);t&&(e.node.extra.attrsReferences=qe(r,e.node.attributes.filter((e=>e.extra?.valueReferences)).map((e=>[e.extra,"valueReferences"]))))}},translate:{enter(e){K(e),g()&&ae(e)},exit(e){g()?function(e){const t=e.get("body"),{node:r}=e;let n;if(oe(e),_e(t),u.types.isStringLiteral(r.name)){const{file:t}=e.hub,s=r.name.value,a=Tt(e);n=(0,m.importDefault)(t,a,s)}else n=r.name;const s=r.var,a=bt(e,!0),o=vt(a);if(r.extra.tagNameNullable){let t,r=At(n,bt(e));if(o){t=e.scope.generateUidIdentifier("renderBody");const[r]=e.insertBefore(u.types.functionDeclaration(t,o.params,o.body));r.skip(),a.properties[a.properties.length-1]=u.types.objectProperty(u.types.identifier("renderBody"),t)}s&&(xt(e,u.types.unaryExpression("void",u.types.numericLiteral(0)),"let"),r=u.types.assignmentExpression("=",s,r)),e.replaceWith(u.types.ifStatement(n,u.types.expressionStatement(r),t&&Lt(t)))[0].skip()}else s?(xt(e,At(n,a,F("register",u.types.arrowFunctionExpression([],u.types.blockStatement([])),u.types.stringLiteral(Ae(S(e),r.var.extra?.reserve)),Ge))),i=S(e),be(i,!0),e.remove()):e.replaceWith(Lt(n,a))[0].skip();var i}(e):function(e){const t=S(e),r=S(e.get("body")),{node:n}=e,s=ne(e),a=n.extra.reserve,{file:o}=e.hub,i=n.name.value,l=Tt(e),c=(0,m.loadFileForTag)(e).ast.program,d=(0,m.importNamed)(o,l,"setup",i);let p;c.extra.attrs&&(p=(0,m.importNamed)(o,l,"attrs",`${i}_attrs`)),s`${(0,m.importNamed)(o,l,"template",`${i}_template`)}`,function(e,t,r){const n=W(S(e));V(S(e)).push(`${Z[47]}(${t})`,r.name,Z[38]),z(n,X(47,t)),n.push(r,String.fromCharCode(38))}(e,a.id,(0,m.importNamed)(o,l,"walks",`${i}_walks`)),c.extra.closures&&he(t).push(F("inChildMany",(0,m.importNamed)(o,l,"closures",`${i}_closures`),u.types.numericLiteral(a.id)));let f=bt(e);if(r!==t&&(f??=u.types.objectExpression([]),f.properties.push(u.types.objectProperty(u.types.identifier("renderBody"),F("bindRenderer",Ge,te(r))))),n.var){const e=we(n.var.extra.reserve);e.register=!0,Te("apply",t,void 0,u.types.expressionStatement(F("setTagVar",Ge,u.types.numericLiteral(a.id),e.identifier)))}Te("apply",t,void 0,u.types.expressionStatement(u.types.callExpression(d,[P(a,t)]))),f&&p&&(xe(t,e.node.extra.attrsReferences.references).subscribers.push(p),Te("apply",t,e.node.extra.attrsReferences,u.types.expressionStatement(F("setSource",P(a,t),u.types.identifier(p.name),f)))),e.remove()}(e)}}};function Tt(e){const{node:t,hub:{file:r}}=e,n=u.types.isStringLiteral(t.name);let s;if(n){const t=(0,m.getTagDef)(e)?.template;s=t&&(0,m.resolveRelativePath)(r,t)}if(!s)throw e.get("name").buildCodeFrameError(`Unable to find entry point for custom tag <${n?t.name.value:t.name}>.`);const a=r.metadata.marko.tags;return a.includes(s)||a.push(s),s}function Lt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return u.types.expressionStatement(At(e,...r))}function At(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return u.types.callExpression(e,r.filter(Boolean))}function Dt(e){const t=e.body;return 1===t.length&&u.types.isExpressionStatement(t[0])?t[0].expression:u.types.isBlockStatement(e)?e:u.types.blockStatement(t)}var It={analyze:{enter(e){D(0,E(e),e.node,"dynamicTagName",5),Ct.analyze.enter(e)}},translate:{enter(e){K(e,37),G(e),g()&&ae(e)},exit(e){const{node:t}=e;if(g()){oe(e);const r=bt(e,!0),n=vt(r),s=[t.name,r||u.types.nullLiteral()];n&&(r.properties.pop(),s.push(u.types.arrowFunctionExpression(n.params,Dt(n.body))));const a=F("dynamicTag",...s);t.var?(xt(e,a),e.remove()):e.replaceWith(u.types.expressionStatement(a))[0].skip()}else{const r=S(e),n=t.extra?.reserve,s=t.extra?.nameReferences?.references,a=xe(r,n);a.build=()=>F("conditional",u.types.numericLiteral(n.id),u.types.numericLiteral(M(s)||1),Ee(r,t.name,s)),Se(s,a),e.remove()}}}},jt={translate:{enter(e){if(function(e){const t=re(S(e));return Boolean(t.length>1||t[0])}(e))throw e.get("name").buildCodeFrameError("Dynamic @tags cannot be mixed with body content.")},exit(e){(0,m.assertNoVar)(e),oe(e);const t=(0,m.findParentTag)(e);if(!t)throw e.get("name").buildCodeFrameError("@tags must be nested within another tag.");const r=t.node.extra;if(0===r.tagNameType)throw e.get("name").buildCodeFrameError("@tags cannot be nested under native tags.");const n=e.node.name.value.slice(1),s=r.nestedAttributeTags[n],a=bt(e,!0)||u.types.objectExpression([]);if(s.dynamic)s.identifier||(s.identifier=t.scope.generateUidIdentifier(n),t.insertBefore(s.repeated?u.types.variableDeclaration("const",[u.types.variableDeclarator(s.identifier,u.types.arrayExpression([]))]):u.types.variableDeclaration("let",[u.types.variableDeclarator(s.identifier)])),t.pushContainer("attributes",u.types.markoAttribute(n,s.identifier))),e.replaceWith(u.types.expressionStatement(s.repeated?u.types.callExpression(u.types.memberExpression(s.identifier,u.types.identifier("push")),[a]):u.types.assignmentExpression("=",s.identifier,a)));else if(s.repeated){const r=t.get("attributes").find((e=>e.node.name===n));r?r.get("value").pushContainer("elements",a):t.pushContainer("attributes",u.types.markoAttribute(n,u.types.arrayExpression([a]))),e.remove()}else t.pushContainer("attributes",u.types.markoAttribute(n,a)),e.remove()}}};function Mt(e){const{extra:t}=e.node;t.nestedAttributeTags={},t.hoistedControlFlows=0,_t(t,!1,!1,e)}function _t(e,t,r,n){let s=!1;for(const a of n.get("body").get("body"))a.isMarkoTag()&&Nt(e,t,r,a)&&(s=!0);return s}function Nt(e,t,r,n){if((0,m.isTransparentTag)(n)){if(_t(e,t||(0,m.isLoopTag)(n),!0,n))return(0,m.isTransparentTag)(n.parentPath.parentPath)||e.hoistedControlFlows++,!0}else if((0,m.isAttributeTag)(n)){const s=n.node.name.value.slice(1),a=e.nestedAttributeTags,o=a[s],i=o||(a[s]={dynamic:!1,repeated:!1});return i.dynamic||=r,i.repeated||=t||void 0!==o,!0}return!1}var Ft={analyze:{enter(e){const t=(0,m.getTagDef)(e),r=w(e),n=t?.analyzer?.hook;if(n)ut(n,e);else switch(r){case 0:kt.analyze.enter(e);break;case 1:Ct.analyze.enter(e);break;case 3:break;case 2:It.analyze.enter(e)}},exit(e){const t=(0,m.getTagDef)(e),r=w(e),n=t?.analyzer?.hook;n?mt(n,e):0!==r&&(Mt(e),1===r)&&Ct.analyze.exit(e)}},translate:{enter(e){const t=(0,m.getTagDef)(e),r=e.node.extra;if((0,m.assertNoArgs)(e),t?.translator)return t.translator.path&&e.hub.file.metadata.marko.watchFiles.push(t.translator.path),void ut(t.translator.hook,e);for(const t of e.get("attributes"))if(t.isMarkoAttribute()){if(t.node.arguments)throw t.buildCodeFrameError(`Unsupported arguments on the "${t.node.name}" attribute.`);if(t.node.modifier){if(!(0,m.isNativeTag)(t.parentPath))throw t.buildCodeFrameError(`Unsupported modifier "${t.node.modifier}".`);t.node.name+=`:${t.node.modifier}`}}if(r.tagNameDynamic&&r.tagNameNullable&&!e.get("name").isIdentifier()&&g()){const t=e.scope.generateUidIdentifier("tagName"),[r]=e.insertBefore(u.types.variableDeclaration("const",[u.types.variableDeclarator(t,e.node.name)]));r.skip(),e.set("name",t)}switch(r.tagNameType){case 0:kt.translate.enter(e);break;case 1:Ct.translate.enter(e);break;case 2:It.translate.enter(e);break;case 3:jt.translate.enter(e)}},exit(e){const t=(0,m.getTagDef)(e)?.translator;if(t)mt(t.hook,e);else switch(e.node.extra.tagNameType){case 0:kt.translate.exit(e);break;case 1:Ct.translate.exit(e);break;case 2:It.translate.exit(e);break;case 3:jt.translate.exit(e)}}}},$t="marko-core";function Rt(e){return e.isMarkoTag()&&(0,m.getTagDef)(e)?.taglibId===$t}function Pt(e,t){return Rt(e)&&e.node.name.value===t}var Bt={script:"escapeScript",style:"escapeStyle"},Ut={analyze(e){const{node:t}=e,{confident:r,computed:n}=wt(e);(!r||!t.escape&&n)&&(D(0,E(e),t,"placeholder"),function(e){let t=e.getPrevSibling();for(;t.node&&Ot(t);)t=t.getPrevSibling();if((t.node||u.types.isProgram(e.parentPath))&&(!u.types.isMarkoTag(t)||!(0,m.isNativeTag)(t)))return e.node.extra.needsMarker=!0;let r=e.getNextSibling();for(;r.node&&Ot(r);)r=r.getNextSibling();if((r.node||u.types.isProgram(e.parentPath))&&(!u.types.isMarkoTag(r)||!(0,m.isNativeTag)(r)))return e.node.extra.needsMarker=!0;e.node.extra.needsMarker=!1}(e))},translate(e){const t=g(),r=ne(e),n=e.node.extra,{confident:s,computed:a,valueReferences:o,reserve:i}=n,l=t||s&&(e.node.escape||!a),c=l?e.node.escape?Bt[function(e){let{parentPath:t}=e;return t.isMarkoTag()&&(0,m.isNativeTag)(t)&&t.node.name.value||""}(e)]||"escapeXML":"toString":e.node.escape?"data":"html";s&&l?r`${$()[c](a)}`:(n.needsMarker?K(e,37):(t||r` `,K(e,32)),t?r`${F(c,e.node.value)}`:Te("apply",S(e),o,u.types.expressionStatement("data"===c?F("data",u.types.memberExpression(Ge,u.types.numericLiteral(i.id),!0),e.node.value):F("html",Ge,e.node.value,u.types.numericLiteral(i.id))))),G(e),e.remove()}};function Ot(e){return u.types.isMarkoComment(e)||u.types.isMarkoTag(e)&&Rt(e)&&["let","const","effect","lifecycle","attrs","get","id"].includes(e.node.name.value)}var zt={translate(e){if(g()){if(e.node.static)return;e.replaceWithMultiple(e.node.body)}else e.node.static?e.replaceWithMultiple(e.node.body):(Te("apply",S(e),e.node.extra?.bodyReferences,e.node.body),e.remove())}},qt=/^\[if |<!\[endif\]$/,Wt={translate(e){if(g()){const{value:t}=e.node;qt.test(t)&&ne(e)`<!--${t}-->`}e.remove()}},Vt={parse(e){const{node:t}=e;e.replaceWith((0,m.parseScript)(e.hub.file,t.rawValue,t.start).body[0])},parseOptions:{rootOnly:!0,rawOpenTag:!0,openTagOnly:!0,ignoreAttributes:!0,relaxRequireCommas:!0},autocomplete:[{displayText:'import <scope> from "<path>"',description:"Use to import external modules, follows the same syntax as JavaScript imports.",snippet:'import ${2} from "${1:path}"',descriptionMoreURL:"https://markojs.com/docs/syntax/#importing-external-files"}]},Ht={parse(e){const{node:t}=e;e.replaceWith((0,m.parseScript)(e.hub.file,t.rawValue,t.start).body[0])},parseOptions:{rootOnly:!0,rawOpenTag:!0,openTagOnly:!0,ignoreAttributes:!0,relaxRequireCommas:!0},autocomplete:[{displayText:"export <value>"}]},Zt={analyze(e){if(e.has("var")){const t=e.get("var"),r=t.getBindingIdentifiers(),n=E(e);Oe(n,t,1);for(const e in r){const t=r[e].extra.reserve;t.exportIdentifier=Qe(n,t,!0).apply}(Ye.node.extra??={}).attrs={bindings:r,var:t.node}}},translate(e){const t=Ye.node.extra?.attrs?.bindings;if(t)for(const e in t)we(t[e].extra.reserve);e.remove()},attributes:{},autocomplete:[{displayText:"attrs/{ ... }",description:"Use to receive the attributes passed into this template.",snippet:"attrs/{ $1 }$2"}]};function Jt(e){const t=e.body;return 1===t.length?t[0]:u.types.isBlockStatement(e)?e:u.types.blockStatement(t)}var Yt={analyze:{enter(e){D(0,E(e),e.node,"if",5),Ct.analyze.enter(e)},exit(e){Mt(e),Xt(e)}},translate:{enter(e){const{node:t}=e,[r]=t.attributes;if((0,m.assertNoVar)(e),(0,m.assertNoParams)(e),!u.types.isMarkoAttribute(r)||!r.default)throw e.get("name").buildCodeFrameError("The '<if>' tag requires a default attribute like '<if=condition>'.");if(t.attributes.length>1){const r=t.attributes[1].loc?.start,n=t.attributes[t.attributes.length-1].loc?.end,s="The '<if>' tag only supports a default attribute.";throw null==r||null==n?e.get("name").buildCodeFrameError(s):e.hub.buildError({loc:{start:r,end:n}},s,Error)}K(e,37),G(e),g()&&ae(e)},exit(e){Qt(e)}},attributes:{},autocomplete:[{snippet:"if=${1:condition}",description:"Use to display content only if the condition is met.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#if-else-if-else"}]},Gt=new WeakMap;function Kt(e,t){const r=Gt.get(e)??[],n=e.getNextSibling(),s=!(Pt(n,"else")||Pt(n,"else-if"));return r.push({tag:e,sectionId:t}),s||Gt.set(n,r),[s,r]}function Xt(e){const t=E(e),r=E(e.get("body")),[n,s]=Kt(e,r);n&&(s[0].tag.node.extra.conditionalReferences=qe(t,s.filter((e=>{let{tag:t}=e;return t.node.attributes[0]?.extra?.valueReferences})).map((e=>{let{tag:t}=e;return[t.node.attributes[0].extra,"valueReferences"]}))))}function Qt(e){const t=e.get("body"),r=S(t),[n,s]=Kt(e,r);if(g()&&(oe(e),_e(t)),n)if(b()){const t=S(e),{extra:r}=s[0].tag.node;let n=u.types.nullLiteral();for(let e=s.length;e--;){const{tag:t,sectionId:a}=s[e],[o]=t.node.attributes,i=te(a);ve(t,(e=>F("inConditionalScope",e,u.types.numericLiteral(r.reserve.id)))),t.remove(),n=o?u.types.conditionalExpression(o.value,i,n):i}const a=r.conditionalReferences.references,o=xe(t,r.reserve);o.build=()=>F("conditional",u.types.numericLiteral(r.reserve.id),u.types.numericLiteral(M(a)||1),Ee(t,n,a)),Se(a,o)}else{const t=e.getNextSibling();let r;for(let e=s.length;e--;){const{tag:t}=s[e],[n]=t.node.attributes,a=Jt(t.node.body);r=n?u.types.ifStatement(n.value,a,r):a,t.remove()}t.insertBefore(r)}}var er={analyze:{enter(e){Ct.analyze.enter(e)},exit(e){Xt(e)}},translate:{enter(e){const{node:t}=e,[r]=t.attributes;if((0,m.assertNoVar)(e),(0,m.assertNoParams)(e),!u.types.isMarkoAttribute(r)||!r.default)throw e.get("name").buildCodeFrameError("The '<else-if>' tag requires a default attribute like '<else-if=condition>'.");if(t.attributes.length>1){const r=t.attributes[1].loc?.start,n=t.attributes[t.attributes.length-1].loc?.end,s="The '<else-if>' tag only supports a default attribute.";throw null==r||null==n?e.get("name").buildCodeFrameError(s):e.hub.buildError({loc:{start:r,end:n}},s,Error)}},exit(e){Qt(e)}},attributes:{},autocomplete:[{snippet:"else-if=${1:condition}",description:"Use after an <if> or <else-if> tag to display content if those conditions do not match and this one does.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#if-else-if-else"}]},tr={analyze:{enter(e){Ct.analyze.enter(e)},exit(e){Xt(e)}},translate:{enter(e){const{node:t}=e,[r]=t.attributes;if((0,m.assertNoVar)(e),(0,m.assertNoParams)(e),t.attributes.length>1||r&&"if"!==r.name){const r=t.attributes[1].loc?.start,n=t.attributes[t.attributes.length-1].loc?.end,s="The '<else>' tag only supports an if attribute.";throw null==r||null==n?e.get("name").buildCodeFrameError(s):e.hub.buildError({loc:{start:r,end:n}},s,Error)}},exit(e){Qt(e)}},attributes:{},autocomplete:[{description:"Use after an <if> or <else-if> tag to display content if those conditions do not match.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#if-else-if-else"}]},rr={translate(e){const{node:t}=e,[r]=t.attributes;if((0,m.assertNoParams)(e),ce(e),!t.var)throw e.get("name").buildCodeFrameError("The 'const' tag requires a tag variable.");if(!r)throw e.get("name").buildCodeFrameError("The 'const' tag requires a default attribute.");if(t.attributes.length>1||!u.types.isMarkoAttribute(r)||!r.default&&"default"!==r.name)throw e.get("name").buildCodeFrameError("The 'const' tag only supports the 'default' attribute.");if(b()){const t=Object.values(e.get("var").getBindingIdentifiers());1===t.length&&ke(t[0].extra.reserve,r.extra?.valueReferences?.references,r.value)}else xt(e,r.value);e.remove()},attributes:{},autocomplete:[{description:"Use to create an constant binding.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#const"}]},nr={analyze(e){D(1,S(e),e.node,"cleanup"),(Ye.node.extra??{}).isInteractive=!0},translate:{exit(e){const{node:t}=e,[r]=t.attributes;if((0,m.assertNoParams)(e),ce(e),!r)throw e.get("name").buildCodeFrameError("The 'effect' tag requires a default attribute.");if(t.attributes.length>1||!u.types.isMarkoAttribute(r)||!r.default&&"default"!==r.name)throw e.get("name").buildCodeFrameError("The 'effect' tag only supports the 'default' attribute.");const n=S(e);if(b()){const t=e.node.extra.reserve.id,{value:s}=r;let a=null;(u.types.isFunctionExpression(s)||u.types.isArrowFunctionExpression(s)&&u.types.isBlockStatement(s.body))&&(a=s.body.body,u.types.traverse(s.body,(e=>{u.types.isReturnStatement(e)&&(a=null)}))),Te("hydrate",n,r.extra?.valueReferences,a||u.types.expressionStatement(F("userEffect",Ge,u.types.numericLiteral(t),r.value)),s,!!a)}else Me(n,r.extra?.valueReferences);e.remove()}},attributes:{},autocomplete:[{description:"Use to create a side effects.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#effect"}]},sr={analyze:{enter(e){Ct.analyze.enter(e),D(1,S(e),e.node,"cleanup"),(Ye.node.extra??{}).isInteractive=!0},exit(e){Ct.analyze.exit(e);const t=E(e);e.node.extra.attrsReferences=qe(t,e.node.attributes.filter((e=>e.extra?.valueReferences)).map((e=>[e.extra,"valueReferences"])))}},translate:{exit(e){const{node:t}=e;(0,m.assertNoParams)(e),ce(e);const r=S(e);if(b()){const n=bt(e),s=e.node.extra.reserve.id;Te("hydrate",r,t.extra.attrsReferences,u.types.expressionStatement(F("lifecycle",Ge,u.types.numericLiteral(s),n)),t.attributes.map((e=>e.value)))}else Me(r,t.extra.attrsReferences);e.remove()}},attributes:{},autocomplete:[{description:"Use to create a side effects.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#effect"}]},ar={translate(e){const{node:t}=e,{var:r}=t,n=F("nextTagId");if((0,m.assertNoArgs)(e),(0,m.assertNoAttributes)(e),ce(e),(0,m.assertNoParams)(e),!t.var)throw e.get("name").buildCodeFrameError("The 'id' tag requires a tag variable.");if(!u.types.isIdentifier(r))throw e.get("var").buildCodeFrameError("The 'id' tag cannot be destructured");g()?e.replaceWith(u.types.variableDeclaration("const",[u.types.variableDeclarator(t.var,n)])):(ke(r.extra.reserve,void 0,n),e.remove())},attributes:{},autocomplete:[{displayText:"id/<name>",description:"Use to create a unique identifier.",snippet:"id/${1:name}",descriptionMoreURL:"https://markojs.com/docs/core-tags/#id"}]},or={analyze:{enter(e){const t=function(e){return e.node.extra??={},u.types.isMarkoTag(e.parentPath?.parent)&&(0,m.getTagDef)(e.parentPath.parentPath)?.html?e.node.extra.isOnlyChild=1===e.parent.body.length:e.node.extra.isOnlyChild=!1}(e);D(0,E(e),t?e.parentPath.parent:e.node,"for",6),Ct.analyze.enter(e)},exit(e){Mt(e)}},translate:{enter(e){if(function(e){const t=e.node.attributes,r=e.node.body.params.length>0;if((0,m.assertNoVar)(e),cr(t,"of")){if((0,m.assertAllowedAttributes)(e,["of","by"]),!r)throw e.buildCodeFrameError("Invalid 'for of' tag, missing |value, index| params.")}else if(cr(t,"in")){if((0,m.assertAllowedAttributes)(e,["in","by"]),!r)throw e.buildCodeFrameError("Invalid 'for in' tag, missing |key, value| params.")}else{if(!cr(t,"from")||!cr(t,"to"))throw e.buildCodeFrameError("Invalid 'for' tag, missing an 'of', 'in' or 'to' attribute.");(0,m.assertAllowedAttributes)(e,["from","to","step","by"])}}(e),!g()&&Object.keys(e.node.extra.nestedAttributeTags).length)return void e.remove();const{extra:{isOnlyChild:t}}=e.node;t||(K(e,37),G(e)),g()&&ae(e)},exit(e){g()?lr.exit(e):ir.exit(e)}},attributes:{of:{type:"expression",autocomplete:[{description:"Iterates over a list of items."}]},in:{type:"expression",autocomplete:[{description:"Iterates over the keys and values of an object."}]},to:{type:"number",autocomplete:[{description:"Iterates up to the provided number (inclusive)"}]},from:{type:"number",autocomplete:[{description:"Iterates starting from the provided number (inclusive)"}]},step:{type:"number",autocomplete:[{description:"The amount to increment during each interation (with from/to)"}]}},autocomplete:[{snippet:"for|${1:value, index}| of=${3:array}",description:"Use to iterate over lists, object properties, or between ranges.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#iterating-over-a-list"},{snippet:"for|${1:name, value}| in=${3:object}",descriptionMoreURL:"https://markojs.com/docs/core-tags/#iterating-over-an-objects-properties"},{snippet:"for|${1:index}| from=${2:number} to=${3:number} step=${4:number}",descriptionMoreURL:"https://markojs.com/docs/core-tags/#iterating-between-a-range-of-numbers"}]},ir={exit(e){const t=S(e.get("body")),r=S(e),{node:n}=e,{attributes:s,body:{params:a},extra:{isOnlyChild:o}}=n,i=e.get("body").get("params"),{extra:{reserve:l}}=o?e.parentPath.parent:e.node,c=cr(s,"of"),d=cr(s,"by");if(ve(e,(e=>F("inLoopScope",e,u.types.numericLiteral(l.id)))),c){const n=c.value,[s]=a;if(!u.types.isIdentifier(s))throw e.buildCodeFrameError("Invalid 'for of' tag, |value| parameter must be an identifier.");const o=te(t);e.remove();const p=c.extra?.valueReferences?.references,m=xe(r,l);m.build=()=>{const e=i.reduce(((e,t)=>Object.assign(e,t.getBindingIdentifiers())),{});return F("loop",u.types.numericLiteral(l.id),u.types.numericLiteral(M(p)||1),o,u.types.arrayExpression(Object.values(e).map((e=>xe(t,e.extra.reserve).identifier))),u.types.arrowFunctionExpression([Ge,u.types.arrayPattern(a)],u.types.blockStatement(Object.values(e).map((e=>u.types.expressionStatement(F("setSource",Ge,xe(t,e.extra.reserve).identifier,e)))))),Ee(r,u.types.arrayExpression([n,d?d.value:u.types.nullLiteral()]),p))},Se(p,m);for(const e of a)we(e.extra?.reserve)}}},lr={exit(e){const t=e.get("body"),{node:r}=e,{attributes:n,body:{body:s,params:a}}=r,o=e.get("name"),i=cr(n,"of"),l=cr(n,"in"),c=cr(n,"from"),d=cr(n,"to"),p=u.types.blockStatement(s);let m;if(oe(e),_e(t),l){const[e,t]=a;t&&p.body.unshift(u.types.variableDeclaration("const",[u.types.variableDeclarator(t,u.types.memberExpression(l.value,e,!0))])),m=u.types.forInStatement(u.types.variableDeclaration("const",[u.types.variableDeclarator(e)]),l.value,p)}else if(i){let t=i.value;const[r,n,s]=a;if(!r)throw o.buildCodeFrameError("Invalid 'for of' tag, missing |value, index| params.");if(m=[],n){const t=e.scope.generateUidIdentifierBasedOnNode(n,"i");m.push(u.types.variableDeclaration("let",[u.types.variableDeclarator(t,u.types.numericLiteral(0))])),p.body.unshift(u.types.variableDeclaration("let",[u.types.variableDeclarator(n,u.types.updateExpression("++",t))]))}s&&(u.types.isIdentifier(s)&&(t=s),m.push(u.types.variableDeclaration("const",[u.types.variableDeclarator(s,i.value)]))),m.push(u.types.forOfStatement(u.types.variableDeclaration("const",[u.types.variableDeclarator(r)]),t,p))}else if(c&&d){const t=cr(n,"step")||{value:u.types.numericLiteral(1)},r=t?t.value:u.types.numericLiteral(1),[s]=a,o=e.scope.generateUidIdentifier("steps"),i=e.scope.generateUidIdentifier("step");s&&p.body.unshift(u.types.variableDeclaration("const",[u.types.variableDeclarator(s,u.types.binaryExpression("+",c.value,u.types.binaryExpression("*",i,r)))])),m=u.types.forStatement(u.types.variableDeclaration("let",[u.types.variableDeclarator(o,u.types.binaryExpression("/",u.types.binaryExpression("-",d.value,c.value),r)),u.types.variableDeclarator(i,u.types.numericLiteral(0))]),u.types.binaryExpression("<=",i,o),u.types.updateExpression("++",i),p)}p.body.push(u.types.expressionStatement(F("maybeFlush"))),e.replaceWithMultiple([].concat(m))}};function cr(e,t){return e.find((e=>u.types.isMarkoAttribute(e)&&e.name===t))}var dr={analyze:{enter(e){0===E(e)&&((Ye.node.extra??={}).closures=!0),Ct.analyze.enter(e)},exit:Ct.analyze.exit},translate(e){(0,m.assertNoParams)(e),ce(e),g()&&ae(e);const{node:t,hub:{file:r}}=e,[n]=t.attributes;let s;if(!t.var)throw e.get("name").buildCodeFrameError("<get> requires a variable to be defined, eg <get/NAME>.");if(void 0===n)s="$";else{if(!u.types.isMarkoAttribute(n)||!n.default||!u.types.isStringLiteral(n.value))throw e.get("name").buildCodeFrameError("The '<get>' tag requires default attribute that is a string that resolves to a Marko file like '<get/val=\"../file.marko\">' or '<get/val=\"<tag-name>\">'.");if(t.attributes.length>1){const r=t.attributes[1].loc?.start,n=t.attributes[t.attributes.length-1].loc?.end,s="The '<get>' tag only supports a default attribute.";throw null==r||null==n?e.get("name").buildCodeFrameError(s):e.hub.buildError({loc:{start:r,end:n}},s,Error)}const a=e.get("attributes")[0].get("value");if("."===n.value.value)s=r.metadata.marko.id;else{const e=(0,m.resolveTagImport)(a,a.node.value);if(!e)throw a.buildCodeFrameError("Unable to resolve template provided to '<get>' tag.");s=(0,m.getTemplateId)(r.markoOpts.optimize,y().resolve(r.opts.filename,"..",e))}}g()?e.replaceWith(u.types.variableDeclaration("const",[u.types.variableDeclarator(t.var,F("getInContext",u.types.stringLiteral(s)))])):(!function(e,t){const r=t.sectionId,n=xe(r,t);he(r).push(n.identifier),n.build=()=>F("contextClosure",u.types.numericLiteral(t.id),u.types.stringLiteral(e),u.types.arrayExpression(n.subscribers),u.types.arrowFunctionExpression([Ge,u.types.identifier(t.name)],u.types.blockStatement(n.render)))}(s,Object.values(e.get("var").getBindingIdentifiers())[0].extra.reserve),e.remove())},autocomplete:[{displayText:'get/<name>="<from>"',description:"Gets a value provided from another template.",snippet:'get/${1:name}="${2:from}"',descriptionMoreURL:"https://markojs.com/docs/core-tags/#get"}]},pr={analyze:{enter(e){D(0,E(e),e.node,"put",1),Ct.analyze.enter(e)},exit(e){Ct.analyze.exit(e)}},translate:{enter(e){const{node:t}=e,[r]=t.attributes;if(!t.body.body.length)throw e.buildCodeFrameError("The '<put>' tag requires body content that the context is forwarded through.");if(!u.types.isMarkoAttribute(r)||!r.default)throw e.get("name").buildCodeFrameError("The '<put>' tag requires default attribute like '<put=val>'.");if(t.attributes.length>1){const r=t.attributes[1].loc?.start,n=t.attributes[t.attributes.length-1].loc?.end,s="The '<put>' tag only supports a default attribute.";throw null==r||null==n?e.get("name").buildCodeFrameError(s):e.hub.buildError({loc:{start:r,end:n}},s,Error)}if(g())ae(e),e.insertBefore(u.types.expressionStatement(F("pushContext",u.types.stringLiteral(e.hub.file.metadata.marko.id),r.value)));else{K(e,37),G(e);const n=S(e.get("body")),s=te(n);!function(e,t,r,n,s){const a=t.sectionId,o=u.types.numericLiteral(t.id),i=u.types.numericLiteral(t.id+1),l=xe(a,t);l.build=()=>F("derivation",i,u.types.numericLiteral(Array.isArray(r)?r.length:1),u.types.arrayExpression(l.subscribers),Ee(a,n,r),u.types.arrowFunctionExpression([Ge,u.types.identifier(t.name)],u.types.blockStatement(l.render))),Se(r,l),l.subscribers.push(F("dynamicSubscribers",i)),Te("apply",t.sectionId,void 0,u.types.expressionStatement(F("initContextProvider",Ge,o,i,u.types.stringLiteral(e),s)))}(e.hub.file.metadata.marko.id,t.extra.reserve,r.extra?.valueReferences?.references,r.value,s)}},exit(e){(0,m.assertNoParams)(e),(0,m.assertNoVar)(e),g()&&(oe(e),e.insertAfter(u.types.expressionStatement(F("popContext")))),e.replaceWithMultiple(e.node.body.body)}},autocomplete:[{displayText:"put=<value>",description:"Sets a value which can be read from a child template.",snippet:"put=${1:value}",descriptionMoreURL:"https://markojs.com/docs/core-tags/#put"}]},ur={migrate:[e=>e.remove()]},mr={taglibId:$t,"<import>":Vt,"<export>":Ht,"<attrs>":Zt,"<if>":Yt,"<else-if>":er,"<else>":tr,"<for>":or,"<let>":{translate(e){const{node:t}=e,r=t.var,[n]=t.attributes;if((0,m.assertNoParams)(e),ce(e),!r)throw e.get("name").buildCodeFrameError("The 'let' tag requires a tag variable.");if(!u.types.isIdentifier(r))throw e.get("var").buildCodeFrameError("The 'let' cannot be destructured.");if(!n)throw e.get("name").buildCodeFrameError("The 'let' tag requires a default attribute.");if(t.attributes.length>1||!u.types.isMarkoAttribute(n)||!n.default&&"default"!==n.name)throw e.get("name").buildCodeFrameError("The 'let' tag only supports the 'default' attribute.");if(b()){const t=S(e),s=r.extra.reserve,a=we(s);Te("apply",t,n.extra?.valueReferences,u.types.expressionStatement(F("setSource",Ge,a.identifier,n.value))),function(e,t){for(const r of e.constantViolations)at.set(r.node,t)}(e.scope.getBinding(s.name),((e,t)=>function(e,t,r){return F("queueSource",function(e,t){const r=e!==t?1:0;let n=Ge;for(let e=0;e<r;e++)n=u.types.memberExpression(n,u.types.identifier("_"));return n}(e.sectionId,r),e.identifier,t)}(a,t,S(e))))}else xt(e,n.value);e.remove()},attributes:{},autocomplete:[{description:"Use to create a mutable binding.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#let"}]},"<const>":rr,"<effect>":nr,"<lifecycle>":sr,"<id>":ar,"<html-comment>":{analyze(){},translate:{enter(e){J(e),ne(e)`<!--`},exit(e){(0,m.assertNoVar)(e),(0,m.assertNoParams)(e),(0,m.assertNoAttributes)(e),(0,m.assertNoAttributeTags)(e),Y(e),ne(e)`-->`,e.remove()}},parseOptions:{text:!0},attributes:{},autocomplete:[{description:"Use to create an html comment that is not stripped from the output.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#html-comment"}]},"<tag>":{translate:{enter(e){if(g()&&ae(e),!e.node.var)throw e.get("name").buildCodeFrameError("<tag> requires a variable to be defined, eg <tag/NAME>.")},exit(e){g()&&oe(e),e.replaceWith(u.types.variableDeclaration("const",[u.types.variableDeclarator(e.node.var,u.types.arrowFunctionExpression(e.node.body.params,Dt(e.node.body)))]))}},attributes:{},autocomplete:[{displayText:"tag/<name>|<params>|",description:"Creates a reusable fragment within the template.",snippet:"tag/${1:name}|${2:param1, param2}|",descriptionMoreURL:"https://markojs.com/docs/core-tags/#tag"}]},"<put>":pr,"<get>":dr,"<return>":ue,"<style>":{translate(e){const{hub:{file:t}}=e;(0,m.assertNoParams)(e),le(e);let r="text/css";const n=e.get("attributes"),s=y().basename(t.opts.sourceFileName),a=n.find((e=>e.isMarkoAttribute()&&"type"===e.node.name)),o=n.find((e=>e.isMarkoAttribute()&&"class"===e.node.name));if(a&&o)throw o.buildCodeFrameError('<style> must only use "type" or "class" and not both.');if(a){const e=a.get("value");if(!e.isStringLiteral())throw e.buildCodeFrameError('<style> "type" attribute can only be a string literal.');r=e.node.value}else if(o){const e=o.get("value");if(!e.isStringLiteral())throw e.buildCodeFrameError('<style> "class" attribute can only be a string literal.');r=e.node.value}"text/css"===r&&(r="css"),e.node.var&&!r.startsWith("module")&&(r="module."+r);const i=e.get("body").get("body"),l=i[0];if(1!==i.length||!l.isMarkoText())throw(l.isMarkoText()?i[1]:i[0]).buildCodeFrameError("The '<style>' tag currently only supports static content.");const{resolveVirtualDependency:c}=v();if(c){const n=c(t.opts.filename,{type:r,code:l.node.value,startPos:l.node.start,endPos:l.node.end,path:`./${s}`,virtualPath:`./${s}.${r}`});e.node.var?u.types.isIdentifier(e.node.var)?Ye.pushContainer("body",u.types.importDeclaration([u.types.importDefaultSpecifier(e.node.var)],u.types.stringLiteral(n))):Ye.pushContainer("body",u.types.variableDeclaration("const",[u.types.variableDeclarator(e.node.var,(0,m.importDefault)(t,n,"style"))])):Ye.pushContainer("body",u.types.importDeclaration([],u.types.stringLiteral(n)))}e.remove()},attributes:{type:{enum:["css","less","scss","text/css"]}}},"<await-reorderer>":ur,"<init-widgets>":ur,"<init-components>":ur,"<static>":{parse(e){const{node:t,hub:{file:r}}=e,n=t.rawValue,s=n.replace(/^static\s*/,"").trim(),a=t.name.start+(n.length-s.length);let{body:o}=(0,m.parseScript)(r,s,a);1===o.length&&u.types.isBlockStatement(o[0])&&(o=o[0].body),e.replaceWith(u.types.markoScriptlet(o,!0))},"parse-options":{rootOnly:!0,rawOpenTag:!0,openTagOnly:!0,ignoreAttributes:!0},autocomplete:[{displayText:"static <statement>",description:"A JavaScript statement which is only evaluated once your template is loaded.",descriptionMoreURL:"https://markojs.com/docs/syntax/#static-javascript"}]},"<__flush_here_and_after__>":{migrate:[e=>{e.replaceWithMultiple(e.node.body.body),Ye.scope.crawl()}]}},fr=new WeakMap,yr=new WeakSet;function hr(e){for(const t of Ye.get("body"))if(!Re(t))return void t.insertBefore(e);Ye.unshiftContainer("body",e)}var gr={Program:rt,AssignmentExpression:it,UpdateExpression:lt,ReferencedIdentifier:{migrate(e){const{name:t}=e.node;if(!e.scope.hasBinding(t))switch(e.node.name){case"input":yr.has(Ye)||(yr.add(Ye),hr(u.types.markoTag(u.types.stringLiteral("attrs"),void 0,u.types.markoTagBody(),void 0,e.node)));break;case"out":if(!u.types.isMemberExpression(e.parent)||!u.types.isIdentifier(e.parent.property)||"global"!==e.parent.property.name)throw e.buildCodeFrameError("Only out.global is supported for compatibility.");{let t=fr.get(Ye);t||(t=Ye.scope.generateUidIdentifier("$global"),fr.set(Ye,t),hr(u.types.markoTag(u.types.stringLiteral("get"),void 0,u.types.markoTagBody(),void 0,t))),e.parentPath.replaceWith(t)}}}},ImportDeclaration:nt,MarkoDocumentType:st,MarkoDeclaration:ct,MarkoCDATA:dt,MarkoText:pt,MarkoTag:Ft,MarkoPlaceholder:Ut,MarkoScriptlet:zt,MarkoComment:Wt},br=e=>Object.entries(gr).reduce(((t,r)=>{let[n,s]=r;return e in s&&(t[n]=s[e]),t}),{}),vr=br("analyze"),xr=br("translate"),wr=[["../../browser-shims/v6",{...mr,migrate:br("migrate")}]],kr=r("../../node_modules/@marko/tags-api-preview/dist/components/return/index-browser.mjs"),Er=r("./playground/components/hash-value.marko"),Sr=r("../../node_modules/marko/dist/runtime/helpers/render-tag.js"),Cr=r.n(Sr),Tr=r("../components/repl/index.marko"),Lr=r("../../node_modules/@marko/tags-api-preview/dist/translate/track-rendering/index.mjs"),Ar=r("../../node_modules/marko/dist/runtime/components/renderer.js"),Dr=r.n(Ar),Ir=r("../../node_modules/marko/dist/runtime/components/registry/index-browser.js"),jr=r("../../node_modules/marko/dist/runtime/components/defineComponent.js"),Mr=r.n(jr);const _r="Mtx/OLsr",Nr=(0,p.t)(_r);(0,Ir.r)(_r,(()=>Nr));const Fr={onCreate(){this.state={}}};Nr._=Dr()((function(e,t,r,s,a){(0,Lr.begin)();try{var o=s,i=(0,kr.default)(o);Cr()(Er.Z,{default:[{name:"index.marko",path:"/components/index.marko",content:"<let/count=0/>\n<button onClick() { count++ }>\n  ${count}\n</button>"}],_return:i},t,r,"0");const{defaultChange:e,default:a}=i();Cr()(Tr.Z,{getTranslator:function(){return n},files:a,filesChange:e},t,r,"1")}finally{(0,Lr.end)()}}),{t:_r},Fr),Nr.Component=Mr()(Fr,Nr._),(0,s.register)("OIKmBXjW",o()),(0,s.register)("07hv1F0+",l()),(0,s.register)("mFesaajv",d()),(0,s.init)()},"../../browser-shims/compiler/dist/babel-types/index.js":(e,t,r)=>{e.exports=r("../../node_modules/@marko/compiler/dist/babel-types/index.js")},"../../browser-shims/compiler/index.js":(e,t,r)=>{t.types=r("../../browser-shims/compiler/dist/babel-types/index.js")},"../../browser-shims/fs.js":(e,t,r)=>{e.exports=r("../../node_modules/memfs/lib/index.js")},"../../browser-shims/module.js":(e,t,r)=>{const n=r("../../node_modules/path-browserify/index.js"),s=r("../../node_modules/resolve/index.js"),a=r("../../node_modules/resolve.exports/dist/index.js"),o={_nodeModulePaths:function(e){const t=[];for(;;){const r=n.dirname(e);if(t.push(n.join(e,"node_modules")),!r||r===e)break;e=r}return t},_resolveFilename:function(e,t){return s.sync(e,{basedir:n.dirname(t.filename),paths:t.paths,extensions:[".js",".json",".marko",".mjs"],pathFilter(e,t,r){if(/^index(\.[^/\\]+)?$/.test(r))try{return a.legacy(e,o._resolveExportsOptions)}catch{}else try{return a.resolve(e,r,o._resolveExportsOptions)}catch{}return r}})},_resolveExportsOptions:{browser:!0}};e.exports=o},"../../browser-shims/process.js":e=>{e.exports={env:{},browser:!0,cwd:()=>"/"}},"../components/app-layout/components/layout-header/component-browser.js":(e,t,r)=>{var n=r("../components/app-layout/components/layout-header/events.js"),s="headspace--fixed",a="headspace--hidden";e.exports={onMount(){n.emit("create",this);var e,t=0,r=this.getEl("header").offsetHeight,s=(this.getEl("banner")||{offsetHeight:0}).offsetHeight,a=(e=()=>{var e=window.pageYOffset;e<=s?this.reset():!this.paused&&e>r&&(Math.abs(e-t)>=3||e>t&&t<=r)&&(e>t?this.hide():this.fix()),t=e},()=>window.requestAnimationFrame(e));a(),window.addEventListener("scroll",a)},reset(){this.removeClass(s),this.removeClass(a),n.emit("reset")},fix(){this.addClass(s),this.removeClass(a),n.emit("fix")},hide(){this.addClass(a),n.emit("hide")},addClass(e){this.getEl("header").classList.add(e)},removeClass(e){this.getEl("header").classList.remove(e)},pause(){this.paused=!0},resume(){setTimeout((()=>window.requestAnimationFrame((()=>{this.paused=!1}))))},toggleMenu(){n.emit("toggle-menu")}}},"../components/app-layout/components/layout-header/events.js":(e,t,r)=>{var n=r("../../node_modules/events/events.js");e.exports=new n},"../components/app-layout/components/layout-sidebar/component-browser.js":(e,t,r)=>{var n,s=r("../components/app-layout/components/layout-header/events.js"),a=[].forEach,o=[].filter,i=[].slice;e.exports={onMount(){this.preventOverscroll(),this.listenForHeaderChanges(),this.initScrollSpy()},initScrollSpy(){var e=[1,2,3,4,5,6].map((e=>".doc-content h"+e)).join(","),t=i.call(document.querySelectorAll(e)),r=!1;t.length&&this.subscribeTo(window).on("scroll",(()=>{r||(r=!0,setTimeout((()=>{var e,n,s=window.innerHeight/3;t.map((t=>{var r=t.getBoundingClientRect().top;(null==n||r<s&&Math.abs(r)<Math.abs(n))&&(n=r,e=t)}));var i=e.id,l=this.el.querySelector('a[href="#'+i+'"]')||this.el.querySelector("a.selected"),c=l,d=c.nextSibling;for(d&&a.call(d.querySelectorAll("a[href^=\\#]"),(e=>e.classList.remove("selected")));c;){var p=c.closest("ul"),u=p&&o.call(p.querySelectorAll(":scope > li > a[href^=\\#]"),(e=>e!==c));u&&u.forEach((e=>e.classList.remove("selected"))),c.classList.add("selected"),c=p&&p.previousElementSibling}this.scrollAnchorIntoView(l),r=!1}),50))}))},listenForHeaderChanges(){a.call(this.el.querySelectorAll("a[href^=\\#]"),(e=>{this.subscribeTo(e).on("click",(()=>{n.hide(),n.pause(),n.resume(),this.hide()}))}));var e=i.call(this.el.querySelectorAll("a.selected")).pop();e&&this.subscribeTo(e).on("click",(e=>{window.scrollTo(0,0),n.reset(),e.preventDefault()})),this.subscribeTo(s).on("reset",(()=>{this.el.classList.remove("no-header"),this.el.classList.remove("fixed"),setTimeout((()=>this.el.classList.remove("transition")),0)})).on("fix",(()=>{this.el.classList.remove("no-header"),this.el.classList.add("fixed"),setTimeout((()=>this.el.classList.add("transition")),0)})).on("hide",(()=>{this.el.classList.add("no-header"),this.el.classList.add("fixed"),setTimeout((()=>this.el.classList.add("transition")),0)})).on("toggle-menu",(()=>{this.el.classList.contains("show")?(this.el.classList.remove("show"),document.body.style.overflow=""):this.el.classList.add("show")})).on("create",(e=>{n=e,window.pageYOffset>n.el.offsetHeight&&(this.el.classList.add("no-header"),this.el.classList.add("fixed"))}))},preventOverscroll(){var e=this.getEl("sidebar");this.subscribeTo(document.body).on("wheel",(t=>{var r=t.deltaY,n=e.scrollTop+r,s=e.scrollHeight-e.offsetHeight,a=n<=0,o=n>=s;(r<0&&a||r>0&&o)&&(t.target===e||e.contains(t.target))&&(a&&0!=e.scrollTop?e.scrollTop=0:o&&e.scrollTop!=s&&(e.scrollTop=s),t.preventDefault())}))},scrollAnchorIntoView(e){for(var t,r=this.getEl("sidebar"),n=(e.offsetTop,r.scrollTop),s=r.offsetHeight,a=n+s,o=e.closest("li");(t=o.parentNode.closest("ul"))&&t.offsetHeight<s;)o=t;var i=o.offsetTop,l=o.offsetHeight;i>n&&i+l<a||(r.scrollTop=i+l/2-s/2)},hide(){this.el.classList.remove("show"),document.body.style.overflow=""}}},"../components/app-layout/components/layout-sidebar/components/version-switcher/component-browser.js":e=>{e.exports={switchVersion(e){var t=e.target.value;"current"!==t&&(e.target.value="current",window.location.href=t)}}},"../components/app-footer/ebay.svg":(e,t,r)=>{"use strict";r.p},"../components/app-footer/openjsf.svg":(e,t,r)=>{"use strict";r.p},"../components/app-footer/osi.svg":(e,t,r)=>{"use strict";r.p},"../components/app-layout/favicon.png":(e,t,r)=>{"use strict";r.p},"../logos/discord.svg":(e,t,r)=>{"use strict";r.p},"../logos/marko.svg":(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r.p+"91bc26e5.svg"},"?98fd":()=>{},"?2e65":()=>{},"?6a61":()=>{},"?e376":()=>{},"?7dc1":()=>{},"?f84f":()=>{},"?378b":()=>{},"?4c42":()=>{},"?c86f":()=>{},"?d1e8":()=>{}},e=>{e.O(0,[323,519,103,641],(()=>("./playground/v6/index.marko?browser-entry",e(e.s="./playground/v6/index.marko?browser-entry")))),e.O()}]);
//# sourceMappingURL=664.1fc2f425.js.map