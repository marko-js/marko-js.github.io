"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[215],{"../../node_modules/@marko/translator-tags/dist/index.js":(e,t,r)=>{var n,s=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,p=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))c.call(e,s)||s===r||o(e,s,{get:()=>t[s],enumerable:!(n=i(t,s))||n.enumerable});return e},d=(e,t,r)=>(r=null!=e?s(l(e)):{},p(!t&&e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)),u={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(u,{analyze:()=>ko,getRuntimeEntryFiles:()=>Io,internalEntryBuilder:()=>R,taglibs:()=>So,translate:()=>Ao}),e.exports=(n=u,p(o({},"__esModule",{value:!0}),n));var m=r("../../node_modules/@marko/babel-utils/dist/index.js"),f="marko-core",y="@marko/translator-interop-class-tags";function b(e,t){return function(e){const t=e.isMarkoTag()&&(0,m.getTagDef)(e)?.taglibId;return t===f||t===y}(e)&&e.node.name.value===t}var g=r("../../node_modules/@marko/babel-utils/dist/index.js"),h={transform:[e=>{(0,g.getTagDef)(e)?.renderer||e.replaceWithMultiple(e.node.body.body)}]},x=r("../../browser-shims/compiler/index.js"),v={migrate:[e=>{const t=e.node.var;if(!t||"Identifier"===t.type&&"input"===t.name)e.remove();else{const r=x.types.markoTag(x.types.stringLiteral("const"),[x.types.markoAttribute("value",x.types.identifier("input"))],x.types.markoTagBody([]));r.var=t,e.replaceWith(r)}}],attributes:{},autocomplete:[{displayText:"attrs/{ ... }",description:"Use to receive the attributes passed into this template.",snippet:"attrs/{ $1 }$2"}]},E=r("../../node_modules/@marko/babel-utils/dist/index.js"),w=r("../../browser-shims/compiler/index.js"),k={parse(e){const{node:t,hub:{file:r}}=e,n=t.rawValue,s=n.replace(/^client\s*/,"").trim(),o=t.name.start+(n.length-s.length);let i=(0,E.parseStatements)(r,s,o,o+s.length);1===i.length&&w.types.isBlockStatement(i[0])&&(i=i[0].body),e.replaceWith(w.types.markoScriptlet(i,!0,"client"))},parseOptions:{statement:!0,rawOpenTag:!0},autocomplete:[{displayText:"client <statement>",description:"A JavaScript statement which is only evaluated once your template is loaded on the client.",descriptionMoreURL:"https://markojs.com/docs/syntax/#client-javascript"}]},A=r("../../node_modules/@marko/babel-utils/dist/index.js"),S=r("../../node_modules/@marko/babel-utils/dist/index.js"),I=r("../../browser-shims/compiler/index.js"),j=r("../../browser-shims/compiler/index.js");function M(e){let t=e;for(;!T(t.parentPath);)if(t=t.parentPath,"AssignmentExpression"===t.type){const e=C(t);if(T(e.parentPath)){t=t.get("right");break}t=e.parentPath}return t}function T(e){switch(e.type){case"MarkoTag":case"MarkoTagBody":case"MarkoAttribute":case"MarkoSpreadAttribute":case"MarkoPlaceholder":case"MarkoScriptlet":return!0;default:return!1}}function D(e){switch(e.type){case"FunctionExpression":case"ArrowFunctionExpression":return!0;default:return!1}}function C(e){switch(e.parent.type){case"ArrayPattern":case"ObjectPattern":case"ObjectProperty":return C(e.parentPath);default:return e}}var N=d(r("../../node_modules/path-browserify/index.js")),P=r("../../node_modules/@marko/babel-utils/dist/index.js"),B=r("../../browser-shims/compiler/index.js");function O(e){if(e.downstreamExpressions.size)return!0;for(const t of e.aliases)if(O(t))return!0;for(const t of e.propertyAliases.values())if(O(t))return!0;return!1}var U=r("../../node_modules/@marko/babel-utils/dist/index.js"),F=r("../../browser-shims/compiler/index.js"),L=Symbol(),R={build(e){const t=e[L];if(!t)throw e.path.buildCodeFrameError("Unable to build hydrate code, no files were visited before finalizing the build");const r=t.imports.map((e=>F.types.importDeclaration([],F.types.stringLiteral(e))));return t.init&&(r.unshift(F.types.importDeclaration([F.types.importSpecifier(F.types.identifier("init"),F.types.identifier("init"))],F.types.stringLiteral(`@marko/runtime-tags/${e.markoOpts.optimize?"":"debug/"}dom`))),r.push(F.types.expressionStatement(F.types.callExpression(F.types.identifier("init"),[])))),r},visit(e,t,r){const n=t[L]||={imports:[],init:!1},{analyzedTags:s}=e.metadata.marko;n.imports.push((0,U.resolveRelativePath)(t,e.opts.filename)),n.init||=e.path.node.extra.hasInteractiveChild||e.path.node.extra.isInteractive||!1;for(const e of s||[])r(e)}},$=r("../../node_modules/@marko/babel-utils/dist/index.js"),_=r("../../browser-shims/compiler/index.js"),z=e=>{const t=new WeakMap;return[()=>{let r=t.get(or);return r||t.set(or,r=e()),r},e=>{t.set(or,e)}]};function W(e,t){return[r=>{const n=or.state[e]??={};return n[r.id]??=t&&t(r)},(t,r)=>{(or.state[e]??={})[t.id]=r}]}var V=r("../../node_modules/@marko/babel-utils/dist/index.js"),q=r("../../browser-shims/compiler/index.js"),J=/^<.*>$|\.marko$/;function X(e){const t=e.node.extra??={};if(void 0===t.tagNameType){const s=e.get("name");if(s.isStringLiteral()){if(t.tagNameType="@"===s.node.value[0]?3:(0,V.isNativeTag)(e)?0:1,1===t.tagNameType){const o=s.node.value,i=e.scope.getBinding(o)?.identifier;if(i){const e=(r=q.types.identifier(o),n=s.node,r.start=n.start,r.loc=n.loc,r.end=n.end,r);e.extra={referencedBindings:i.extra?.binding},Z(s.replaceWith(e)[0],t)}else{const r=(0,V.loadFileForTag)(e),n=r?.ast.program;"class"===n?.extra.featureType&&(t.tagNameType=2,t.featureType="class")}}t.tagNameNullable=t.tagNameNullable=!1}else Z(s,t);void 0===t.tagNameType&&(t.tagNameType=2)}var r,n;return t.tagNameType}function Z(e,t){const r=[e];let n,s,o,i=!1;for(;(n=r.pop())&&2!==s;)if(n.isConditionalExpression())r.push(n.get("consequent")),n.node.alternate&&r.push(n.get("alternate"));else if(n.isLogicalExpression())"||"===n.node.operator?r.push(n.get("left")):i=!0,r.push(n.get("right"));else if(n.isAssignmentExpression())r.push(n.get("right"));else if(n.isBinaryExpression())s="+"!==n.node.operator||void 0!==s?2:0;else if(n.isStringLiteral()||n.isTemplateLiteral())s=void 0!==s?2:0;else if(n.isNullLiteral())i=!0;else if(n.isIdentifier()){if("undefined"===n.node.name){i=!0;continue}const t=n.scope.getBinding(n.node.name);if(!t){s=2;continue}if("module"===t.kind){const r=t.path.parent;if(J.test(r.source.value)&&r.specifiers.some((e=>q.types.isImportDefaultSpecifier(e)))){const t=(0,V.resolveTagImport)(e,r.source.value)||r.source.value;0===s||o&&o!==t?(s=2,o=void 0):(s=1,o=t)}else s=2;continue}const a=t.path;if(a.isMarkoTag()&&"local"===t.kind){const e=a.get("name").node.value;if("const"===e){r.push(a.get("attributes")[0].get("value"));continue}if("let"===e){s=2;continue}continue}s=2}else s=2;t.tagNameType=s,t.tagNameNullable=i,t.tagNameDynamic=!0,1===s&&o&&(t.tagNameImported=o)}function K(e){const t=e.node.extra??={};let r=t.section;if(!r&&("Program"===e.type||e.get("body").length)){const n=e.parentPath?G(e.parentPath):void 0,s=e.parentPath?.get("name"),o=e.isProgram()?"":or.scope.generateUid(s.toString()+"Body"),i=e.hub.file.path.node.extra??={},a=i.sections??=[];r=t.section={id:a.length,name:o,depth:n?n.depth+1:0,parent:n,closures:new Set,bindings:new Set,startNodeContentType:se(e),endNodeContentType:oe(e),upstreamExpression:void 0},a.push(r)}return r}function G(e){let t=e;for(;;){if("Program"===t.type||"MarkoTagBody"===t.type&&0!==X(t.parentPath)&&"html-comment"!==t.parent.name.value)return K(t);t=t.parentPath}}function H(e){let t,r=e;for(;void 0===(t=r.node.extra?.section);)r=r.parentPath;return ee(t,r),t}var[Q]=W("scopeIdIdentifier",(e=>or.scope.generateUidIdentifier(`scope${e.id}_id`))),[Y,ee]=W("sectionPath"),[te]=W("scopeIdentifier",(()=>_.types.identifier("undefined"))),re=(e,t)=>{const r=te(e);return t||"undefined"!==r.name||(r.name=or.scope.generateUid(`scope${e.id}_`)),r};function ne(e){const{sections:t}=or.node.extra;t?.forEach(e)}function se(e){for(const t of e.get("body")){const e=ie(t,"startNodeContentType");if(2!==e)return e}return 2}function oe(e){const t=e.get("body");for(let e=t.length;e--;){const r=ie(t[e],"endNodeContentType");if(2!==r)return r}return 2}function ie(e,t){if(_.types.isMarkoText(e))return 5;if(_.types.isMarkoPlaceholder(e))return 3;if(_.types.isMarkoScriptlet(e)||_.types.isMarkoComment(e))return 2;if(_.types.isMarkoTag(e.node)){const r=e;if((0,$.isNativeTag)(r))return 4;if((0,$.isAttributeTag)(r))return 2;if(_.types.isStringLiteral(e.node.name)){switch(e.node.name.value){case"html-comment":return 0;case"let":case"const":case"attrs":case"effect":case"lifecycle":case"return":case"id":case"define":return 2}const n=(0,$.loadFileForTag)(r)?.ast.program.extra.section;if(n)return n[t]??2}}return 1}var ae=e=>{const t=e.upstreamExpression;return!t||Rr(t.referencedBindings)},le=(e,t)=>{for(const r of e.closures)if((!t||e.parent===r.section)&&Rr(r))return!0},ce=r("../../node_modules/@marko/babel-utils/dist/index.js"),pe=r("../../browser-shims/compiler/index.js"),de=r("../../node_modules/@marko/babel-utils/dist/index.js"),ue=r("../../browser-shims/compiler/index.js");function me(e){return e?e+"":0===e?"0":""}var fe=/[<&]/g,ye=e=>"&"===e?"&amp;":"&lt;",be=e=>fe.test(e)?e.replace(fe,ye):e;function ge(e){return e?be(e+""):0===e?"0":"&zwj;"}var he=/<\/script/g,xe=e=>he.test(e)?e.replace(he,"\\x3C/script"):e;function ve(e){return e?xe(e+""):0===e?"0":""}var Ee=/<\/style/g,we=e=>Ee.test(e)?e.replace(Ee,"\\3C/style"):e;function ke(e){return e?we(e+""):0===e?"0":""}function Ae(e,t){return t?e:""}var Se=/^(--|ta|or|li|z)|n-c|i(do|nk|m|t)|w$|we/;function Ie(e,t){return t||0===t?`${e}:${"number"==typeof t&&t&&!Se.test(e)?t+"px":t}`:""}function je(e,t,r){switch(typeof e){case"string":return e;case"object":if(null!==e){let n="",s="";if(Array.isArray(e))for(const o of e){const e=je(o,t,r);""!==e&&(n+=s+e,s=t)}else for(const o in e){const i=r(o,e[o]);""!==i&&(n+=s+i,s=t)}return n}}return""}var{hasOwnProperty:Me}={};function Te(e){return Ne("class",je(e," ",Ae))}function De(e){return Ne("style",je(e,";",Ie))}function Ce(e,t){return null==(r=t)||!1===r?"":function(e,t){switch(typeof t){case"string":return` ${e+Pe(t)}`;case"boolean":return` ${e}`;case"number":return` ${e}=${t}`;case"object":if(t instanceof RegExp)return` ${e+Pe(t.source)}`}return` ${e+Pe(t+"")}`}(e,t);var r}function Ne(e,t){return t&&` ${e}=${Oe(t)}`}function Pe(e){return e?`=${Oe(e)}`:""}(function*(){})().constructor,async function*(){}().constructor,(()=>{const e=new Map;for(const t of Object.getOwnPropertyNames(Symbol)){const r=Symbol[t];"symbol"==typeof r&&e.set(r,"Symbol."+t)}})(),new Map([[AggregateError,"AggregateError"],[Array,"Array"],[Array.from,"Array.from"],[Array.isArray,"Array.isArray"],[Array.of,"Array.of"],[ArrayBuffer,"ArrayBuffer"],[ArrayBuffer.isView,"ArrayBuffer.isView"],[Atomics.add,"Atomics.add"],[Atomics.and,"Atomics.and"],[Atomics.compareExchange,"Atomics.compareExchange"],[Atomics.exchange,"Atomics.exchange"],[Atomics.isLockFree,"Atomics.isLockFree"],[Atomics.load,"Atomics.load"],[Atomics.notify,"Atomics.notify"],[Atomics.or,"Atomics.or"],[Atomics.store,"Atomics.store"],[Atomics.sub,"Atomics.sub"],[Atomics.wait,"Atomics.wait"],[BigInt,"BigInt"],[BigInt.asIntN,"BigInt.asIntN"],[BigInt.asUintN,"BigInt.asUintN"],[BigInt64Array,"BigInt64Array"],[BigInt64Array.from,"BigInt64Array.from"],[BigInt64Array.of,"BigInt64Array.of"],[BigUint64Array,"BigUint64Array"],[BigUint64Array.from,"BigUint64Array.from"],[BigUint64Array.of,"BigUint64Array.of"],[Boolean,"Boolean"],[console.assert,"console.assert"],[console.clear,"console.clear"],[console.count,"console.count"],[console.countReset,"console.countReset"],[console.debug,"console.debug"],[console.dir,"console.dir"],[console.dirxml,"console.dirxml"],[console.error,"console.error"],[console.group,"console.group"],[console.groupCollapsed,"console.groupCollapsed"],[console.groupEnd,"console.groupEnd"],[console.info,"console.info"],[console.log,"console.log"],[console.table,"console.table"],[console.time,"console.time"],[console.timeEnd,"console.timeEnd"],[console.timeLog,"console.timeLog"],[console.timeStamp,"console.timeStamp"],[console.trace,"console.trace"],[console.warn,"console.warn"],[DataView,"DataView"],[Date,"Date"],[Date.now,"Date.now"],[Date.parse,"Date.parse"],[Date.UTC,"Date.UTC"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"],[Error,"Error"],[EvalError,"EvalError"],[Float32Array,"Float32Array"],[Float32Array.from,"Float32Array.from"],[Float32Array.of,"Float32Array.of"],[Float64Array,"Float64Array"],[Float64Array.from,"Float64Array.from"],[Float64Array.of,"Float64Array.of"],[Function,"Function"],[globalThis.atob,"atob"],[globalThis.btoa,"btoa"],[globalThis.clearImmediate,"clearImmediate"],[globalThis.clearInterval,"clearInterval"],[globalThis.clearTimeout,"clearTimeout"],[globalThis.crypto?.getRandomValues,"crypto.getRandomValues"],[globalThis.crypto?.randomUUID,"crypto.randomUUID"],[globalThis.fetch,"fetch"],[globalThis.performance?.now,"performance.now"],[globalThis.queueMicrotask,"queueMicrotask"],[globalThis.setImmediate,"setImmediate"],[globalThis.setInterval,"setInterval"],[globalThis.setTimeout,"setTimeout"],[globalThis.structuredClone,"structuredClone"],[globalThis.URL,"URL"],[globalThis.URLSearchParams,"URLSearchParams"],[globalThis.WritableStream,"WritableStream"],[Int16Array,"Int16Array"],[Int16Array.from,"Int16Array.from"],[Int16Array.of,"Int16Array.of"],[Int32Array,"Int32Array"],[Int32Array.from,"Int32Array.from"],[Int32Array.of,"Int32Array.of"],[Int8Array,"Int8Array"],[Int8Array.from,"Int8Array.from"],[Int8Array.of,"Int8Array.of"],[Intl.Collator,"Intl.Collator"],[Intl.DateTimeFormat,"Intl.DateTimeFormat"],[Intl.DisplayNames,"Intl.DisplayNames"],[Intl.getCanonicalLocales,"Intl.getCanonicalLocales"],[Intl.ListFormat,"Intl.ListFormat"],[Intl.Locale,"Intl.Locale"],[Intl.NumberFormat,"Intl.NumberFormat"],[Intl.PluralRules,"Intl.PluralRules"],[Intl.RelativeTimeFormat,"Intl.RelativeTimeFormat"],[Intl.Segmenter,"Intl.Segmenter"],[Intl.supportedValuesOf,"Intl.supportedValuesOf"],[isFinite,"isFinite"],[isNaN,"isNaN"],[JSON.parse,"JSON.parse"],[JSON.stringify,"JSON.stringify"],[Map,"Map"],[Map.groupBy,"Map.groupBy"],[Math.abs,"Math.abs"],[Math.acos,"Math.acos"],[Math.acosh,"Math.acosh"],[Math.asin,"Math.asin"],[Math.asinh,"Math.asinh"],[Math.atan,"Math.atan"],[Math.atan2,"Math.atan2"],[Math.atanh,"Math.atanh"],[Math.cbrt,"Math.cbrt"],[Math.ceil,"Math.ceil"],[Math.clz32,"Math.clz32"],[Math.cos,"Math.cos"],[Math.cosh,"Math.cosh"],[Math.exp,"Math.exp"],[Math.expm1,"Math.expm1"],[Math.floor,"Math.floor"],[Math.fround,"Math.fround"],[Math.hypot,"Math.hypot"],[Math.imul,"Math.imul"],[Math.log,"Math.log"],[Math.log10,"Math.log10"],[Math.log1p,"Math.log1p"],[Math.log2,"Math.log2"],[Math.max,"Math.max"],[Math.min,"Math.min"],[Math.pow,"Math.pow"],[Math.random,"Math.random"],[Math.round,"Math.round"],[Math.sign,"Math.sign"],[Math.sin,"Math.sin"],[Math.sinh,"Math.sinh"],[Math.sqrt,"Math.sqrt"],[Math.tan,"Math.tan"],[Math.tanh,"Math.tanh"],[Math.trunc,"Math.trunc"],[Number,"Number"],[Number.isFinite,"Number.isFinite"],[Number.isInteger,"Number.isInteger"],[Number.isNaN,"Number.isNaN"],[Number.isSafeInteger,"Number.isSafeInteger"],[Number.parseFloat,"Number.parseFloat"],[Number.parseInt,"Number.parseInt"],[Object,"Object"],[Object.assign,"Object.assign"],[Object.create,"Object.create"],[Object.defineProperties,"Object.defineProperties"],[Object.defineProperty,"Object.defineProperty"],[Object.entries,"Object.entries"],[Object.freeze,"Object.freeze"],[Object.fromEntries,"Object.fromEntries"],[Object.getOwnPropertyDescriptor,"Object.getOwnPropertyDescriptor"],[Object.getOwnPropertyDescriptors,"Object.getOwnPropertyDescriptors"],[Object.getOwnPropertyNames,"Object.getOwnPropertyNames"],[Object.getOwnPropertySymbols,"Object.getOwnPropertySymbols"],[Object.getPrototypeOf,"Object.getPrototypeOf"],[Object.is,"Object.is"],[Object.isExtensible,"Object.isExtensible"],[Object.isFrozen,"Object.isFrozen"],[Object.isSealed,"Object.isSealed"],[Object.keys,"Object.keys"],[Object.preventExtensions,"Object.preventExtensions"],[Object.seal,"Object.seal"],[Object.setPrototypeOf,"Object.setPrototypeOf"],[Object.values,"Object.values"],[parseFloat,"parseFloat"],[parseInt,"parseInt"],[Promise,"Promise"],[Proxy,"Proxy"],[RangeError,"RangeError"],[ReferenceError,"ReferenceError"],[Reflect.apply,"Reflect.apply"],[Reflect.construct,"Reflect.construct"],[Reflect.defineProperty,"Reflect.defineProperty"],[Reflect.deleteProperty,"Reflect.deleteProperty"],[Reflect.get,"Reflect.get"],[Reflect.getOwnPropertyDescriptor,"Reflect.getOwnPropertyDescriptor"],[Reflect.getPrototypeOf,"Reflect.getPrototypeOf"],[Reflect.has,"Reflect.has"],[Reflect.isExtensible,"Reflect.isExtensible"],[Reflect.ownKeys,"Reflect.ownKeys"],[Reflect.preventExtensions,"Reflect.preventExtensions"],[Reflect.set,"Reflect.set"],[Reflect.setPrototypeOf,"Reflect.setPrototypeOf"],[RegExp,"RegExp"],[Set,"Set"],[String,"String"],[String.fromCharCode,"String.fromCharCode"],[String.fromCodePoint,"String.fromCodePoint"],[String.raw,"String.raw"],[Symbol,"Symbol"],[Symbol.for,"Symbol.for"],[SyntaxError,"SyntaxError"],[TypeError,"TypeError"],[Uint16Array,"Uint16Array"],[Uint16Array.from,"Uint16Array.from"],[Uint16Array.of,"Uint16Array.of"],[Uint32Array,"Uint32Array"],[Uint32Array.from,"Uint32Array.from"],[Uint32Array.of,"Uint32Array.of"],[Uint8Array,"Uint8Array"],[Uint8Array.from,"Uint8Array.from"],[Uint8Array.of,"Uint8Array.of"],[Uint8ClampedArray,"Uint8ClampedArray"],[Uint8ClampedArray.from,"Uint8ClampedArray.from"],[Uint8ClampedArray.of,"Uint8ClampedArray.of"],[URIError,"URIError"],[WeakMap,"WeakMap"],[WeakSet,"WeakSet"]]),new Map([[Atomics,"Atomics"],[console,"console"],[globalThis,"globalThis"],[globalThis.crypto,"crypto"],[Intl,"Intl"],[JSON,"JSON"],[Math,"Math"],[Reflect,"Reflect"]]),Symbol("scopeId"),String((function(e,t,r,n,s,o,i,a,l,c){for(e=(c="RUNTIME_ID$")+e,r=(t=document)[c+"w"]||(t[c+"w"]=t.createTreeWalker(t,128));n=r.nextNode();)0===n.data.indexOf(c)&&(r[n.data]=n);for(s=t.getElementById(e),o=(i=r[e]).parentNode;a=s.firstChild;)o.insertBefore(a,i);for((l=s.parentNode).removeChild(s.nextSibling),l.removeChild(s),a=r[e+"/"];i&&(l=i.nextSibling,o.removeChild(i)!==a);)i=l})).replace("RUNTIME_ID","M");var Be=/["'>\s]/g;function Oe(e){if(Be.test(e)){const t=e[Be.lastIndex-1];return Be.lastIndex=0,'"'===t?`'${e.replace(/'/g,"&#39;")}'`:`"${e.replace(/"/g,"&#34;")}"`}return e}var Ue=r("../../browser-shims/compiler/index.js");function Fe(e,t){return e?Array.isArray(e)?(e.push(t),e):[e,t]:t}function Le(e,t){if(e)if(Array.isArray(e))for(const r of e)t(r);else t(e)}function Re(e,t,r){let n=t.length,s=0;for(;s<n;){const o=s+n>>>1,i=t[o],a=e(i,r);if(0===a)return i;a>0?n=o:s=o+1}}function $e(e,t,r){const n=t.length;let s=n,o=0;for(;o<s;){const n=o+s>>>1,i=e(t[n],r);if(0===i)return t;i>0?s=n:o=n+1}const i=new Array(n+1);for(let e=0;e<o;e++)i[e]=t[e];let a=r;for(;o<n;){const e=a;a=t[o],i[o++]=e}return i[n]=a,i}function _e(e,t,r){const n=e(t,r);return 0===n?t:n<0?[t,r]:[r,t]}function ze(e,t){const r=e.depth,n=Ue.types.objectPattern([]);let s;return Le(t,(t=>{if(t.name.includes("#"))return;const o=Fr(t),i=Ue.types.identifier(t.name),a=o.value===i.name;let l=n;if(t.section!==e){s||(s=[n]);const e=r-t.section.depth;let o=s.length,i=s[o-1];for(;o<=e;o++){const e=Ue.types.objectPattern([]);i.properties.push(Ue.types.objectProperty(Ue.types.identifier("_"),e)),s.push(e),i=e}l=s[e]}l.properties.push(Ue.types.objectProperty(a?i:o,i,!1,a))})),n}function We(e,t){let r=ir??Ue.types.identifier("undefined");const n=e.depth-t.depth;for(let e=0;e<n;e++)r=Ue.types.memberExpression(r,Ue.types.identifier("_"));if(n<0)throw new Error("Unable to find scope for reference.");return r}function Ve(e,t){return Ue.types.memberExpression(We(e,t.section),Fr(t),!0)}var qe=["createTemplate","createRenderer","value","intersection","closure","dynamicClosure","loopOf","loopIn","loopTo","conditional","bindFunction","bindRenderer"];function Je(e){const{output:t}=br();return(0,de.importNamed)(or.hub.file,function(e){const{optimize:t}=br();return`@marko/runtime-tags/${t?"":"debug/"}${"html"===e?"html":"dom"}`}(t),e)}function Xe(e,...t){const r=ue.types.callExpression(Je(e),function(e){const t=[];for(let r=e.length;r--;){const n=e[r];(n||t.length)&&(t[r]=n||ue.types.unaryExpression("void",ue.types.numericLiteral(0)))}return t}(t));return qe.includes(e)&&(r.leadingComments=[{type:"CommentBlock",value:" @__PURE__ "}]),r}function Ze(){return{escapeXML:ge,toString:me,attr:Ce,classAttr:Te,styleAttr:De,escapeScript:ve,escapeStyle:ke}}var Ke=r("../../node_modules/@marko/babel-utils/dist/index.js"),Ge=r("../../browser-shims/compiler/index.js"),He=r("../../node_modules/@marko/babel-utils/dist/index.js"),Qe=r("../../browser-shims/compiler/index.js");function Ye(e){for(const t of e.get("attributes"))if(t.isMarkoSpreadAttribute())throw t.buildCodeFrameError(`The <${e.get("name")}> tag does not support ...spread attributes.`)}function et(e){if(e.node.body.body.length)throw e.get("name").buildCodeFrameError(`The <${e.get("name")}> tag does not support body content.`)}var tt=r("../../browser-shims/compiler/index.js"),rt=r("../../browser-shims/compiler/index.js");function nt(e){const t=[],r=[];let n=e[0];for(let s=1;s<e.length;s++){let o=e[s];if("object"==typeof o){if(!rt.types.isStringLiteral(o)){if(rt.types.isTemplateLiteral(o)){let t=s+1;const r=o.expressions.length;ot(e,t,o.quasis.length+r);for(let n=0;n<r;n++)e[t++]=o.quasis[n].value.raw,e[t++]=o.expressions[n];e[t]=o.quasis[r].value.raw;continue}r.push(o),t.push(n),n="";continue}o=o.value}n+=o}return r.length?(t.push(n),rt.types.templateLiteral(t.map((e=>rt.types.templateElement({raw:e}))),r)):n?rt.types.stringLiteral(n):void 0}function st(e,t){e[e.length-1]+=t}function ot(e,t,r){for(let n=e.length-1;n>=t;n--)e[n+r]=e[n]}var it=r("../../browser-shims/compiler/index.js"),[at]=W("walks",(()=>[""])),[lt]=W("walkComment",(()=>[])),[ct]=W("steps",(()=>[])),pt={32:"get",33:"before",35:"after",36:"inside",37:"replace",38:"endChild",47:"beginChild",67:"next",97:"over",107:"out",117:"multiplier",91:"nextEnd",106:"overEnd",116:"outEnd",126:"multiplierEnd"};function dt(e){ct(H(e)).push(0)}function ut(e){ct(H(e)).push(1)}function mt(e){ct(H(e)).push(0,1)}function ft(e,t){if(fr())return;const r=H(e),n=ct(r),s=at(r),o=lt(r);let i="";if(n.length){const e=[];let t=0;for(const r of n)0===r?(t++,e.push(67)):(t--,t>=0?(e.length=e.lastIndexOf(67),e.push(97)):(e.length=e.lastIndexOf(107)+1,e.push(107),t=0));let r=e[0],s=0;for(const t of e)t!==r?(o.push(`${pt[r]}(${s})`),i+=yt(r,s),r=t,s=1):s++;o.push(`${pt[r]}(${s})`),i+=yt(r,s),n.length=0}void 0!==t&&(32!==t&&xt(e)`<!>`,o.push(`${pt[t]}`),i+=String.fromCharCode(t)),st(s,i)}function yt(e,t){switch(e){case 67:return bt(t,e,20);case 97:case 107:return bt(t,e,10);default:throw new Error(`Unexpected walk code: ${e}`)}}function bt(e,t,r){let n="";if(e>=r){const t=Math.floor(e/r);n+=bt(t,117,10),e-=t*r}return n+=String.fromCharCode(t+e),n}function gt(e){const t=1===e.startNodeContentType?String.fromCharCode(68):"",r=1===e.endNodeContentType?String.fromCharCode(68):"",n=nt([t,...at(e),r])||it.types.stringLiteral("");return""!==n.value&&(n.leadingComments=[{type:"CommentBlock",value:" "+lt(e).join(", ")+" "}]),n}var[ht]=W("writes",(()=>[""]));function xt(e){const t=H(e);return(e,...r)=>{const n=r.length,s=ht(t);st(s,e[0]);for(let t=0;t<n;t++)s.push(r[t],e[t+1])}}function vt(e){const t=ht(H(e)),r=nt(t);if(t.length=0,t[0]="",r)return tt.types.expressionStatement(Xe("write",r))}function Et(e){const t=vt(e);t&&e.insertBefore(t)[0].skip()}function wt(e){const t=e.isProgram()?e:e.get("body"),r=vt(t);r&&t.pushContainer("body",r)[0].skip()}function kt(e){const t=1===e.startNodeContentType?"<!>":"",r=1===e.endNodeContentType?"<!>":"",n=ht(e);return{setup:nr(e),walks:gt(e),writes:nt([t,...n,r])||tt.types.stringLiteral("")}}function At(e,t){const r=H(e);if(0!==t.type)throw e.buildCodeFrameError("Tried to mark a node that was not determined to need a mark during analyze.");fr()&&xt(e)`${Xe("markResumeNode",Q(r),Fr(t))}`}var[St,It]=W("returnId"),jt={translate(e){(0,He.assertNoVar)(e),(0,He.assertNoParams)(e),et(e),Ye(e);const t=H(e),{node:r,hub:{file:n}}=e,[s]=r.attributes;if(!Qe.types.isMarkoAttribute(s)||!s.default)throw e.get("name").buildCodeFrameError("The '<return>' tag requires default attribute like '<return=VALUE>'.");if(r.attributes.length>1){const t=r.attributes[1].loc?.start,n=r.attributes[r.attributes.length-1].loc?.end,s="The '<return>' tag only supports a default attribute.";throw null==t||null==n?e.get("name").buildCodeFrameError(s):e.hub.buildError({loc:{start:t,end:n}},s,Error)}const{value:o}=s;if(fr()){Et(e);const r=n.path.scope.generateUidIdentifier("return");It(t,r),e.replaceWith(Qe.types.variableDeclaration("const",[Qe.types.variableDeclarator(r,o)]))[0].skip()}else Jt(t,o.extra?.referencedBindings,{identifier:Je("tagVarSignal"),hasDownstreamIntersections:()=>!0},o),e.remove()},autocomplete:[{displayText:"return=<value>",description:"Provides a value for use in a parent template.",snippet:"return=${1:value}",descriptionMoreURL:"https://markojs.com/docs/core-tags/#return"}]},[Mt]=W("signals",(()=>new Map)),[Tt,Dt]=W("queue");function Ct(e,t){Dt(H(e.get("body")),t)}var[Nt]=W("closures",(()=>[])),Pt=(e,t,r)=>{let n=e;for(;void 0!==n&&n!==t;)Nt(n).push(r),n=n.parent},[Bt,Ot]=W("forceResumeScope");function Ut(e){Ot(e,!0)}var[Ft]=W("serializedScopeProperties",(()=>new Map)),Lt=()=>Ge.types.stringLiteral("SIGNAL NOT INITIALIZED");function Rt(e,t,r=function(e){let t;if(e)if(Array.isArray(e)){t="expr";for(const r of e)t+=`_${r.name}`}else t=e.name;else t="setup";return t}(t)){const n=Mt(e);let s=n.get(t);if(!s){const o=t&&!Array.isArray(t)&&t.section===e&&t.export;if(n.set(t,s={identifier:o?Ge.types.identifier(o):or.scope.generateUidIdentifier(r+e.name.replace("_","$")),referencedBindings:t,section:e,values:[],intersection:void 0,render:[],effect:[],effectInlineReferences:void 0,subscribers:[],closures:new Map,hasDownstreamIntersections:()=>{let r=!(!s.intersection&&!s.closures.size);if(!r)for(const e of s.values)if(e.signal.hasDownstreamIntersections()){r=!0;break}if(!r&&!Array.isArray(t)&&t){for(const n of t.aliases)if(Rt(e,n).hasDownstreamIntersections()){r=!0;break}if(!r)for(const[,n]of t.propertyAliases)if(Rt(e,n).hasDownstreamIntersections()){r=!0;break}}return s.hasDownstreamIntersections=()=>r,r},build:Lt,export:!!o}),fr())return s;if(t){if(Array.isArray(t))Wt(t,s),s.build=()=>Xe("intersection",Ge.types.numericLiteral(t.length),_t(s,[ir],t));else if(t.section!==e){const r=Rt(t.section,t);Pt(e,e.parent,s.identifier),r.closures.set(e,s),s.build=()=>{const r=Tt(e),n=We(e,t.section),o=n.object===ir;return Xe((s.isDynamicClosure=!(o&&r))?"dynamicClosure":"closure",Fr(t),_t(s,[ir,Ge.types.identifier(t.name)]),o?null:Ge.types.arrowFunctionExpression([ir],n),zt(s))}}}else s.build=()=>_t(s,[ir])}return s}function $t(e){const t=Fr(e),r=Rt(e.section,e);r.build=()=>{const n=_t(r,[ir,Ge.types.identifier(e.name)]),s=zt(r),o=!e.upstreamAlias&&(3===e.type||2===e.type);return(!e.upstreamAlias||e.property)&&(e.downstreamExpressions.size||n.body.body.length>0)||s||o||s?Xe("value",t,n,s):n},r.valueAccessor=t;for(const t of e.aliases)$t(t);for(const t of e.propertyAliases.values())$t(t);return r}function _t(e,t,r){const n=e.section,s=e.referencedBindings;if(s&&!Array.isArray(s)&&s.section===n){const[r,n]=t;for(const t of s.aliases)e.render.push(Ge.types.expressionStatement(Ge.types.callExpression(Rt(t.section,t).identifier,[r,n])));for(const[t,o]of s.propertyAliases)e.render.push(Ge.types.expressionStatement(Ge.types.callExpression(Rt(o.section,o).identifier,[r,sr(n,t)])))}for(const t of e.values)e.render.push(Ge.types.expressionStatement(Ge.types.callExpression(t.signal.identifier,[t.scope,t.value])));return r&&e.render.unshift(Ge.types.variableDeclaration("const",[Ge.types.variableDeclarator(ze(n,r),ir)])),Ge.types.arrowFunctionExpression(t,Ge.types.blockStatement(e.render))}function zt(e){const t=e.section;let r=e.intersection;const n=e.referencedBindings;if(n&&!Array.isArray(n)&&n.section===e.section){for(const e of n.aliases){const t=Rt(e.section,e);t.hasDownstreamIntersections()&&(r=Fe(r,Ge.types.identifier(t.identifier.name)))}for(const[,e]of n.propertyAliases){const t=Rt(e.section,e);t.hasDownstreamIntersections()&&(r=Fe(r,Ge.types.identifier(t.identifier.name)))}}for(const t of e.values)t.signal.hasDownstreamIntersections()&&(r=Fe(r,t.intersectionExpression??Ge.types.identifier(t.signal.identifier.name)));const s=Array.from(e.closures.entries()).sort((([e],[t])=>e.id-t.id));for(const[n,o]of s){const s=Tt(n),i=n.parent===t;s&&i?r=Fe(r,s(o.identifier)):e.hasDynamicSubscribers||(e.hasDynamicSubscribers=!0)}return e.hasDynamicSubscribers&&(e.hasDynamicSubscribers=!0,r=Fe(r,Xe("dynamicSubscribers",e.valueAccessor))),Array.isArray(r)?Xe("intersections",Ge.types.arrayExpression(r)):r}function Wt(e,t){if(Array.isArray(e))return void e.forEach((e=>Wt(e,t)));const r=Rt(t.section,e);r.intersection=Fe(r.intersection,t.identifier)}function Vt(e){for(let t=e.length-1;t>=0;t--){const r=e[t];if(Ge.types.isArrowFunctionExpression(r)){const n=r.body.body;n&&(0===n.length?e[t]=Ge.types.nullLiteral():1===n.length&&Ge.types.isExpressionStatement(n[0])&&(r.body=n[0].expression))}}for(let t=e.length-1;Ge.types.isNullLiteral(e[t]);)e.length=t--}function qt(e,t,r,n,s,o){const i=Rt(t,r),a=i[e]??=[];if(Array.isArray(n)?a.push(...n):a.push(n),"effect"===e)if(Array.isArray(s))for(const e of s)!o&&Ge.types.isFunction(e)||Xt(i,e);else!o&&Ge.types.isFunction(s)||Xt(i,s)}function Jt(e,t,r,n,s=ir,o){Rt(e,t).values.push({signal:r,value:n,scope:s,intersectionExpression:o})}function Xt(e,t){e.effectInlineReferences=Dr.union(e.effectInlineReferences,t.extra?.referencedBindings)}function Zt(e,t,r){const{markoOpts:n,opts:{filename:s}}=or.hub.file;let o="";if(t)if("string"==typeof t)o+=`_${t}`;else if(Array.isArray(t))for(const e of t)o+=`_${e.name}`;else o+=`_${t.name}`;return(0,Ke.getTemplateId)(n,`${s}_${e.id}${o}${r?"/"+r:""}`)}function Kt(e){const t=[...Mt(e).values()].sort(Gt);for(const r of t){let t;if(r.effect.length){const n=Ge.types.identifier(`${r.identifier.name}_effect`);r.effectInlineReferences&&r.effect.unshift(Ge.types.variableDeclaration("const",[Ge.types.variableDeclarator(ze(e,r.effectInlineReferences),ir)])),t=Ge.types.variableDeclarator(n,Xe("register",Ge.types.stringLiteral(Zt(e,r.referencedBindings)),Ge.types.arrowFunctionExpression([ir],1===r.effect.length&&Ge.types.isExpressionStatement(r.effect[0])?r.effect[0].expression:Ge.types.blockStatement(r.effect)))),r.render.push(Ge.types.expressionStatement(Xe("queueEffect",ir,n)))}let n=r.build();Ge.types.isCallExpression(n)&&Vt(n.arguments),r.register&&(n=Xe("registerBoundSignal",Ge.types.stringLiteral(Zt(e,r.referencedBindings)),n)),r.isDynamicClosure&&Rr(r.referencedBindings)&&(n=Xe("registerSubscriber",Ge.types.stringLiteral(Zt(e,r.referencedBindings,"subscriber")),n));const s=Ge.types.variableDeclarator(r.identifier,n);let o=Ge.types.variableDeclaration("const",[s]);r.export&&(o=Ge.types.exportNamedDeclaration(o));const i=or.pushContainer("body",t?[Ge.types.variableDeclaration("const",[t]),o]:o);for(const t of i)t.traverse(tr,{root:t,section:e})}}function Gt(e,t){const r=Ht(e),n=Ht(t);for(let e=Math.max(r.length,n.length)-1;e>=0;e--){const t=(n[e]??-1)-(r[e]??-1);if(0!==t)return t}return 0}function Ht({referencedBindings:e}){return e?Array.isArray(e)?e.map(Qt).sort():[Qt(e)]:[]}function Qt(e){return 1e4*(0===e.type?1:0)+e.id}function Yt(e,t){qt("effect",e,t,void 0,[])}function er(e,t){if(!function(e){return void 0!==e.node.extra?.section}(e))return;const r=H(e),n=Array.from(Mt(r).values()),s=Q(r);for(const t of r.closures)if(Rr(t)){let n=r;for(;n!==t.section;)Ft(n).set(Ge.types.stringLiteral("_"),Xe("ensureScopeWithId",Q(n=n.parent)));Ut(t.section);const o=r.parent?.id===t.section.id;(!Tt(r)||!o)&&e.pushContainer("body",Ge.types.expressionStatement(Xe("writeEffect",s,Ge.types.stringLiteral(Zt(r,t,"subscriber")))))}for(let t=n.length;t--;)if(n[t].effect.length){const o=n[t].referencedBindings;e.pushContainer("body",Ge.types.expressionStatement(Xe("writeEffect",s,Ge.types.stringLiteral(Zt(r,o)))))}const o=new Set,i=Ft(r),a=[];r.bindings.forEach((e=>{if(e.serialize&&0!==e.type){const t=Fr(e);a.push(Ge.types.objectProperty(t,Ge.types.identifier(e.name))),o.add(t.value)}})),t&&void 0!==St(r)&&a.push(Ge.types.objectProperty(Ge.types.stringLiteral("/"),t));for(const[e,t]of i)o.has(e.value)||(a.push(Ge.types.objectProperty(e,t,!Ge.types.isLiteral(e))),o.add(e.value));(a.length||Bt(r))&&e.pushContainer("body",Ge.types.expressionStatement(Xe("writeScope",s,Ge.types.objectExpression(a)))),e.get("body").length&&e.unshiftContainer("body",Ge.types.variableDeclaration("const",[Ge.types.variableDeclarator(s,Xe("nextScopeId"))]))}var tr={FunctionExpression:{exit:rr},ArrowFunctionExpression:{exit:rr}};function rr(e,{root:t,section:r}){const{node:n}=e,{extra:s}=n;if(!s)return;const{name:o,referencedBindings:i}=s,a=e.hub.file.path.scope.generateUidIdentifier(o);t.insertBefore(Ge.types.variableDeclaration("const",[Ge.types.variableDeclarator(a,Ge.types.arrowFunctionExpression([ir],i?Ge.types.blockStatement([Ge.types.variableDeclaration("const",[Ge.types.variableDeclarator(ze(r,i),ir)]),Ge.types.returnStatement(n)]):n))]))[0].skip(),e.replaceWith(Ge.types.callExpression(a,[ir]))[0].skip()}function nr(e){return Mt(e).get(void 0)?.identifier}function sr(e,t){const r=function(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)?Ge.types.identifier(e):/^(?:0|[1-9][0-9]*)$/.test(e)?Ge.types.numericLiteral(parseInt(e,10)):Ge.types.stringLiteral(e)}(t);return Ge.types.memberExpression(e,r,"Identifier"!==r.type)}var or,ir,ar={translate:{exit(e){ft(e);const t=H(e),{walks:r,writes:n,setup:s}=kt(t),o=e.node.extra.domExports,i=pe.types.identifier(o.template),a=pe.types.identifier(o.walks),l=pe.types.identifier(o.setup),c=pe.types.identifier(o.closures),p=e.node.extra.binding,d=p&&O(p)?$t(p):void 0;!function(e){const{sections:t}=or.node.extra;for(let r=t.length;r--;)e(t[r])}((r=>{if(r!==t){const t=Y(r),n=t.node.extra?.binding,s=n&&$t(n),{walks:o,writes:i,setup:a}=kt(r),l=Nt(r),c=pe.types.identifier(r.name),p=Xe("createRenderer",i,o,a,l.length&&pe.types.arrayExpression(l),void 0,s?.identifier);Kt(r),e.node.body.push(pe.types.variableDeclaration("const",[pe.types.variableDeclarator(c,ae(r)?Xe(r.closures.size?"registerRenderer":"register",pe.types.stringLiteral(Zt(r,"renderer")),p):p)]))}}));const u=Nt(t);Kt(t),e.node.body.push(pe.types.exportNamedDeclaration(pe.types.variableDeclaration("const",[pe.types.variableDeclarator(pe.types.identifier(o.template),n||pe.types.stringLiteral(""))])),pe.types.exportNamedDeclaration(pe.types.variableDeclaration("const",[pe.types.variableDeclarator(a,r||pe.types.stringLiteral(""))])),pe.types.exportNamedDeclaration(pe.types.variableDeclaration("const",[pe.types.variableDeclarator(l,pe.types.isNullLiteral(s)||!s?pe.types.functionExpression(null,[],pe.types.blockStatement([])):s)]))),u.length&&e.node.body.push(pe.types.exportNamedDeclaration(pe.types.variableDeclaration("const",[pe.types.variableDeclarator(c,pe.types.arrayExpression(u))])));const{markoOpts:m,opts:{filename:f}}=e.hub.file;e.node.body.push(pe.types.exportDefaultDeclaration(Xe("createTemplate",Xe("createRenderer",i,a,l,u.length&&c,void 0,d?.identifier),pe.types.stringLiteral((0,ce.getTemplateId)(m,`${f}`)))))}}},lr=r("../../node_modules/@marko/babel-utils/dist/index.js"),cr=r("../../browser-shims/compiler/index.js"),pr={translate:{exit(e){const t=H(e),r=e.scope.generateUidIdentifier("tagVar");wt(e),er(e,r);const n=St(t);void 0!==n&&e.pushContainer("body",cr.types.returnStatement(n));const s=[];for(const t of e.get("body"))(o=t).isImportDeclaration()||o.isExportDeclaration()||o.isMarkoScriptlet({static:!0})?t.isMarkoScriptlet()&&(t.node.target&&"server"!==t.node.target?t.remove():t.replaceWithMultiple(t.node.body)):(s.push(t.node),t.remove());var o;const i=e.scope.generateUidIdentifier("renderer"),{markoOpts:a,opts:{filename:l}}=e.hub.file;e.pushContainer("body",[cr.types.variableDeclaration("const",[cr.types.variableDeclarator(i,Xe("createRenderer",cr.types.arrowFunctionExpression([cr.types.identifier("input"),r],cr.types.blockStatement(s))))]),cr.types.exportDefaultDeclaration(Xe("createTemplate",i,cr.types.stringLiteral((0,lr.getTemplateId)(a,`${l}`))))])}}},dr=new WeakMap,ur={migrate:{enter(e){dr.set(e,or),e.node.params=[B.types.identifier("input")],or=e},exit(){or.scope.crawl(),or=dr.get(or)}},analyze:{enter(e){dr.set(e,or),or=e,K(e),wr(e,2);const{scope:t}=e;(e.node.extra??={}).domExports={template:t.generateUid("template_"),walks:t.generateUid("walks_"),setup:t.generateUid("setup_"),params:void 0,closures:t.generateUid("closures_")}},exit(e){!function(){const e=Sr();if(e.size){for(const[t,r]of e){const e=t.node.extra??={};let{referencedBindings:n,isEffect:s}=e;for(const t of r){const r=t?.extra;if(r){const t=r.referencedBindings;s||=r.isEffect,t&&(n=Dr.union(n,t),Le(t,(({downstreamExpressions:t})=>{t.delete(r),t.add(e)})))}}n=Ur(G(t),n),e.referencedBindings=n,e.isEffect=s}e.clear()}const t=gr();for(const e of t)if(0!==e.type&&!e.upstreamAlias&&Lr(t,e)){const{upstreamExpression:r}=e;r&&Le(r.referencedBindings,(e=>{e.downstreamExpressions.delete(r),Lr(t,e)}))}const r=new Set;for(const e of t){const{section:t}=e;t.bindings.add(e);for(const{referencedBindings:t,isEffect:n}of e.downstreamExpressions)Array.isArray(t)&&r.add(t),Le(t,(e=>{n&&(e.serialize=!0)}))}for(const e of r){const t=e.length;for(let r=0;r<t-1;r++)for(let n=r+1;n<t;n++){const t=e[r],s=e[n],o=Tr(t),i=Tr(s);t.serialize||Mr(o,i)||(t.serialize=!0),s.serialize||Mr(i,o)||(s.serialize=!0)}}ne((e=>{for(const t of e.closures)if(!t.serialize){let r=!1;const n=t.section;let s=e;for(;s!==n&&!(r=!s.upstreamExpression||Rr(s.upstreamExpression.referencedBindings));)s=s.parent;t.serialize=r}})),ne((({id:e,bindings:t})=>{const r=[...t].filter((t=>t.section.id===e)).sort(Dr.compare);for(let e=r.length;e--;)r[e].id=e}))}();const{scope:t,node:{extra:r}}=e;r.binding&&O(r.binding)&&(r.domExports.params=mr(r.binding,t)),or=dr.get(or)}},translate:{enter(e){if(dr.set(e,or),or=e,ir=yr()?e.scope.generateUidIdentifier("scope"):null,yr()&&e.scope.generateUidIdentifier("clean"),"hydrate"===br().output){const t=e.hub.file,r=new Set([(0,P.resolveRelativePath)(t,t.opts.filename)]);return R.visit(t,t,(function e(n){if(!r.has(n)){r.add(n);const s=(0,P.loadFileForImport)(t,n);s&&R.visit(s,t,(r=>e(function(e,t,r){return t===e?(0,P.resolveRelativePath)(t,r):(0,P.resolveRelativePath)(e,"."===r[0]?N.default.join(t.opts.filename,"..",r):r)}(t,s,r))))}})),e.node.body=R.build(t),void e.skip()}},exit(e){fr()?pr.translate.exit(e):ar.translate.exit(e),or=dr.get(or)}}};function mr(e,t){const r={id:e.export??=t.generateUid(e.name+"_"),props:void 0},{aliases:n,propertyAliases:s,downstreamExpressions:o}=e;if(!o.size){r.props={};for(const[e,n]of s)r.props[e]=mr(n,t);for(const e of n){const n=mr(e,t);if(!n.props)return r.props=void 0,r;r.props={...r.props,...n.props}}}return r}function fr(){return"html"===br().output}function yr(){return!fr()}function br(){return or.hub.file.markoOpts}var[gr]=z((()=>new Set)),[hr,xr]=z((()=>0));function vr(e,t,r,n,s,o){const i=hr(),a={id:i,name:e,type:t,section:r,property:o,excludeProperties:void 0,serialize:!1,aliases:new Set,propertyAliases:new Map,upstreamAlias:n,upstreamExpression:s,downstreamExpressions:new Set,export:void 0};if(o){const e=n.propertyAliases.get(o);e?(a.property=void 0,a.upstreamAlias=e,e.aliases.add(a)):n.propertyAliases.set(o,a)}else n&&n.aliases.add(a);return xr(i+1),gr().add(a),a}function Er(e,t,r,n){const s=e.node.var;if(s){const o=G(e),i=Br(r);r?.downstreamExpressions.delete(n),kr(s,t,e.scope,o,i,n,void 0)}}function wr(e,t,r,n){const s=e.node.params;if(e.get("body").length&&s.length){r?.downstreamExpressions.delete(n);const o=G(e),i=Br(r),a=i||((e.node.extra??={}).binding=vr(e.scope.generateUid("params_"),t,o,i,n,void 0));for(let r=0;r<s.length;r++)kr(s[r],t,e.scope,o,a,void 0,r+"")}}function kr(e,t,r,n,s,o,i){switch(e.type){case"Identifier":(e.extra??={}).binding=vr(e.name,t,n,s,o,i),function(e){const{identifier:t,referencePaths:r,constantViolations:n}=e,s=t.extra.binding;for(const e of r)Ar(e,s);for(const e of n){const t=e.node;j.types.isAssignmentExpression(t)&&j.types.isIdentifier(t.left)&&"="!==t.operator&&Ar(e.get("left"),s)}}(r.getBinding(e.name));break;case"ObjectPattern":{const a=(i?s.propertyAliases.get(i):s)||((e.extra??={}).binding=vr(r.generateUid("pattern_"),t,n,s,o,i));for(const s of e.properties)if("RestElement"===s.type)kr(s.argument,t,r,n,a,void 0,i);else{let e;if("Identifier"===s.key.type)e=s.key.name;else{if("StringLiteral"!==s.key.type)throw new Error("computed keys not supported in object pattern");e=s.key.value}kr(s.value,t,r,n,a,void 0,e)}break}case"ArrayPattern":{const a=(i?s.propertyAliases.get(i):s)||((e.extra??={}).binding=vr(r.generateUid("pattern_"),t,n,s,o,i));let l=-1;for(const s of e.elements)l++,s&&("RestElement"===s.type?kr(s.argument,t,r,n,a,void 0,i):kr(s,t,r,n,a,void 0,`${l}`));break}case"AssignmentPattern":kr(e.left,t,r,n,s,o,i)}}function Ar(e,t){const r=function(e){let t=e;if(!t.isProgram()){for(;!D(t);){if(T(t))return;t=t.parentPath}return t}}(e.scope.path),n=M(r||e),s=function(e){let t=e;do{t=t.parentPath}while(!T(t));return t}(n),o=G(n),i=t,a=n.node.extra??={};if(Pr(n,t),r){let e=r.node.id?.name,t=a;r!==n&&(t=r.node.extra??={},t.referencedBindings=Or(o,t.referencedBindings,i)),e||(e=s.isMarkoAttribute()?s.node.default?j.types.toIdentifier(s.parentPath.parentPath.get("name")):s.node.name:"anonymous"),t.name=e}}var[Sr]=z((()=>new Map));function Ir(e,t){Sr().set(e,t)}function jr(e,t){const r=e.length,n=r-t.length;if(0!==n)return n;for(let n=0;n<r;n++){const r=Dr.compare(e[n],t[n]);if(0!==r)return r}return 0}function Mr(e,t){for(const r of t)if(!e.has(r))return!1;return!0}function Tr(e){const t=new Set,r=new Set;return function e(n){if(4===n.type||3===n.type){let s,o=n;for(;s=o.upstreamAlias;)o=s;if(o.upstreamExpression){if(t.has(o))return;t.add(o),Le(o.upstreamExpression.referencedBindings,e)}else r.add(o)}else r.add(n)}(e),r}var Dr=new class{constructor(e){this.compare=e}add(e,t){return e?Array.isArray(e)?$e(this.compare,e,t):_e(this.compare,e,t):t}union(e,t){return e?Array.isArray(e)?t?Array.isArray(t)?function(e,t,r){const n=t.length,s=r.length;let o=0,i=0;const a=[e(t[o],r[i])<=0?t[o++]:r[i++],e(t[o],r[i])<=0?t[o++]:r[i++]];for(;o<n&&i<s;)a.push(e(t[o],r[i])<=0?t[o++]:r[i++]);if(n===s&&o===n)return t;for(;o<n;)a.push(t[o++]);for(;i<s;)a.push(r[i++]);return a}(this.compare,e,t):$e(this.compare,e,t):e:t?Array.isArray(t)?$e(this.compare,t,e):_e(this.compare,t,e):e:t}find(e,t){if(e){if(Array.isArray(e))return Re(this.compare,e,t);if(0===this.compare(e,t))return e}}}((function(e,t){return e.section.id-t.section.id||e.type!==t.type&&(0===e.type||0===t.type)?e.type-t.type:e.id-t.id})),[Cr,Nr]=W("intersections",(()=>[]));function Pr(e,t){const r=e.node.extra??={},n=G(e);r.referencedBindings=Or(n,r.referencedBindings,t),t.downstreamExpressions.add(r)}function Br(e){return e&&(e.property?e:e.upstreamAlias||e)}function Or(e,t,r){return e!==r.section&&e.closures.add(r),Ur(e,Dr.add(t,r))}function Ur(e,t){if(!t||!Array.isArray(t))return t;const r=Cr(e);let n=Re(jr,r,t);return n||(Nr(e,$e(jr,r,t)),n=t),n}function Fr(e){return br().optimize?j.types.numericLiteral(e.id):j.types.stringLiteral(e.name+(0===e.type?`/${e.id}`:""))}function Lr(e,t){let r=!t.downstreamExpressions.size;for(const n of t.aliases)Lr(e,n)?t.aliases.delete(n):r=!1;for(const[n,s]of t.propertyAliases)Lr(e,s)?t.propertyAliases.delete(n):r=!1;return r&&e.delete(t),r}function Rr(e){if(e){if(!Array.isArray(e))return $r(e);for(const t of e)if($r(t))return!0}return!1}function $r(e){switch(e.type){case 1:case 2:return!0;default:return!e.upstreamExpression||Rr(e.upstreamExpression.referencedBindings)}}var _r=r("../../browser-shims/compiler/index.js");function zr(e){const t=e.body;return 1===t.length?t[0]:_r.types.isBlockStatement(e)?e:_r.types.blockStatement(t)}var Wr=Symbol("if node binding"),Vr={analyze(e){const t=e.get("body"),r=G(e),n=e.node.extra??={};K(t),n[Wr]=vr("#text",0,r,void 0,n),Xr(e)},translate:{enter(e){const{node:t}=e,[r]=t.attributes;if((0,S.assertNoVar)(e),(0,S.assertNoParams)(e),!I.types.isMarkoAttribute(r)||!r.default)throw e.get("name").buildCodeFrameError("The '<if>' tag requires a default attribute like '<if=condition>'.");if(t.attributes.length>1){const r=t.attributes[1].loc?.start,n=t.attributes[t.attributes.length-1].loc?.end,s="The '<if>' tag only supports a default attribute.";throw null==r||null==n?e.get("name").buildCodeFrameError(s):e.hub.buildError({loc:{start:r,end:n}},s,Error)}ft(e,37),mt(e),fr()&&Et(e),Zr.enter(e)},exit(e){Zr.exit(e)}},attributes:{},autocomplete:[{snippet:"if=${1:condition}",description:"Use to display content only if the condition is met.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#if-else-if-else"}]},qr=new WeakMap;function Jr(e,t){const r=qr.get(e)??[],n=e.getNextSibling(),s=!(b(n,"else")||b(n,"else-if"));return r.push({tag:e,section:t}),s||qr.set(n,r),[s,r]}function Xr(e){const t=G(e.get("body")),[r,n]=Jr(e,t);if(r){const e=n[0].tag,t=e.node.extra;Ir(e,n.map((({tag:e})=>e.node.attributes[0]?.value))),t.singleNodeOptimization=n.every((({tag:e})=>1===e.node.body.body.length)),n.forEach((({section:e})=>{e.upstreamExpression=t}))}}var Zr={enter(e){const t=e.get("body"),r=H(t),n=function(e){return b(e,"if")?e:qr.get(e)[0].tag}(e).node.extra,s=Rr(n.referencedBindings),o=n.singleNodeOptimization;fr()&&s&&!o&&xt(t)`${Xe("markResumeScopeStart",Q(r))}`},exit(e){const t=e.get("body"),r=H(e),n=H(t),[s,o]=Jr(e,n),i=o[0].tag.node.extra,a=i[Wr],l=Rr(i.referencedBindings),c=i.singleNodeOptimization,p=le(n,!0);if(fr()&&((l||p)&&Ut(n),wt(e),Ct(e,(()=>{})),er(t)),s){const t=o[0].tag.node.extra;if(yr()){let e=I.types.nullLiteral();for(let t=o.length;t--;){const{tag:r,section:n}=o[t],[s]=r.node.attributes,i=I.types.identifier(n.name);Ct(r,(e=>Xe("inConditionalScope",e,Fr(a)))),r.remove(),e=s?I.types.conditionalExpression(s.value,i,e):i}const n=Rt(r,a,"if");n.build=()=>Xe("conditional",Fr(a),_t(n,[ir])),n.hasDownstreamIntersections=()=>o.some((e=>Nt(e.section).length>0)),Jt(r,t.referencedBindings,n,e)}else{const t=xt(e),n=e.getNextSibling(),s=e.scope.generateUidIdentifier("ifScopeId"),i=e.scope.generateUidIdentifier("ifRenderer");let d;for(let e=o.length;e--;){const{tag:t,section:r}=o[e],n=le(r,!0);l&&t.node.body.body.push(I.types.expressionStatement(Xe("register",I.types.assignmentExpression("=",i,Xe("createRenderer",I.types.arrowFunctionExpression([],I.types.blockStatement([])))),I.types.stringLiteral(Zt(r,"renderer")),r.closures.size&&Q(r.parent)))),(l||n)&&t.node.body.body.push(I.types.expressionStatement(I.types.assignmentExpression("=",s,Q(r))));const[a]=t.node.attributes,c=zr(t.node.body);d=a?I.types.ifStatement(a.value,c,d):c,t.remove()}l||p?(n.insertBefore([I.types.variableDeclaration("let",[I.types.variableDeclarator(s),l&&I.types.variableDeclarator(i)].filter(Boolean)),d]),l&&(c?t`${Xe("markResumeControlSingleNodeEnd",Q(r),Fr(a),s)}`:t`${Xe("markResumeControlEnd",Q(r),Fr(a))}`,Ft(r).set(I.types.stringLiteral(Fr(a).value+"("),i)),Ft(r).set(I.types.stringLiteral(Fr(a).value+"!"),Xe("getScopeById",s))):n.insertBefore(d)}}}},Kr={analyze:Xr,translate:{enter(e){const{node:t}=e,[r]=t.attributes;if((0,A.assertNoVar)(e),(0,A.assertNoParams)(e),t.attributes.length>1||r&&"if"!==r.name){const r=t.attributes[1].loc?.start,n=t.attributes[t.attributes.length-1].loc?.end,s="The '<else>' tag only supports an if attribute.";throw null==r||null==n?e.get("name").buildCodeFrameError(s):e.hub.buildError({loc:{start:r,end:n}},s,Error)}Zr.enter(e)},exit(e){Zr.exit(e)}},attributes:{},autocomplete:[{description:"Use after an <if> or <else-if> tag to display content if those conditions do not match.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#if-else-if-else"}]},Gr=r("../../node_modules/@marko/babel-utils/dist/index.js"),Hr=r("../../browser-shims/compiler/index.js"),Qr={analyze:Xr,translate:{enter(e){const{node:t}=e,[r]=t.attributes;if((0,Gr.assertNoVar)(e),(0,Gr.assertNoParams)(e),!Hr.types.isMarkoAttribute(r)||!r.default)throw e.get("name").buildCodeFrameError("The '<else-if>' tag requires a default attribute like '<else-if=condition>'.");if(t.attributes.length>1){const r=t.attributes[1].loc?.start,n=t.attributes[t.attributes.length-1].loc?.end,s="The '<else-if>' tag only supports a default attribute.";throw null==r||null==n?e.get("name").buildCodeFrameError(s):e.hub.buildError({loc:{start:r,end:n}},s,Error)}Zr.enter(e)},exit(e){Zr.exit(e)}},attributes:{},autocomplete:[{snippet:"else-if=${1:condition}",description:"Use after an <if> or <else-if> tag to display content if those conditions do not match and this one does.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#if-else-if-else"}]},Yr=r("../../node_modules/@marko/babel-utils/dist/index.js"),en=r("../../browser-shims/compiler/index.js"),tn=r("../../browser-shims/compiler/index.js");function rn(e,t,r="const"){const{node:{var:n}}=e;n&&e.insertBefore(tn.types.variableDeclaration(r,[tn.types.variableDeclarator(tn.types.cloneDeep(n),t)]))}var nn={analyze(e){(0,Yr.assertNoParams)(e),et(e);const{node:t}=e,[r]=t.attributes;if(!t.var)throw e.get("name").buildCodeFrameError("The 'const' tag requires a tag variable.");if(!r)throw e.get("name").buildCodeFrameError("The 'const' tag requires a default attribute.");if(t.attributes.length>1||!en.types.isMarkoAttribute(r)||!r.default&&"value"!==r.name)throw e.get("name").buildCodeFrameError("The 'const' tag only supports the 'default' attribute.");const n=en.types.isIdentifier(r.value)?e.scope.getBinding(r.value.name)?.identifier.extra?.binding:void 0;Er(e,4,n,r.value.extra??={})},translate(e){const{node:t}=e,[r]=t.attributes,{value:n}=r;if(yr()){const r=H(e),s=t.var.extra?.binding;if(s&&!s.upstreamAlias){const e=$t(s);Jt(r,n.extra?.referencedBindings,e,n)}}else rn(e,n);e.remove()},attributes:{},autocomplete:[{description:"Use to create an constant binding.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#const"}],types:"@marko/translator-tags/tag-types/const.d.marko"},sn=r("../../node_modules/@marko/babel-utils/dist/index.js"),on=r("../../browser-shims/compiler/index.js"),an={analyze(e){const[t]=e.node.attributes;if((0,sn.assertNoParams)(e),et(e),e.node.attributes.length>1||1===e.node.attributes.length&&(!on.types.isMarkoAttribute(t)||!t.default&&"value"!==t.name))throw e.get("name").buildCodeFrameError("The 'debug' tag only supports the 'value' attribute.")},translate(e){const t=H(e),[r]=e.node.attributes,n=r?.value.extra?.referencedBindings,s=on.types.debuggerStatement();fr()?e.insertBefore(s):qt("render",t,n,s),e.remove()},attributes:{},autocomplete:[{description:"Debug on value change.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#debug"}],types:"@marko/translator-tags/tag-types/debug.d.marko"},ln=(r("../../node_modules/@marko/babel-utils/dist/index.js"),r("../../browser-shims/compiler/index.js")),cn=r("../../browser-shims/compiler/index.js"),pn=r("../../browser-shims/compiler/index.js"),dn=/^[0-9A-Z_$]+$/i,un=new WeakMap,mn={FunctionExpression:{exit:yn},ArrowFunctionExpression:{exit:yn}},fn={FunctionExpression:{exit:bn},ArrowFunctionExpression:{exit:bn}};function yn(e,t){const r=e.node.extra;if(!r)return;const n=Ft(t.section);Le(r.referencedBindings,(e=>{n.set(Fr(e),cn.types.identifier(e.name))})),e.replaceWith(Xe("register",e.node,cn.types.stringLiteral(r.registerId),Q(t.section)))[0].skip()}function bn(e,t){const{node:r}=e,n=r.extra;if(!n)return;const{referencedBindings:s}=n,o=or.scope.generateUidIdentifier(n.name);or.pushContainer("body",cn.types.variableDeclaration("const",[cn.types.variableDeclarator(o,Xe("register",cn.types.stringLiteral(n.registerId),cn.types.arrowFunctionExpression([ir],s?cn.types.blockStatement([cn.types.variableDeclaration("const",[cn.types.variableDeclarator(ze(t.section,s),ir)]),cn.types.returnStatement(r)]):r)))]))[0].skip(),e.replaceWith(cn.types.callExpression(o,[ir]))[0].skip()}function gn(e,t=!1){const{node:r}=e;let n=cn.types.objectExpression([]);const s=n.extra={},o=H(e),i=fr()?mn:fn;for(const t of e.get("attributes")){t.traverse(i,{section:o});const e=t.node.value;t.isMarkoSpreadAttribute()?n.properties.push(cn.types.spreadElement(e)):n.properties.push(cn.types.objectProperty((a=t.node.name,dn.test(a)?pn.types.identifier(a):pn.types.stringLiteral(a)),e))}var a;if(t){const{body:t,params:s}=r.body;let o=r.extra.hoistedControlFlows;if(o)for(const t of e.get("body").get("body"))if(e.insertBefore(t.node),t.remove(),(t.isConditional()||t.isLoop())&&! --o)break;if(t.length){const r=H(e.get("body")),o=cn.types.arrowFunctionExpression(s,cn.types.blockStatement(t));un.set(n,o),fr()?n.properties.push(cn.types.objectProperty(cn.types.identifier("renderBody"),Xe("register",Xe("createRenderer",o),cn.types.stringLiteral(Zt(r,"renderer")),r.closures.size&&Q(r.parent)))):n.properties.push(cn.types.objectProperty(cn.types.identifier("renderBody"),o))}}if(n.properties.length&&1===n.properties.length){const[e]=n.properties;cn.types.isSpreadElement(e)&&(n=e.argument,n.extra=s)}if(r.arguments?.length)if(n.properties.length)n=cn.types.arrayExpression([...r.arguments,n]);else if(1==r.arguments.length){const e=r.arguments[0];n=cn.types.isSpreadElement(e)?e.argument:e}else n=cn.types.arrayExpression(r.arguments);return n}function hn(e){if(cn.types.isObjectExpression(e)){const t=e.properties[e.properties.length-1];if(cn.types.isObjectProperty(t)&&"renderBody"===t.key.name)return un.get(e)}}var xn={analyze(e){const t=e.get("body");K(t),Er(e,4),wr(t,3),Ir(e,e.node.attributes.map((e=>e.value)))},translate:{enter(e){if(!e.node.var)throw e.get("name").buildCodeFrameError("<define> requires a variable to be specified, eg <define/NAME>.");fr()&&Et(e)},exit(e){const{node:t}=e;if(fr())wt(e),er(e.get("body")),rn(e,gn(e,!0));else{const r=H(e),n=H(e.get("body")),s=t.extra?.referencedBindings,o=$t(e.get("var").node.extra.binding);let i=gn(e);n!==r&&(i??=ln.types.objectExpression([]),i.properties.push(ln.types.objectProperty(ln.types.identifier("renderBody"),Xe("bindRenderer",ir,ln.types.identifier(n.name))))),Jt(r,s,o,i)}e.remove()}},attributes:{},autocomplete:[{description:"Use to create a constant object binding that can be rendered.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#define"}],types:"@marko/translator-tags/tag-types/define.d.marko"},vn=r("../../node_modules/@marko/babel-utils/dist/index.js"),En=r("../../browser-shims/compiler/index.js"),wn={analyze(e){const[t]=e.node.attributes;if((0,vn.assertNoParams)(e),et(e),!t)throw e.get("name").buildCodeFrameError("The 'do' tag requires a 'value' attribute.");if(e.node.attributes.length>1||!En.types.isMarkoAttribute(t)||!t.default&&"value"!==t.name)throw e.get("name").buildCodeFrameError("The 'do' tag only supports the 'value' attribute.")},translate(e){const t=H(e),[r]=e.node.attributes,{value:n}=r,s=n.extra?.referencedBindings;let o=null;if(En.types.isFunctionExpression(n)||En.types.isArrowFunctionExpression(n))if(En.types.isBlockStatement(n.body)){let e=!1;for(const t of n.body.body)if(En.types.isDeclaration(t)){e=!0;break}o=e?n.body:n.body.body}else o=En.types.expressionStatement(n.body);fr()?o?e.insertBefore(o):e.insertBefore(En.types.expressionStatement(En.types.callExpression(n,[]))):qt("render",t,s,o??En.types.expressionStatement(En.types.callExpression(n,[ir]))),e.remove()},attributes:{},autocomplete:[{description:"Use to run a function on render.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#do"}],types:"@marko/translator-tags/tag-types/do.d.marko"},kn=r("../../node_modules/@marko/babel-utils/dist/index.js"),An=r("../../browser-shims/compiler/index.js"),Sn={analyze(e){const{node:t}=e,[r]=t.attributes;if((0,kn.assertNoParams)(e),et(e),t.attributes.length>1||!An.types.isMarkoAttribute(r)||!r.default&&"value"!==r.name)throw e.get("name").buildCodeFrameError("The 'effect' tag only supports the 'value' attribute.");if(!r)throw e.get("name").buildCodeFrameError("The 'effect' tag requires a 'value' attribute.");(r.value.extra??={}).isEffect=!0,(or.node.extra??={}).isInteractive=!0},translate:{exit(e){const{node:t}=e,[r]=t.attributes,n=H(e),{value:s}=r,o=s.extra?.referencedBindings;if(yr()){const{value:e}=r;let t=null;if(An.types.isFunctionExpression(e)||An.types.isArrowFunctionExpression(e))if(An.types.isBlockStatement(e.body)){let r=!1;for(const t of e.body.body)if(An.types.isDeclaration(t)){r=!0;break}t=r?e.body:e.body.body}else t=An.types.expressionStatement(e.body);qt("effect",n,o,t||An.types.expressionStatement(An.types.callExpression(e,[ir])),e,!!t)}else Yt(n,o);e.remove()}},attributes:{},autocomplete:[{description:"Use to create a side effects.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#effect"}],types:"@marko/translator-tags/tag-types/effect.d.marko"},In=r("../../node_modules/@marko/babel-utils/dist/index.js"),jn={parse(e){const{node:t}=e;e.replaceWith((0,In.parseStatements)(e.hub.file,t.rawValue,t.start,t.end)[0])},parseOptions:{statement:!0,rawOpenTag:!0},autocomplete:[{displayText:"export <value>"}]},Mn=r("../../node_modules/@marko/babel-utils/dist/index.js"),Tn=r("../../browser-shims/compiler/index.js"),Dn=r("../../node_modules/@marko/babel-utils/dist/index.js");function Cn(e){const t=e.node.extra??={};t.nestedAttributeTags={},t.hoistedControlFlows=0,Nn(t,!1,!1,e)}function Nn(e,t,r,n){let s=!1;for(const o of n.get("body").get("body"))o.isMarkoTag()&&Pn(e,t,r,o)&&(s=!0);return s}function Pn(e,t,r,n){if((0,Dn.isTransparentTag)(n)){if(Nn(e,t||(0,Dn.isLoopTag)(n),!0,n))return(0,Dn.isTransparentTag)(n.parentPath.parentPath)||e.hoistedControlFlows++,!0}else if((0,Dn.isAttributeTag)(n)){const s=n.node.name.value.slice(1),o=e.nestedAttributeTags,i=o[s],a=i||(o[s]={dynamic:!1,repeated:!1});return a.dynamic||=r,a.repeated||=t||void 0!==i,!0}return!1}var Bn=r("../../node_modules/@marko/babel-utils/dist/index.js"),On=r("../../browser-shims/compiler/index.js"),Un=r("../../node_modules/@marko/babel-utils/dist/index.js");function Fn(e){let{extra:t}=e.node;if(t||(t=e.node.extra={}),void 0===t.confident){const r=(0,Un.computeNode)(e.node.value);r?(t.computed=r.value,t.confident=!0):(t.computed=void 0,t.confident=!1)}return t}var Ln=Symbol("native tag binding"),Rn=Symbol("serialize marker"),$n={analyze:{enter(e){const{node:t}=e,r=e.get("attributes");let n=!1,s=!1;for(const t of r)_n(t)?((t.node.value.extra??={}).isEffect=!0,n=!0,s=!0,Ir(e,r.map((e=>e.node.value)))):zn(t.node.name)?((t.node.value.extra??={}).isEffect=!0,n=!0):Fn(t).confident||(s=!0);if(e.has("var")||n||s){or.node.extra.isInteractive||=n;const r=G(e),s="StringLiteral"===t.name.type?t.name.value:On.types.toIdentifier(e.get("name")),o=t.extra??={};o[Rn]=e.has("var")||n,o[Ln]=vr("#"+s,0,r)}}},translate:{enter(e){(0,Bn.assertNoArgs)(e);const t=e.node.extra,r=t[Ln],n=fr(),s=e.get("name"),o=e.get("attributes"),i=(0,Bn.getTagDef)(e),a=o.some((e=>e.isMarkoSpreadAttribute())),l=xt(e),c=H(e);if(n&&t.tagNameNullable&&Et(e),e.has("var"))if(n)rn(e,On.types.arrowFunctionExpression([],On.types.blockStatement([On.types.throwStatement(On.types.newExpression(On.types.identifier("Error"),[On.types.stringLiteral("Cannot reference DOM node from server")]))])));else{const t=e.node.var.name,n=e.scope.getBinding(t).referencePaths;let s;for(const e of n){const n=H(e);e.parentPath?.isCallExpression()?e.parentPath.replaceWith(On.types.expressionStatement(Ve(n,r))):(s??=On.types.identifier(t+"_getter"),e.replaceWith(Xe("bindFunction",We(n,c),s)))}s&&or.pushContainer("body",On.types.variableDeclaration("const",[On.types.variableDeclarator(s,On.types.arrowFunctionExpression([ir],On.types.memberExpression(ir,Fr(r),!0)))]))}let p;if(r&&(p=Fr(r),ft(e,32)),l`<${s.node}`,a){const r=gn(e);n?(Yt(c,t.referencedBindings),l`${Xe("attrs",r,p,Q(c))}`):(qt("render",c,t.referencedBindings,On.types.expressionStatement(Xe("attrs",ir,p,r))),qt("effect",c,t.referencedBindings,On.types.expressionStatement(Xe("attrsEvents",ir,p)),r))}else for(const e of o){const t=e.node.name,r=e.get("value"),{confident:s,computed:o}=e.node.extra??{},i=r.node.extra?.referencedBindings;switch(t){case"class":case"style":{const e=`${t}Attr`;s?l`${Ze()[e](o)}`:n?l`${Xe(e,r.node)}`:qt("render",c,i,On.types.expressionStatement(Xe(e,On.types.memberExpression(ir,p,!0),r.node)));break}default:s?l`${Ze().attr(t,o)}`:n?zn(t)?Yt(c,i):l`${Xe("attr",On.types.stringLiteral(t),r.node)}`:zn(t)?qt("effect",c,i,On.types.expressionStatement(Xe("on",On.types.memberExpression(ir,p,!0),On.types.stringLiteral("-"===(d=t).charAt(2)?d.slice(3):d.charAt(2).toLowerCase()+d.slice(3)),r.node)),r.node):qt("render",c,i,On.types.expressionStatement(Xe("attr",On.types.memberExpression(ir,p,!0),On.types.stringLiteral(t),r.node)))}}var d;if(i&&i.parseOptions?.openTagOnly)switch(i.htmlType){case"svg":case"math":l`/>`;break;default:l`>`}else l`>`;n&&t.tagNameNullable&&e.insertBefore(On.types.ifStatement(s.node,vt(e)))[0].skip(),dt(e)},exit(e){const t=e.node.extra,r=t[Ln],n=fr(),s=(0,Bn.getTagDef)(e)?.parseOptions?.openTagOnly;n&&t.tagNameNullable&&wt(e),e.insertBefore(e.node.body.body).forEach((e=>e.skip())),s||xt(e)`</${e.node.name}>`,n&&t.tagNameNullable&&e.insertBefore(On.types.ifStatement(e.node.name,vt(e)))[0].skip(),r&&(t[Rn]||e.node.attributes.some((e=>Rr(e.value.extra?.referencedBindings))))&&At(e,r),ut(e),e.remove()}}};function _n(e){return"MarkoSpreadAttribute"===e.type}function zn(e){return/^on[A-Z-]/.test(e)}var Wn=Symbol("for marker binding"),Vn={analyze(e){const t=function(e){const t=e.node.extra;return Tn.types.isMarkoTag(e.parentPath?.parent)&&(0,Mn.getTagDef)(e.parentPath.parentPath)?.html?t.isOnlyChild=1===e.parent.body.length:t.isOnlyChild=!1}(e),r=e.node.extra??={},n=e.get("body"),s=G(e),o=K(n);if(t){const t=e.parentPath.parent,r=t.name?.value;(t.extra??={})[Ln]??=vr("#"+r,0,s)}else r[Wn]=vr("#text",0,s);wr(n,3,void 0,r),Cn(e),Ir(e,e.node.attributes.map((e=>e.value))),o.upstreamExpression=r,r.singleNodeOptimization=1===e.node.body.body.length},translate:{enter(e){!function(e){const t=e.node.attributes,r=e.node.body.params.length>0;if((0,Mn.assertNoVar)(e),Xn(t,"of")){if((0,Mn.assertAllowedAttributes)(e,["of","by"]),!r)throw e.buildCodeFrameError("Invalid 'for of' tag, missing |value, index| params.")}else if(Xn(t,"in")){if((0,Mn.assertAllowedAttributes)(e,["in","by"]),!r)throw e.buildCodeFrameError("Invalid 'for in' tag, missing |key, value| params.")}else{if(!Xn(t,"to"))throw e.buildCodeFrameError("Invalid 'for' tag, missing an 'of', 'in' or 'to' attribute.");(0,Mn.assertAllowedAttributes)(e,["from","to","step","by"])}}(e);const t=e.get("body"),r=H(t),n=e.node.extra,{singleNodeOptimization:s,isOnlyChild:o}=n,i=Rr(n.referencedBindings),a=n.nestedAttributeTags&&Object.keys(n.nestedAttributeTags).length>0;o||(ft(e,37),mt(e)),fr()&&(Et(e),!i||s||a||xt(t)`${Xe("markResumeScopeStart",Q(r))}`)},exit(e){fr()?Jn.exit(e):qn.exit(e)}},attributes:{of:{type:"expression",autocomplete:[{description:"Iterates over a list of items."}]},in:{type:"expression",autocomplete:[{description:"Iterates over the keys and values of an object."}]},to:{type:"number",autocomplete:[{description:"Iterates up to the provided number (inclusive)"}]},from:{type:"number",autocomplete:[{description:"Iterates starting from the provided number (inclusive)"}]},step:{type:"number",autocomplete:[{description:"The amount to increment during each interation (with from/to)"}]}},autocomplete:[{snippet:"for|${1:value, index}| of=${3:array}",description:"Use to iterate over lists, object properties, or between ranges.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#iterating-over-a-list"},{snippet:"for|${1:name, value}| in=${3:object}",descriptionMoreURL:"https://markojs.com/docs/core-tags/#iterating-over-an-objects-properties"},{snippet:"for|${1:index}| from=${2:number} to=${3:number} step=${4:number}",descriptionMoreURL:"https://markojs.com/docs/core-tags/#iterating-between-a-range-of-numbers"}]},qn={exit(e){const t=e.get("body"),r=H(e),n=H(t),{node:s}=e,{attributes:o}=s,{isOnlyChild:i,referencedBindings:a}=s.extra,l=i?e.parentPath.parent.extra[Ln]:e.node.extra[Wn];Ct(e,(e=>Xe("inLoopScope",e,Fr(l)))),e.remove();const c=Tn.types.identifier(n.name),p=Xn(o,"of"),d=Xn(o,"to"),u=Xn(o,"in"),m=[];let f;if(p)f="loopOf",m.push(p.value);else if(u)f="loopIn",m.push(u.value);else{if(!d)throw e.get("name").buildCodeFrameError("Invalid <for> tag. Expected either an 'of', 'to', or 'in' attribute.");{const e=Xn(o,"from"),t=Xn(o,"step");f="loopTo",m.push(d.value,e?e.value:Tn.types.numericLiteral(0),t?t.value:Tn.types.numericLiteral(1))}}const y=Xn(o,"by");y&&m.push(y.value);const b=Rt(r,l,"for");b.build=()=>Xe(f,Fr(l),c);const g=Object.values(t.getBindingIdentifiers());b.hasDownstreamIntersections=()=>{if(Nt(n).length>0)return!0;if(g.length){const e=g[0].extra.binding;for(const{referencedBindings:t}of e.downstreamExpressions)if(Rt(n,t).hasDownstreamIntersections())return!0}return!1},Jt(r,a,b,Tn.types.arrayExpression(m))}},Jn={exit(e){const t=e.get("body"),r=H(e),n=H(t),{node:s}=e,{attributes:o,body:{body:i,params:a}}=s,l=s.extra,{singleNodeOptimization:c,isOnlyChild:p}=l,d=Rr(l.referencedBindings),u=l.nestedAttributeTags&&Object.keys(l.nestedAttributeTags).length>0,m=p?e.parentPath.parent.extra[Ln]:e.node.extra[Wn],f=e.get("name"),y=Xn(o,"of"),b=Xn(o,"in"),g=Xn(o,"to"),h=Xn(o,"by"),x=Tn.types.blockStatement(i),v=xt(e),E=[],w=le(n,!0);let k,A=Tn.types.identifier("NOO");if(d&&p&&(e.parentPath.parent.extra[Rn]=!0),(d||w)&&Ut(n),h&&d){const e=or.scope.generateUidIdentifier("by");E.push(Tn.types.variableDeclaration("const",[Tn.types.variableDeclarator(e,h.value)])),k=[],A=Tn.types.callExpression(e,k)}if(b){const[e,t]=a;A=e,t&&x.body.unshift(Tn.types.variableDeclaration("const",[Tn.types.variableDeclarator(t,Tn.types.memberExpression(b.value,e,!0))])),E.push(Tn.types.forInStatement(Tn.types.variableDeclaration("const",[Tn.types.variableDeclarator(e)]),b.value,x))}else if(y){let t=y.value,[r,n,s]=a;if(!r)throw f.buildCodeFrameError("Invalid 'for of' tag, missing |value, index| params.");if(!Tn.types.isIdentifier(r)&&k){const e=or.scope.generateUidIdentifier("v");x.body.unshift(Tn.types.variableDeclaration("const",[Tn.types.variableDeclarator(r,e)])),r=e}if(n||d||w){n??=or.scope.generateUidIdentifier("i");const t=e.scope.generateUidIdentifierBasedOnNode(n,"i");E.push(Tn.types.variableDeclaration("let",[Tn.types.variableDeclarator(t,Tn.types.numericLiteral(0))])),x.body.unshift(Tn.types.variableDeclaration("let",[Tn.types.variableDeclarator(n,Tn.types.updateExpression("++",t))]))}s&&(Tn.types.isIdentifier(s)&&(t=s),E.push(Tn.types.variableDeclaration("const",[Tn.types.variableDeclarator(s,y.value)]))),k?k.push(r,n):A=n,E.push(Tn.types.forOfStatement(Tn.types.variableDeclaration("const",[Tn.types.variableDeclarator(r)]),t,x))}else if(g){const t=Xn(o,"step")?.value??Tn.types.numericLiteral(1),r=Xn(o,"from")?.value??Tn.types.numericLiteral(0);let[n]=a;const s=e.scope.generateUidIdentifier("steps"),i=e.scope.generateUidIdentifier("i"),l=e.scope.generateUidIdentifier("step"),c=e.scope.generateUidIdentifier("from");(n||d||w)&&(n??=or.scope.generateUidIdentifier("i"),A=n,x.body.unshift(Tn.types.variableDeclaration("const",[Tn.types.variableDeclarator(n,Tn.types.binaryExpression("+",c,Tn.types.binaryExpression("*",i,l)))]))),E.push(Tn.types.forStatement(Tn.types.variableDeclaration("let",[Tn.types.variableDeclarator(c,Tn.types.logicalExpression("??",r,Tn.types.numericLiteral(0))),Tn.types.variableDeclarator(l,Tn.types.logicalExpression("??",t,Tn.types.numericLiteral(1))),Tn.types.variableDeclarator(s,Tn.types.binaryExpression("/",Tn.types.binaryExpression("-",g.value,c),l)),Tn.types.variableDeclarator(i,Tn.types.numericLiteral(0))]),Tn.types.binaryExpression("<=",i,s),Tn.types.updateExpression("++",i),x))}if((d||w)&&!u){const t=e.scope.generateUidIdentifier("forScopeIds"),s=re(n);E.unshift(Tn.types.variableDeclaration("const",[d&&c&&Tn.types.variableDeclarator(t,Tn.types.arrayExpression([])),Tn.types.variableDeclarator(s,Tn.types.newExpression(Tn.types.identifier("Map"),[]))].filter(Boolean))),d&&(c?(x.body.push(Tn.types.expressionStatement(Tn.types.callExpression(Tn.types.memberExpression(t,Tn.types.identifier("push")),[Q(n)]))),v`${Xe("markResumeControlSingleNodeEnd",Q(r),Fr(m),t)}`):v`${Xe("markResumeControlEnd",Q(r),Fr(m))}`),Ft(r).set(Tn.types.stringLiteral(Fr(m).value+"("),Tn.types.conditionalExpression(Tn.types.memberExpression(s,Tn.types.identifier("size")),s,Tn.types.identifier("undefined")))}wt(e),Ct(e,(()=>{})),er(t),(d||w)&&e.node.body.body.push(Tn.types.expressionStatement(Tn.types.callExpression(Tn.types.memberExpression(re(n),Tn.types.identifier("set")),[A,Xe("getScopeById",Q(n))]))),x.body.push(Tn.types.expressionStatement(Xe("maybeFlush"))),e.replaceWithMultiple(E)}};function Xn(e,t){return e.find((e=>Tn.types.isMarkoAttribute(e)&&e.name===t))}var Zn=r("../../node_modules/@marko/babel-utils/dist/index.js"),Kn=r("../../browser-shims/compiler/index.js"),Gn=Symbol("comment tag binding"),Hn={analyze(e){(0,Zn.assertNoParams)(e),(0,Zn.assertNoAttributes)(e),(0,Zn.assertNoAttributeTags)(e);let t=!1;if(e.has("var")){if(!Kn.types.isIdentifier(e.node.var))throw e.get("var").buildCodeFrameError("The `<html-comment>` tag's return value cannot be destructured.");t=!0}const r=[];for(const n of e.get("body").get("body"))if(n.isMarkoPlaceholder())r.push(n.node.value),t=!0;else if(!n.isMarkoText())throw n.buildCodeFrameError("Invalid child. Only text is allowed inside an html comment.");if(t){const t=G(e);(e.node.extra??={})[Gn]=vr("#comment",0,t),Ir(e,r)}e.skip()},translate:{enter(e){const t=e.node.extra,r=t[Gn];if(e.has("var"))if(fr())rn(e,Kn.types.arrowFunctionExpression([],Kn.types.blockStatement([Kn.types.throwStatement(Kn.types.newExpression(Kn.types.identifier("Error"),[Kn.types.stringLiteral("Cannot reference a DOM node from the server")]))])));else{const t=e.node.var.name,n=e.scope.getBinding(t).referencePaths;let s;for(const o of n){const n=H(o);o.parentPath?.isCallExpression()?o.parentPath.replaceWith(Kn.types.expressionStatement(Ve(n,r))):(s??=Kn.types.identifier(t+"_getter"),o.replaceWith(Xe("bindFunction",We(n,H(e)),s)))}s&&or.pushContainer("body",Kn.types.variableDeclaration("const",[Kn.types.variableDeclarator(s,Kn.types.arrowFunctionExpression([ir],Kn.types.memberExpression(ir,Fr(r),!0)))]))}t[Gn]&&ft(e,32);const n=xt(e);if(dt(e),n`<!--`,fr())for(const t of e.node.body.body)Kn.types.isMarkoText(t)?n`${t.value}`:Kn.types.isMarkoPlaceholder(t)&&n`${Xe("escapeXML",t.value)}`;else{const s=[],o=[];let i="";for(const t of e.node.body.body)Kn.types.isMarkoText(t)?i+=t.value:Kn.types.isMarkoPlaceholder(t)&&(s.push(Kn.types.templateElement({raw:i})),o.push(t.value),i="");0===o.length?n`${i}`:(s.push(Kn.types.templateElement({raw:i})),qt("render",H(e),t.referencedBindings,Kn.types.expressionStatement(Xe("data",Kn.types.memberExpression(ir,Fr(r),!0),Kn.types.templateLiteral(s,o)))))}ut(e),n`-->`,r&&At(e,r),e.remove()}},parseOptions:{text:!0},attributes:{},autocomplete:[{description:"Use to create an html comment that is not stripped from the output.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#html-comment"}]},Qn=r("../../node_modules/@marko/babel-utils/dist/index.js"),Yn=r("../../browser-shims/compiler/index.js"),es={translate(e){const{node:t}=e,{var:r}=t,n=Xe("nextTagId");if((0,Qn.assertNoArgs)(e),(0,Qn.assertNoAttributes)(e),et(e),(0,Qn.assertNoParams)(e),!t.var)throw e.get("name").buildCodeFrameError("The 'id' tag requires a tag variable.");if(!Yn.types.isIdentifier(r))throw e.get("var").buildCodeFrameError("The 'id' tag cannot be destructured");if(fr())e.replaceWith(Yn.types.variableDeclaration("const",[Yn.types.variableDeclarator(t.var,n)]));else{const t=$t(r.extra.binding);Jt(H(e),void 0,t,n),e.remove()}},attributes:{},autocomplete:[{displayText:"id/<name>",description:"Use to create a unique identifier.",snippet:"id/${1:name}",descriptionMoreURL:"https://markojs.com/docs/core-tags/#id"}],types:"@marko/translator-tags/tag-types/id.d.marko"},ts=r("../../node_modules/@marko/babel-utils/dist/index.js"),rs={parse(e){const{node:t}=e;e.replaceWith((0,ts.parseStatements)(e.hub.file,t.rawValue,t.start,t.end)[0])},parseOptions:{statement:!0,rawOpenTag:!0},autocomplete:[{displayText:'import <scope> from "<path>"',description:"Use to import external modules, follows the same syntax as JavaScript imports.",snippet:'import ${2} from "${1:path}"',descriptionMoreURL:"https://markojs.com/docs/syntax/#importing-external-files"}]},ns=r("../../node_modules/@marko/babel-utils/dist/index.js"),ss=r("../../browser-shims/compiler/index.js"),os=new WeakMap;function is(e,t){return os.get(e.node)?.[t]}var as={analyze(e){const{node:t}=e,r=t.var,n=t.attributes.find((e=>ss.types.isMarkoAttribute(e)&&"value"===e.name));if((0,ns.assertNoParams)(e),et(e),!r)throw e.get("name").buildCodeFrameError("The 'let' tag requires a tag variable.");if(!ss.types.isIdentifier(r))throw e.get("var").buildCodeFrameError("The 'let' cannot be destructured.");Er(e,1,void 0,n?n.value.extra??={}:void 0)},translate(e){const{node:t}=e,r=t.var,n=t.attributes.find((e=>ss.types.isMarkoAttribute(e)&&(e.default||"value"===e.name)))??ss.types.markoAttribute("value",ss.types.identifier("undefined"));if(yr()){const t=H(e),s=r.extra.binding,o=$t(s),i=n.value.extra?.referencedBindings;if(i){let r;Jt(t,i,{get identifier(){return r||(r=e.scope.generateUidIdentifier(o.identifier.name+"_init"),or.pushContainer("body",ss.types.variableDeclaration("const",[ss.types.variableDeclarator(r,Xe("initValue",Fr(s),o.identifier))]))),r},hasDownstreamIntersections:()=>o.hasDownstreamIntersections()},n.value)}else Jt(t,i,o,n.value);!function(e,t){for(const r of e.constantViolations){let n=os.get(r.node);n||(n={},os.set(r.node,n)),n[e.identifier.name]=t}}(e.scope.getBinding(s.name),((e,t)=>function(e,t,r){return Xe("queueSource",We(r,e.section),e.identifier,t)}(o,t,H(e))))}else rn(e,n.value);e.remove()},attributes:{},autocomplete:[{description:"Use to create a mutable binding.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#let"}],types:"@marko/translator-tags/tag-types/let.d.marko"},ls=r("../../node_modules/@marko/babel-utils/dist/index.js"),cs=r("../../browser-shims/compiler/index.js"),ps=Symbol("lifecycle attrs reference"),ds={analyze(e){(0,ls.assertNoParams)(e),et(e);const{node:t}=e,r=t.extra??={};r[ps]=vr(e.scope.generateUid("lifecycle"),4,G(e),void 0,r);for(const e of t.attributes)(e.value.extra??={}).isEffect=!0;(or.node.extra??={}).isInteractive=!0,Ir(e,e.node.attributes.map((e=>e.value)))},translate:{exit(e){const{node:t}=e,r=H(e),n=t.extra,{referencedBindings:s}=n,o=n[ps];if(yr()){const n=gn(e);qt("effect",r,s,cs.types.expressionStatement(Xe("lifecycle",ir,Fr(o),n)),t.attributes.map((e=>e.value)))}else Yt(r,s);e.remove()}},attributes:{},autocomplete:[{description:"Use to create a side effects.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#effect"}],types:"@marko/translator-tags/tag-types/lifecycle.d.marko"},us=r("../../node_modules/@marko/babel-utils/dist/index.js"),ms=r("../../browser-shims/compiler/index.js"),fs={analyze(e){const[t]=e.node.attributes;if((0,us.assertNoParams)(e),et(e),!t)throw e.get("name").buildCodeFrameError("The 'log' tag requires a 'value' attribute.");if(e.node.attributes.length>1||!ms.types.isMarkoAttribute(t)||!t.default&&"value"!==t.name)throw e.get("name").buildCodeFrameError("The 'log' tag only supports the 'value' attribute.")},translate(e){const t=H(e),[r]=e.node.attributes,{value:n}=r,s=n.extra?.referencedBindings,o=ms.types.expressionStatement(ms.types.callExpression(ms.types.memberExpression(ms.types.identifier("console"),ms.types.identifier("log")),[n]));fr()?e.insertBefore(o):qt("render",t,s,o),e.remove()},attributes:{},autocomplete:[{description:"Use to log a value to the console.",descriptionMoreURL:"https://markojs.com/docs/core-tags/#log"}],types:"@marko/translator-tags/tag-types/log.d.marko"},ys={migrate:[e=>e.remove()]},bs=r("../../node_modules/@marko/babel-utils/dist/index.js"),gs=r("../../browser-shims/compiler/index.js"),hs={parse(e){const{node:t,hub:{file:r}}=e,n=t.rawValue,s=n.replace(/^server\s*/,"").trim(),o=t.name.start+(n.length-s.length);let i=(0,bs.parseStatements)(r,s,o,o+s.length);1===i.length&&gs.types.isBlockStatement(i[0])&&(i=i[0].body),e.replaceWith(gs.types.markoScriptlet(i,!0,"server"))},parseOptions:{statement:!0,rawOpenTag:!0},autocomplete:[{displayText:"server <statement>",description:"A JavaScript statement which is only evaluated once your template is loaded on the server.",descriptionMoreURL:"https://markojs.com/docs/syntax/#server-javascript"}]},xs=r("../../node_modules/@marko/babel-utils/dist/index.js"),vs=r("../../browser-shims/compiler/index.js"),Es={parse(e){const{node:t,hub:{file:r}}=e,n=t.rawValue,s=n.replace(/^static\s*/,"").trim(),o=t.name.start+(n.length-s.length);let i=(0,xs.parseStatements)(r,s,o,o+s.length);1===i.length&&vs.types.isBlockStatement(i[0])&&(i=i[0].body),e.replaceWith(vs.types.markoScriptlet(i,!0))},parseOptions:{statement:!0,rawOpenTag:!0},autocomplete:[{displayText:"static <statement>",description:"A JavaScript statement which is only evaluated once your template is loaded.",descriptionMoreURL:"https://markojs.com/docs/syntax/#static-javascript"}]},ws=d(r("../../node_modules/path-browserify/index.js")),ks=r("../../node_modules/@marko/babel-utils/dist/index.js"),As=r("../../browser-shims/compiler/index.js"),Ss={taglibId:f,"<import>":rs,"<export>":jn,"<attrs>":v,"<if>":Vr,"<else-if>":Qr,"<else>":Kr,"<for>":Vn,"<let>":as,"<const>":nn,"<define>":xn,"<effect>":Sn,"<do>":wn,"<log>":fs,"<debug>":an,"<lifecycle>":ds,"<id>":es,"<html-comment>":Hn,"<return>":jt,"<style>":{translate(e){const{hub:{file:t}}=e;(0,ks.assertNoParams)(e),Ye(e);let r="text/css";const n=e.get("attributes"),s=ws.default.basename(t.opts.sourceFileName),o=n.find((e=>e.isMarkoAttribute()&&"type"===e.node.name)),i=n.find((e=>e.isMarkoAttribute()&&"class"===e.node.name));if(o&&i)throw i.buildCodeFrameError('<style> must only use "type" or "class" and not both.');if(o){const e=o.get("value");if(!e.isStringLiteral())throw e.buildCodeFrameError('<style> "type" attribute can only be a string literal.');r=e.node.value}else if(i){const e=i.get("value");if(!e.isStringLiteral())throw e.buildCodeFrameError('<style> "class" attribute can only be a string literal.');r=e.node.value}"text/css"===r&&(r="css"),e.node.var&&!r.startsWith("module")&&(r="module."+r);const a=e.get("body").get("body"),l=a[0];if(1!==a.length||!l.isMarkoText())throw(l.isMarkoText()?a[1]:a[0]).buildCodeFrameError("The '<style>' tag currently only supports static content.");const{resolveVirtualDependency:c}=br();if(c){const n=c(t.opts.filename,{type:r,code:l.node.value,startPos:l.node.start,endPos:l.node.end,path:`./${s}`,virtualPath:`./${s}.${r}`});e.node.var?As.types.isIdentifier(e.node.var)?or.pushContainer("body",As.types.importDeclaration([As.types.importDefaultSpecifier(e.node.var)],As.types.stringLiteral(n))):or.pushContainer("body",As.types.variableDeclaration("const",[As.types.variableDeclarator(e.node.var,(0,ks.importDefault)(t,n,"style"))])):or.pushContainer("body",As.types.importDeclaration([],As.types.stringLiteral(n)))}e.remove()},attributes:{type:{enum:["css","less","scss","text/css"]}}},"<await-reorderer>":ys,"<init-widgets>":ys,"<init-components>":ys,"<static>":Es,"<server>":hs,"<client>":k,"<__flush_here_and_after__>":h},Is=r("../../browser-shims/compiler/index.js"),js={translate:{exit(e){if(yr())if("ObjectPattern"===e.node.left.type||"ArrayPattern"===e.node.left.type)Ms(e,e.node.left);else{const t=is(e,e.node.left.name);t&&e.replaceWith(t(e,"="===e.node.operator?e.node.right:Is.types.binaryExpression(e.node.operator.slice(0,-1),e.node.left,e.node.right)))}}}};function Ms(e,t,r,n){switch(r||(r={statement:e.getStatementParent(),end:e.getStatementParent()}),t.type){case"ObjectPattern":for(const n of t.properties)Ms(e,n,r);break;case"ArrayPattern":for(const n in t.elements)null!==t.elements[n]&&Ms(e,t.elements[n],r,(e=>t.elements[n]=e));break;case"RestElement":Ms(e,t.argument,r,(e=>t.argument=e));break;case"ObjectProperty":Ms(e,t.value,r,(e=>t.value=e));break;case"Identifier":{const s=is(e,t.name);if(s){const e=r.statement.scope.generateUidIdentifier(t.name);r.statement.insertBefore(Is.types.variableDeclaration("let",[Is.types.variableDeclarator(e)])),n?.(e),[r.end]=r.end.insertAfter(Is.types.expressionStatement(s(r.statement,e)))}}}}var Ts={translate:{exit(e){fr()&&xt(e)`<![CDATA[${e.node.value}]]>`,e.remove()}}},Ds={translate:{exit(e){e.remove()}}},Cs={translate:{exit(e){fr()&&xt(e)`<?${e.node.value}?>`,e.remove()}}},Ns={translate:{exit(e){fr()&&xt(e)`<!${e.node.value}>`,e.remove()}}},Ps=r("../../node_modules/@marko/babel-utils/dist/index.js"),Bs=r("../../browser-shims/compiler/index.js"),Os=new WeakMap,Us={analyze(e){const{node:t}=e,r=t.extra??={},{markoOpts:n,opts:{filename:s}}=or.hub.file,o=H(e);let i=Os.get(o);i||(i=new Map,Os.set(o,i));let a=r.name;if(void 0===a){const t=e.parentPath;a=t.isMarkoAttribute()?t.node.default?Bs.types.toIdentifier(t.parentPath.parentPath.get("name")):t.node.name:"anonymous",r.name=a}const l=i.get(a);let c="";void 0===l?i.set(a,0):c=`_${l}`,r.registerId=(0,Ps.getTemplateId)(n,`${s}_${o.id}/${a+c}`)}},Fs=r("../../node_modules/@marko/babel-utils/dist/index.js"),Ls={analyze(e){const{node:t}=e,{source:r}=t,{value:n}=r,s=(0,Fs.resolveTagImport)(e,n);if(s){t.extra??={},t.extra.tagImport=s;const r=e.hub.file.metadata.marko.tags;r.includes(s)||r.push(s)}},translate:{exit(e){const{node:t}=e,{extra:r}=t,n=r?.tagImport;n&&(t.source.value=n)}}},Rs=r("../../node_modules/@marko/babel-utils/dist/index.js"),$s=r("../../browser-shims/compiler/index.js"),_s=Symbol("placeholder node binding"),zs=Symbol("placeholder has sibling text"),Ws={script:"escapeScript",style:"escapeStyle"},Vs={analyze(e){const{node:t}=e,{confident:r,computed:n}=Fn(e);(!r||!t.escape&&n)&&((t.extra??={})[_s]=vr("#text",0,G(e),void 0,t.value.extra),function(e){const t=e.node.extra;let r=e.getPrevSibling();for(;r.node;){const e=ie(r,"endNodeContentType");if(2!==e){if(5===e||1===e||3===e)return t[zs]=1;break}r=r.getPrevSibling()}if(!r.node&&$s.types.isProgram(e.parentPath))return t[zs]=1;let n=e.getNextSibling();for(;n.node;){const e=ie(n,"startNodeContentType");if(2!==e){if(5===e||1===e||3===e)return t[zs]=2;break}n=n.getNextSibling()}if(!n.node&&$s.types.isProgram(e.parentPath))return t[zs]=2;t[zs]=0}(e))},translate:{exit(e){const t=fr(),r=xt(e),{node:n}=e,{value:s}=n,o=n.extra,{confident:i,computed:a}=o,l=o[_s],c=t||i&&(n.escape||!a),p=c?n.escape?Ws[function({parentPath:e}){return e.isMarkoTag()&&(0,Rs.isNativeTag)(e)&&e.node.name.value||""}(e)]||"escapeXML":"toString":n.escape?"data":"html",d=Rr(s.extra?.referencedBindings),u=o[zs];i&&c?r`${Ze()[p](a)}`:(1===u?(t&&d&&r`<!>`,ft(e,37)):2===u?ft(e,37):(t||r` `,ft(e,32)),t?(r`${Xe(p,s)}`,d&&At(e,l)):qt("render",H(e),s.extra?.referencedBindings,$s.types.expressionStatement("data"===p?Xe("data",$s.types.memberExpression(ir,Fr(l),!0),s):Xe("html",ir,s,Fr(l))))),mt(e),e.remove()}}},qs=r("../../browser-shims/compiler/index.js"),Js=new WeakMap,Xs={migrate(e){const{name:t}=e.node;if(!e.scope.hasBinding(t)&&"out"===t){if(!qs.types.isMemberExpression(e.parent)||!qs.types.isIdentifier(e.parent.property)||"global"!==e.parent.property.name)throw e.buildCodeFrameError("Only out.global is supported for compatibility.");e.parentPath.replaceWith(qs.types.identifier("$global"))}},translate(e){const{name:t}=e.node;if(!e.scope.hasBinding(t))switch(t){case"$global":fr()?e.replaceWith(qs.types.memberExpression(qs.types.callExpression(Je("getStreamData"),[]),qs.types.identifier("global"))):e.replaceWith(qs.types.memberExpression(ir,qs.types.identifier("$global")));break;case"$signal":if(fr())e.replaceWith(qs.types.callExpression(qs.types.arrowFunctionExpression([],qs.types.blockStatement([qs.types.throwStatement(qs.types.newExpression(qs.types.identifier("Error"),[qs.types.stringLiteral("Cannot use $signal in a server render.")]))])),[]));else{const t=H(e),r=M(e);let n,s=Js.get(t);s?n=s.get(r):(s=new Map,Js.set(t,s)),n||(n=s.size,s.set(r,n),qt("render",t,r.node.extra?.referencedBindings,qs.types.expressionStatement(qs.types.callExpression(Je("resetAbortSignal"),[ir,qs.types.numericLiteral(n)])))),e.replaceWith(qs.types.callExpression(Je("getAbortSignal"),[ir,qs.types.numericLiteral(n)]))}}}},Zs={analyze(e){Ir(e,e.node.body)},translate:{exit(e){const{node:t}=e;if(fr()){if(t.static)return;e.replaceWithMultiple(t.body)}else t.target&&"client"!==t.target?e.remove():t.static?e.replaceWithMultiple(t.body):(qt("render",H(e),t.extra?.referencedBindings,t.body),e.remove())}}},Ks=r("../../node_modules/@marko/babel-utils/dist/index.js"),Gs=r("../../browser-shims/compiler/index.js"),Hs=r("../../browser-shims/compiler/index.js");function Qs(e,t){if(!e)return!1;const{node:r}=t,n=eo(e)?e.default:e;return to(n)?n(t,Hs.types):n.enter&&n.enter(t,Hs.types),r!==t.node}function Ys(e,t){if(!e)return!1;const{node:r}=t,n=eo(e)?e.default:e;return!to(n)&&n.exit&&n.exit(t,Hs.types),r!==t.node}function eo(e){return Boolean(e.default)}function to(e){return"function"==typeof e}var ro=r("../../node_modules/@marko/babel-utils/dist/index.js"),no=r("../../browser-shims/compiler/index.js"),so={analyze:{enter(e){K(e.get("body"))}},translate:{enter(e){if((0,ro.assertNoArgs)(e),H(e.get("body")),function(e){const t=ht(H(e));return Boolean(t.length>1||t[0])}(e))throw e.get("name").buildCodeFrameError("Dynamic @tags cannot be mixed with body content.")},exit(e){(0,ro.assertNoVar)(e),wt(e);const t=(0,ro.findParentTag)(e);if(!t)throw e.get("name").buildCodeFrameError("@tags must be nested within another tag.");const r=t.node.extra;if(0===r.tagNameType)throw e.get("name").buildCodeFrameError("@tags cannot be nested under native tags.");const n=e.node.name.value.slice(1),s=r.nestedAttributeTags[n],o=gn(e,!0);if(s.dynamic)s.identifier||(s.identifier=t.scope.generateUidIdentifier(n),t.insertBefore(s.repeated?no.types.variableDeclaration("const",[no.types.variableDeclarator(s.identifier,no.types.arrayExpression([]))]):no.types.variableDeclaration("let",[no.types.variableDeclarator(s.identifier)])),t.pushContainer("attributes",no.types.markoAttribute(n,s.identifier))),e.replaceWith(no.types.expressionStatement(s.repeated?no.types.callExpression(no.types.memberExpression(s.identifier,no.types.identifier("push")),[o]):no.types.assignmentExpression("=",s.identifier,o)));else if(s.repeated){const r=t.get("attributes").find((e=>e.node.name===n));r?r.get("value").pushContainer("elements",o):t.pushContainer("attributes",no.types.markoAttribute(n,no.types.arrayExpression([o]))),e.remove()}else t.pushContainer("attributes",no.types.markoAttribute(n,o)),e.remove()}}},oo=r("../../node_modules/@marko/babel-utils/dist/index.js"),io=r("../../browser-shims/compiler/index.js"),ao=Symbol("custom tag child scope"),lo={analyze:{enter(e){const t=G(e),r=e.get("body");if(K(r),Er(e,4),wr(r,3),(0,oo.getTagTemplate)(e)){const r=e.node.extra??={};r[ao]=vr("#childScope",0,t,void 0,r)}const n=(0,oo.loadFileForTag)(e),s=n?.ast.program.extra,o=s?.isInteractive||s?.hasInteractiveChild,i=s?.domExports?.params?.props?.[0];i?.props&&!e.node.attributes.find((e=>io.types.isMarkoSpreadAttribute(e)))||Ir(e,e.node.attributes.map((e=>e.value))),o&&((or.node.extra??{}).hasInteractiveChild=!0)}},translate:{enter(e){(0,oo.assertAttributesOrSingleArg)(e),ft(e),fr()&&Et(e)},exit(e){fr()?function(e){const t=e.get("body"),{node:r}=e;let n;if(wt(e),er(t),io.types.isStringLiteral(r.name)){const{file:t}=e.hub,s=r.name.value,o=co(e);n=io.types.memberExpression((0,oo.importDefault)(t,o,s),io.types.identifier("_"))}else n=io.types.memberExpression(r.name,io.types.identifier("_"));const s=r.var,o=gn(e,!0),i=hn(o),a=H(e),l=r.extra[ao],c=e.scope.generateUidIdentifier(l?.name);if(e.insertBefore(io.types.variableDeclaration("const",[io.types.variableDeclarator(c,Xe("peekNextScope"))])),Ft(a).set(Fr(l),c),r.extra.tagNameNullable){let t,r=uo(n,gn(e));if(i){t=e.scope.generateUidIdentifier("renderBody");const r=H(e.get("body")),[n]=e.insertBefore(io.types.variableDeclaration("const",[io.types.variableDeclarator(t,Xe("register",Xe("createRenderer",io.types.arrowFunctionExpression(i.params,i.body)),io.types.stringLiteral(Zt(r,"renderer")),r.closures.size&&Q(r.parent)))]));n.skip(),o.properties[o.properties.length-1]=io.types.objectProperty(io.types.identifier("renderBody"),t)}s&&(rn(e,io.types.unaryExpression("void",io.types.numericLiteral(0)),"let"),r=io.types.assignmentExpression("=",s,r)),e.replaceWith(io.types.ifStatement(n,io.types.expressionStatement(r),t&&po(t)))[0].skip()}else s?(rn(e,uo(n,o,Xe("register",Xe("createRenderer",io.types.arrowFunctionExpression([],io.types.blockStatement([]))),io.types.stringLiteral(Zt(a,r.var.extra?.binding)),Q(a)))),Ut(a),e.remove()):e.replaceWith(po(n,o))[0].skip()}(e):function(e){const t=H(e),r=H(e.get("body")),{node:n}=e,s=n.extra,o=s[ao],i=xt(e),{file:a}=e.hub,l=io.types.isIdentifier(n.name)?n.name.name:io.types.isStringLiteral(n.name)?n.name.value:"tag",c=co(e),p=(0,oo.loadFileForTag)(e).ast.program,d=(0,oo.importNamed)(a,c,p.extra.domExports.setup,l),u=p.extra.domExports.params?.props?.[0];if(u)if(!u.props||e.node.attributes.some((e=>io.types.isMarkoSpreadAttribute(e)))){let n=gn(e);r!==t&&(n??=io.types.objectExpression([]),n.properties.push(io.types.objectProperty(io.types.identifier("renderBody"),Xe("bindRenderer",ir,io.types.identifier(r.name)))));const i=(0,oo.importNamed)(a,c,u.id,`${l}_input`);Jt(t,s.referencedBindings,{identifier:i,hasDownstreamIntersections:()=>!0},n,Ve(t,o),Xe("inChild",Fr(o),io.types.identifier(i.name)))}else{for(const r of e.get("attributes")){const e=r.node,n=u.props[e.name];if(n){const s=(0,oo.importNamed)(a,c,n.id,`${l}_${n.id}`),i=e.value.extra?.referencedBindings;r.traverse(fn,{section:t}),Jt(t,i,{identifier:s,hasDownstreamIntersections:()=>!0},e.value,Ve(t,o),Xe("inChild",Fr(o),io.types.identifier(s.name)))}}if(u.props.renderBody&&r!==t){const e=(0,oo.importNamed)(a,c,u.props.renderBody.id,`${l}_renderBody`);Jt(t,void 0,{identifier:e,hasDownstreamIntersections:()=>!0},Xe("bindRenderer",ir,io.types.identifier(r.name)),Ve(t,o),Xe("inChild",Fr(o),io.types.identifier(e.name)))}}if(i`${(0,oo.importNamed)(a,c,p.extra.domExports.template,`${l}_template`)}`,function(e,t){const r=at(H(e));lt(H(e)).push(`${pt[47]}`,t.name,pt[38]),st(r,String.fromCharCode(47)),r.push(t,String.fromCharCode(38))}(e,(0,oo.importNamed)(a,c,p.extra.domExports.walks,`${l}_walks`)),n.var){const e=$t(n.var.extra.binding);e.register=!0,qt("render",t,void 0,io.types.expressionStatement(Xe("setTagVar",ir,Fr(o),e.identifier)))}qt("render",t,void 0,io.types.expressionStatement(io.types.callExpression(d,[Ve(t,o)]))),e.remove()}(e)}}};function co(e){const{node:t,hub:{file:r}}=e,n=io.types.isStringLiteral(t.name);let s;if(n){const t=(0,oo.getTagTemplate)(e);s=t&&(0,oo.resolveRelativePath)(r,t)}else t.extra?.tagNameImported&&(s=t.extra.tagNameImported);if(!s)throw e.get("name").buildCodeFrameError(`Unable to find entry point for custom tag <${n?t.name.value:t.name}>.`);const o=r.metadata.marko.tags;return o.includes(s)||o.push(s),s}function po(e,...t){return io.types.expressionStatement(uo(e,...t))}function uo(e,...t){return io.types.callExpression(e,t.filter(Boolean))}var mo=r("../../node_modules/@marko/babel-utils/dist/index.js"),fo=r("../../browser-shims/compiler/index.js"),yo=r("../../browser-shims/compiler/index.js"),bo=Symbol("dynamic tag dom binding"),go={analyze:{enter(e){const t=G(e),r=e.node.extra??={},n=e.get("body"),s=r[bo]=vr("#text",0,t,void 0,r);K(n),Er(e,4),wr(n,3);const o=[];if(e.node.arguments)for(const t of e.node.arguments)o.push(t);for(const t of e.node.attributes)o.push(t.value);Ir(e,o),Pr(e,s)}},translate:{enter(e){ft(e,37),(0,mo.assertAttributesOrArgs)(e),mt(e),fr()&&Et(e)},exit(e){const{node:t}=e,r=t.extra,n=r[bo];let s=t.name;if(fo.types.isStringLiteral(s)){const{file:t}=e.hub,r=co(e);s=(0,mo.importDefault)(t,r,s.value)}if("class"===r.featureType){const{markoOpts:t}=e.hub.file,r=`marko/src/runtime/helpers/tags-compat/${fr()?"html":"dom"}${t.optimize?"":"-debug"}.${"esm"===t.modules?"mjs":"js"}`;if((0,mo.importDefault)(e.hub.file,r),fr()){const n=(0,mo.importNamed)(e.hub.file,r,"s");or.pushContainer("body",fo.types.expressionStatement(fo.types.callExpression(n,[fo.types.identifier(s.name),fo.types.stringLiteral((0,mo.getTemplateId)(t,(0,mo.loadFileForTag)(e).metadata.marko.id))])))}else or.pushContainer("body",fo.types.expressionStatement(Xe("register",fo.types.stringLiteral((0,mo.getTemplateId)(t,(0,mo.loadFileForTag)(e).metadata.marko.id)),fo.types.identifier(s.name))))}if(fr()){wt(e),er(e.get("body"));const r=gn(e,!0),o=hn(r),i=[s,r];if(fo.types.isObjectExpression(r)&&o){const t=H(e.get("body"));r.properties.pop(),i.push(Xe("register",Xe("createRenderer",fo.types.arrowFunctionExpression(o.params,function(e){const t=e.body;return 1===t.length&&yo.types.isExpressionStatement(t[0])?t[0].expression:yo.types.isBlockStatement(e)?e:yo.types.blockStatement(t)}(o.body))),fo.types.stringLiteral(Zt(t,"renderer")),t.closures.size&&Q(t.parent)))}const a=or.scope.generateUidIdentifier("dynamicScope"),l=fo.types.isArrayExpression(r)?Xe("dynamicTagArgs",...i):Xe("dynamicTagInput",...i);t.var?(rn(e,l),e.remove()):e.replaceWith(fo.types.variableDeclaration("const",[fo.types.variableDeclarator(a,l)]))[0].skip();const c=H(e);xt(e)`${Xe("markResumeControlEnd",Q(c),Fr(n))}`,Ft(c).set(fo.types.stringLiteral(Fr(n).value+"!"),a),Ft(c).set(fo.types.stringLiteral(Fr(n).value+"("),fo.types.isIdentifier(s)?fo.types.identifier(s.name):s)}else{const r=H(e),o=H(e.get("body")),i=r!==o&&fo.types.identifier(o.name),a=Rt(r,n,"dynamicTagName");a.build=()=>Xe("conditional",Fr(n),_t(a,[ir]),zt(a)),a.hasDownstreamIntersections=()=>!0,Jt(r,t.name.extra?.referencedBindings,a,i?fo.types.logicalExpression("||",s,i):s);const l=gn(e,!0);if(!fo.types.isObjectExpression(l)||l.properties.length||i){const s=fo.types.arrowFunctionExpression([],l),o=or.scope.generateUidIdentifier(e.get("name").toString()+"_input");let a=!1;Jt(r,t.extra?.referencedBindings,{get identifier(){return a||(or.pushContainer("body",fo.types.variableDeclaration("const",[fo.types.variableDeclarator(o,Xe("dynamicTagAttrs",Fr(n),i,!!fo.types.isArrayExpression(l)&&fo.types.booleanLiteral(!0)))])),a=!0),o},hasDownstreamIntersections:()=>!0},s)}e.remove()}}}},ho={analyze:{enter(e){const t=(0,Ks.getTagDef)(e),r=X(e),n=t?.analyzer?.hook;if(n)Qs(n,e);else if(0!==r)switch(Cn(e),r){case 1:lo.analyze.enter(e);break;case 3:so.analyze.enter(e);break;case 2:go.analyze.enter(e)}else $n.analyze.enter(e)},exit(e){const t=(0,Ks.getTagDef)(e)?.analyzer?.hook;t&&Ys(t,e)}},translate:{enter(e){const t=(0,Ks.getTagDef)(e),r=e.node.extra;if(t?.translator)return t.translator.path&&e.hub.file.metadata.marko.watchFiles.push(t.translator.path),void Qs(t.translator.hook,e);for(const t of e.get("attributes"))if(t.isMarkoAttribute()){if(t.node.arguments)throw t.buildCodeFrameError(`Unsupported arguments on the "${t.node.name}" attribute.`);if(t.node.modifier){if(!(0,Ks.isNativeTag)(t.parentPath))throw t.buildCodeFrameError(`Unsupported modifier "${t.node.modifier}".`);t.node.name+=`:${t.node.modifier}`}}if(r.tagNameDynamic&&r.tagNameNullable&&!e.get("name").isIdentifier()&&fr()){const t=e.scope.generateUidIdentifier("tagName"),[r]=e.insertBefore(Gs.types.variableDeclaration("const",[Gs.types.variableDeclarator(t,e.node.name)]));r.skip(),e.set("name",t)}switch(r.tagNameType){case 0:$n.translate.enter(e);break;case 1:lo.translate.enter(e);break;case 2:go.translate.enter(e);break;case 3:so.translate.enter(e)}},exit(e){const t=(0,Ks.getTagDef)(e)?.translator;if(t)Ys(t.hook,e);else switch(e.node.extra.tagNameType){case 0:$n.translate.exit(e);break;case 1:lo.translate.exit(e);break;case 2:go.translate.exit(e);break;case 3:so.translate.exit(e)}}}},xo=(r("../../browser-shims/compiler/index.js"),{translate:{exit(e){xt(e)`${e.node.value}`,mt(e),e.remove()}}}),vo=r("../../browser-shims/compiler/index.js"),Eo={Program:ur,Function:Us,AssignmentExpression:js,UpdateExpression:{translate:{exit(e){if(yr()){const t=is(e,e.node.argument.name);if(t){const r=t(e,vo.types.binaryExpression("++"===e.node.operator?"+":"-",e.node.argument,vo.types.numericLiteral(1)));e.replaceWith(e.node.prefix||e.parentPath.isExpressionStatement()?r:vo.types.sequenceExpression([r,e.node.argument]))}}}}},ReferencedIdentifier:Xs,ImportDeclaration:Ls,MarkoDocumentType:Ns,MarkoDeclaration:Cs,MarkoCDATA:Ts,MarkoText:xo,MarkoTag:ho,MarkoPlaceholder:Vs,MarkoScriptlet:Zs,MarkoComment:Ds},wo=e=>Object.entries(Eo).reduce(((t,[r,n])=>(e in n&&(t[r]=n[e]),t)),{}),ko=wo("analyze"),Ao=wo("translate"),So=[["../../node_modules/@marko/translator-tags/dist",{...Ss,migrate:wo("migrate")}]];function Io(e,t){return[`@marko/runtime-tags${t?"":"/debug"}/${"html"===e?"html":"dom"}`]}}}]);
//# sourceMappingURL=215.3cf60ba8.js.map