{"version":3,"file":"244.f86514e8.js","mappings":"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","sources":["webpack:///hash-value.marko","webpack:///file-tabs.marko","webpack:///pane.marko","webpack:///controllable-select.marko","webpack:///match-media.marko","webpack:///resizable-panes.marko","webpack:///try-online.marko","webpack:///./playground/index.marko","webpack:///../components/app-layout/components/layout-header/component-browser.js","webpack:///../components/app-layout/components/layout-header/events.js","webpack:///../components/app-layout/components/layout-search/component-browser.js","webpack:///../components/app-layout/components/layout-sidebar/component-browser.js","webpack:///../components/app-layout/components/layout-sidebar/components/version-switcher/component-browser.js","webpack:///../components/app-footer/ebay.svg","webpack:///../components/app-footer/openjsf.png","webpack:///../components/app-footer/osi.png","webpack:///../components/app-layout/components/layout-search/search.png","webpack:///../components/app-layout/favicon.png","webpack:///../logos/discord.svg","webpack:///../logos/marko.svg"],"sourcesContent":["import { compressToEncodedURIComponent, decompressFromEncodedURIComponent } from \"lz-string\";\n\n<attrs/{ default:defaultValue }/>\n<let/value = (\n  (() => { \n    try {\n      if (typeof window !== \"undefined\") {\n        return JSON.parse(decompressFromEncodedURIComponent(window.location.hash.slice(1)));\n      }\n    } catch(e) {\n      console.error(e);\n    }\n  })() \n  || defaultValue\n)/>\n<effect() {\n  window.location.hash = compressToEncodedURIComponent(JSON.stringify(value));\n}/>\n<effect() { \n  const handler = () => {\n    try {\n      value = JSON.parse(decompressFromEncodedURIComponent(window.location.hash.slice(1)));\n    } catch(e) {\n      console.error(e);\n    }\n  };\n  window.addEventListener(\"hashchange\", handler);\n  () => window.removevEventListener(\"hashchange\", handler);\n}/>\n<return:=value/>","<attrs/{ files: externalFiles, selectedIndex: externalSelected }/>\n\n<let/files := externalFiles/>\n<let/selectedIndex := externalSelected/>\n\n<const/selectedFile = files[selectedIndex]/>\n\n<div.file-tabs>\n  <let/nextId = 1/>\n  <for|file, index| of=files>\n    <let/editing = false/>\n    <const/selected = selectedFile === file/>\n    <const/mutable = (index > 0)/>\n    <div.file-tab class={ selected } onClick() { \n      if (selected) {\n        editing = true;\n      } else {\n        editing = false;\n        selectedIndex = index;\n      }\n    }>\n      <if=(!editing || !selected || !mutable)>\n        ${file.name}\n      </if>\n      <else>\n        <let/name = file.name/>\n        <const/finishRename() {\n          const modifiedFile = { ...file, name, path: file.path.replace(file.name, name) };\n          files = [\n            ...files.slice(0, index), \n            modifiedFile,\n            ...files.slice(index+1)\n          ];\n          editing = false;\n        }/>\n        <input/nameInput \n          type=\"text\" \n          size=name.length \n          value:=name \n          onBlur=finishRename\n          onKeydown(e) {\n            if (e.code === \"Enter\") {\n              finishRename();\n            }\n          }/>\n        <lifecycle onMount() { \n          nameInput().focus();\n          nameInput().setSelectionRange(0, name.indexOf(\".\"));\n        }/>\n      </else>\n      <if=mutable>\n        <button.file-close onClick(e) { \n          if (window.confirm(`Delete ${file.path}?`)) {\n            if (selectedIndex >= index) {\n              selectedIndex--;\n            }\n            files = [...files.slice(0, index), ...files.slice(index+1)];\n          }\n          e.stopPropagation();\n        }>\n          &times;\n        </button>\n      </if>\n    </div>\n  </for>\n  <button.new-file onClick() { \n    const newFile = { name:`Component${nextId}.marko`, path:`/components/Component${nextId}.marko`, content:\"\" };\n    selectedIndex = files.length;\n    files = files.concat(newFile);\n    nextId++;\n  }>\n    +\n  </button>\n</div>\n<style>\n  .file-tabs {\n    display:flex;\n    overflow-x: auto;\n    width:100%;\n    height:100%;\n  }\n  .file-tab {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    padding:0 1em;\n    flex-shrink: 0;\n    border-bottom: 2px solid transparent;\n    cursor:pointer;\n  }\n  .file-tab:not(.selected):hover {\n    background: rgba(255,255,255,0.1);\n  }\n  .file-tab.selected {\n    border-bottom: 2px solid #09bcf8;\n  }\n  .file-close {\n    padding:0.5em;\n    background: transparent;\n    margin-right:-0.5em;\n    color:#fff;\n  }\n  .file-close:hover {\n    color:#f1195b;\n  }\n  .new-file {\n    padding:0 1em;\n    font-size: 1.5em;\n    background: transparent;\n    color:#999;\n  }\n  .new-file:hover {\n    color: #09bcf8;\n  }\n</style>","<attrs/{ actions, body }/>\n\n<div.pane>\n  <div.pane-actions>\n    <${actions.renderBody}/>\n  </div>\n  <div.pane-divider/>\n  <div.pane-body>\n    <${body.renderBody}/>\n  </div>\n</div>\n\n<style>\n  .pane {\n    display:flex;\n    flex-direction: column;\n    flex:1;\n  }\n  .pane-actions {\n    height: 3em;\n  }\n  .pane-divider {\n    height:1px;\n    background: rgba(0,0,0,0.2);\n  }\n  .pane-body {\n    flex:1;\n    flex-basis: 0;\n    overflow:auto;\n  }\n</style>\n","<attrs/{ value, valueChange, renderBody, class:className }/>\n<select/el class=className onChange(e) { valueChange(e.target.value); }>\n  <${renderBody}/>\n</select>\n<effect() {\n  el().value = value;\n  // TODO: should not have to have these here\n  renderBody; valueChange;\n}/>","<attrs/{ default: query, fallback }/>\n<let/isMatch = typeof window !== \"undefined\" ? window.matchMedia(query).matches : fallback/>\n\n<effect() {\n  const mq = window.matchMedia(query);\n  const listener = () => isMatch = !!mq.matches;\n  mq.addEventListener(\"change\", listener);\n  isMatch = !!mq.matches;\n  return () => mq.removeEventListener(\"change\", listener);\n}/>\n\n<return=isMatch/>","<attrs/{ left, right }/>\n\n<let/editorSize=0.5/>\n<let/resizing = false/>\n<match-media/isVertical = \"(max-aspect-ratio: 1/1)\"/>\n\n<div/container class=[\"panes\", resizing && \"resizing\"]>\n  <div ...left style=`flex-grow:${editorSize}`>\n    <${left.renderBody}/>\n  </div>\n  <div.divider>\n    <div.inner\n      onMousedown(e) {\n        resizing = true;\n        e.preventDefault();\n        e.stopPropagation();\n      }/>\n  </div>\n  <div ...right style=`flex-grow:${1-editorSize}`>\n    <${right.renderBody}/>\n  </div>\n</div>\n<if=resizing>\n  <effect() {\n    const handler = (e) => {\n      if (e.buttons || e.which) {\n        const rect = container().getBoundingClientRect();\n        const fraction = isVertical \n          ? (e.clientY - rect.top) / rect.height \n          : (e.clientX - rect.left) / rect.width;\n        if (fraction > 0) {\n          // it seems a drag event with no position is fired when we stop\n          // so we'll ignore that value\n          editorSize = Math.min(0.8, Math.max(0.2, fraction));\n        }\n      } else {\n        resizing = false;\n      }\n    };\n    window.addEventListener(\"mousemove\", handler);\n    return () => window.removeEventListener(\"mousemove\", handler);\n  }/>\n</if>\n\n<style>\n  .panes {\n    display:flex;\n    flex:1;\n    width: 100%;\n  }\n  .panes > div {\n    overflow:hidden;\n    display: flex;\n    flex-basis:0;\n  }\n  .panes.resizing {\n    cursor: col-resize;\n  }\n  .panes.resizing > div:not(.divider) {\n    pointer-events: none;\n  }\n  .divider {\n    min-height: 2px;\n    min-width: 2px;\n    position:relative;\n    background:#eee;\n    cursor: col-resize;\n  }\n  .divider:hover {\n    background:#ccc;\n  }\n  .divider .inner {\n    position: absolute;\n    top:-10px; left: -10px; bottom:-10px; right:-10px;\n    opacity: 0;\n    z-index:1000;\n  }\n  @media (max-aspect-ratio: 1/1) {\n    .panes {\n      flex-direction: column;\n    }\n    .panes.resizing,\n    .divider:hover {\n      cursor: row-resize;\n    }\n  }\n</style>","<hash-value/files = [{ name:\"index.marko\", path:\"/index.marko\", content:\"<let/count=0/>\\n<button onClick() { count++ }>\\n  ${count}\\n</button>\" }]/>\n<let/selectedIndex = 0/>\n<let/previewType = \"preview\"/>\n<const/selectedFile = files[selectedIndex]/>\n\n<style>\n  .editor-container {\n    background: #202134;\n    color: #fff;\n  }\n</style>\n\n<resizable-panes>\n  <@left class=\"editor-container\">\n    <pane>\n      <@actions>\n        <file-tabs files:=files selectedIndex:=selectedIndex/>\n      </@actions>\n      <@body>\n        <let/activeEditor = null/>\n        <activeEditor\n          value=selectedFile.content \n          language=selectedFile.name.substring(selectedFile.name.indexOf(\".\")+1) \n          valueChange(content) {\n            const modifiedFile = { ...selectedFile, content };\n            files = [\n              ...files.slice(0, selectedIndex), \n              modifiedFile,\n              ...files.slice(selectedIndex+1)\n            ];\n          }/>\n        <lifecycle onMount = (async () => { \n          const e = await import(\"./editor\");\n          await e.loading;\n          activeEditor = e;\n        })/>\n      </@body>\n    </pane>\n  </@left>\n  <@right>\n    <pane>\n      <@actions>\n        <controllable-select.preview-select value:=previewType>\n          <option value=\"preview\">App Preview</option>\n          <option value=\"compiled-html\">Compiled (HTML)</option>\n          <option value=\"compiled-vdom\">Compiled (VDOM)</option>\n        </controllable-select>\n        <style>\n          .preview-select {\n            border:0;\n            height:100%;\n            padding:0 1em;\n          }\n        </style>\n      </@actions>\n      <@body>\n        <let/preview = null/>\n        <${preview} \n          type=previewType\n          files=files\n          selectedFile=selectedFile/>\n        <lifecycle onMount = (async () => { \n          preview = await import(\"./preview\");\n        })/>\n      </@body>\n    </pane>\n  </@right>\n</resizable-panes>","import { register, init } from \"marko/dist/runtime/components/index.js\";\nimport \"./style.css\";\nimport \"../../components/app-layout/style.css\";\nimport \"../../components/app-layout/favicon.png\";\nimport \"../../components/app-layout/components/layout-header/style.css\";\nimport \"../../logos/marko.svg\";\nimport \"../../components/app-layout/components/layout-search/style.css\";\nimport \"../../components/app-layout/components/layout-search/search.png\";\nimport component_0 from \"../../components/app-layout/components/layout-search/component-browser.js\";\nregister(\"HkYzEWAp\", component_0);\nimport component_1 from \"../../components/app-layout/components/layout-header/component-browser.js\";\nregister(\"OIKmBXjW\", component_1);\nimport \"../../components/app-layout/components/layout-sidebar/style.css\";\nimport component_2 from \"../../components/app-layout/components/layout-sidebar/components/version-switcher/component-browser.js\";\nregister(\"07hv1F0+\", component_2);\nimport component_3 from \"../../components/app-layout/components/layout-sidebar/component-browser.js\";\nregister(\"mFesaajv\", component_3);\nimport \"../../components/app-footer/style.css\";\nimport \"../../components/app-footer/openjsf.png\";\nimport \"../../components/app-footer/osi.png\";\nimport \"../../components/app-footer/ebay.svg\";\nimport \"../../components/discord-link/index.marko.css!=!/Users/mirawlings/Workspace/marko/website/node_modules/@marko/webpack/dist/loader/index.js!/Users/mirawlings/Workspace/marko/website/src/components/discord-link/index.marko?virtual=./index.marko.css\";\nimport \"../../logos/discord.svg\";\nimport \"./components/try-online.marko\";\ninit();","var siteHeaderEvents = require(\"./events\");\n\nvar classNames = {\n  base: \"headspace\",\n  fixed: \"headspace--fixed\",\n  hidden: \"headspace--hidden\"\n};\nvar debounce = cb => () => window.requestAnimationFrame(cb);\nvar tolerance = 3;\n\nmodule.exports = {\n  onMount() {\n    siteHeaderEvents.emit(\"create\", this);\n    var scrollLast = 0;\n    var startOffset = this.getEl('header').offsetHeight;\n    var bannerHeight = (this.getEl('banner') || { offsetHeight:0 }).offsetHeight;\n\n    var handleScroll = debounce(() => {\n      var scrollCurrent = window.pageYOffset;\n\n      if (scrollCurrent <= bannerHeight) {\n        this.reset();\n      } else if (!this.paused && scrollCurrent > startOffset) {\n        var toleanceReached = Math.abs(scrollCurrent - scrollLast) >= tolerance;\n        var scrollingDown = scrollCurrent > scrollLast;\n        var wasAtTop = scrollLast <= startOffset;\n        if (toleanceReached || (scrollingDown && wasAtTop)) {\n          scrollCurrent > scrollLast ? this.hide() : this.fix();\n        }\n      }\n\n      scrollLast = scrollCurrent;\n    });\n\n    handleScroll();\n    window.addEventListener(\"scroll\", handleScroll);\n  },\n  reset() {\n    this.removeClass(classNames.fixed);\n    this.removeClass(classNames.hidden);\n    siteHeaderEvents.emit(\"reset\");\n  },\n  fix() {\n    this.addClass(classNames.fixed);\n    this.removeClass(classNames.hidden);\n    siteHeaderEvents.emit(\"fix\");\n  },\n  hide() {\n    this.addClass(classNames.hidden);\n    siteHeaderEvents.emit(\"hide\");\n  },\n  addClass(cls) {\n    this.getEl('header').classList.add(cls);\n  },\n  removeClass(cls) {\n    this.getEl('header').classList.remove(cls);\n  },\n  pause() {\n    this.paused = true;\n  },\n  resume() {\n    setTimeout(() =>\n      window.requestAnimationFrame(() => {\n        this.paused = false;\n      })\n    );\n  },\n  toggleMenu () {\n    siteHeaderEvents.emit('toggle-menu');\n  }\n};\n","// TODO: remove this.\nvar EventEmitter = require(\"events\");\n\nmodule.exports = new EventEmitter();\n","module.exports = {\n  focus(e) {\n    var input = this.getEl(\"input\");\n    if (e.target != input) {\n      input.focus();\n    }\n  },\n  grow() {\n    this.el.classList.add(\"large\");\n    this.getEl(\"input\").value = \"\";\n  },\n  shrink() {\n    this.el.classList.remove(\"large\");\n  },\n  search(e) {\n    var value = this.getEl(\"input\").value;\n    value = encodeURIComponent(value.replace(/\\s+/g, \" \")).replace(\n      /\\%20/g,\n      \"+\"\n    );\n    window.location.href =\n      \"https://google.com/search?q=\" + value + \"+site:markojs.com\";\n    e.preventDefault();\n  }\n};\n","var siteHeaderEvents = require(\"../layout-header/events\");\nvar forEach = [].forEach;\nvar filter = [].filter;\nvar slice = [].slice;\nvar siteHeaderComponent;\n\nmodule.exports = {\n  onMount() {\n    this.preventOverscroll();\n    this.listenForHeaderChanges();\n    this.initScrollSpy();\n  },\n\n  initScrollSpy() {\n    var headersSelector = [1, 2, 3, 4, 5, 6]\n      .map(n => \".doc-content h\" + n)\n      .join(\",\");\n    var headers = slice.call(document.querySelectorAll(headersSelector));\n    var waiting = false;\n\n    headers.length &&\n      this.subscribeTo(window).on(\"scroll\", () => {\n        if (!waiting) {\n          waiting = true;\n          setTimeout(() => {\n            var threshold = window.innerHeight / 3;\n            var closestHeader;\n            var closestTop;\n\n            headers.map(header => {\n              var top = header.getBoundingClientRect().top;\n              if (\n                closestTop == null ||\n                (top < threshold && Math.abs(top) < Math.abs(closestTop))\n              ) {\n                closestTop = top;\n                closestHeader = header;\n              }\n            });\n\n            var anchor = closestHeader.id;\n            var anchorEl =\n              this.el.querySelector('a[href=\"#' + anchor + '\"]') ||\n              this.el.querySelector(\"a.selected\");\n            var targetAnchor = anchorEl;\n            var childList = targetAnchor.nextSibling;\n\n            if (childList) {\n              forEach.call(childList.querySelectorAll(\"a[href^=\\\\#]\"), a =>\n                a.classList.remove(\"selected\")\n              );\n            }\n\n            while (targetAnchor) {\n              var parentList = targetAnchor.closest(\"ul\");\n              var siblings =\n                parentList &&\n                filter.call(\n                  parentList.querySelectorAll(\":scope > li > a[href^=\\\\#]\"),\n                  a => a !== targetAnchor\n                );\n              siblings && siblings.forEach(a => a.classList.remove(\"selected\"));\n              targetAnchor.classList.add(\"selected\");\n              targetAnchor = parentList && parentList.previousElementSibling;\n            }\n\n            this.scrollAnchorIntoView(anchorEl);\n\n            waiting = false;\n          }, 50);\n        }\n      });\n  },\n\n  listenForHeaderChanges() {\n    forEach.call(this.el.querySelectorAll(\"a[href^=\\\\#]\"), a => {\n      this.subscribeTo(a).on(\"click\", () => {\n        siteHeaderComponent.hide();\n        siteHeaderComponent.pause();\n        siteHeaderComponent.resume();\n        this.hide();\n      });\n    });\n\n    // handles nested selected links\n    var selectedLink = slice.call(this.el.querySelectorAll(\"a.selected\")).pop();\n\n    selectedLink &&\n      this.subscribeTo(selectedLink).on(\"click\", e => {\n        window.scrollTo(0, 0);\n        siteHeaderComponent.reset();\n        e.preventDefault();\n      });\n\n    this.subscribeTo(siteHeaderEvents)\n      .on(\"reset\", () => {\n        this.el.classList.remove(\"no-header\");\n        this.el.classList.remove(\"fixed\");\n        setTimeout(() => this.el.classList.remove(\"transition\"), 0);\n      })\n      .on(\"fix\", () => {\n        this.el.classList.remove(\"no-header\");\n        this.el.classList.add(\"fixed\");\n        setTimeout(() => this.el.classList.add(\"transition\"), 0);\n      })\n      .on(\"hide\", () => {\n        this.el.classList.add(\"no-header\");\n        this.el.classList.add(\"fixed\");\n        setTimeout(() => this.el.classList.add(\"transition\"), 0);\n      })\n      .on(\"toggle-menu\", () => {\n        if (this.el.classList.contains(\"show\")) {\n          this.el.classList.remove(\"show\");\n          document.body.style.overflow = \"\";\n        } else {\n          this.el.classList.add(\"show\");\n        }\n      })\n      .on(\"create\", _siteHeaderComponent => {\n        siteHeaderComponent = _siteHeaderComponent;\n\n        if (window.pageYOffset > siteHeaderComponent.el.offsetHeight) {\n          this.el.classList.add(\"no-header\");\n          this.el.classList.add(\"fixed\");\n        }\n      });\n  },\n\n  preventOverscroll() {\n    var sidebar = this.getEl(\"sidebar\");\n    this.subscribeTo(document.body).on(\"wheel\", e => {\n      var delta = e.deltaY;\n      var scrollTarget = sidebar.scrollTop + delta;\n      var topY = 0;\n      var bottomY = sidebar.scrollHeight - sidebar.offsetHeight;\n      var atTop = scrollTarget <= topY;\n      var atBottom = scrollTarget >= bottomY;\n\n      if ((delta < 0 && atTop) || (delta > 0 && atBottom)) {\n        if (e.target === sidebar || sidebar.contains(e.target)) {\n          if (atTop && sidebar.scrollTop != topY) {\n            sidebar.scrollTop = topY;\n          } else if (atBottom && sidebar.scrollTop != bottomY) {\n            sidebar.scrollTop = bottomY;\n          }\n          e.preventDefault();\n        }\n      }\n    });\n  },\n\n  scrollAnchorIntoView(anchorEl) {\n    var sidebar = this.getEl(\"sidebar\");\n    var anchorTop = anchorEl.offsetTop;\n    var sidebarScrollTop = sidebar.scrollTop;\n    var sidebarHeight = sidebar.offsetHeight;\n    var sidebarScrollBottom = sidebarScrollTop + sidebarHeight;\n\n    var targetList = anchorEl.closest(\"li\");\n    var parentList;\n\n    while (true) {\n      parentList = targetList.parentNode.closest(\"ul\");\n      if (parentList && parentList.offsetHeight < sidebarHeight) {\n        targetList = parentList;\n      } else {\n        break;\n      }\n    }\n\n    var targetTop = targetList.offsetTop;\n    var targetHeight = targetList.offsetHeight;\n    var targetBottom = targetTop + targetHeight;\n    var targetIsFullyVisible =\n      targetTop > sidebarScrollTop && targetBottom < sidebarScrollBottom;\n\n    if (!targetIsFullyVisible) {\n      sidebar.scrollTop = targetTop + targetHeight / 2 - sidebarHeight / 2;\n    }\n  },\n\n  hide() {\n    this.el.classList.remove(\"show\");\n    document.body.style.overflow = \"\";\n  }\n};\n","module.exports = {\n  switchVersion(e) {\n    var location = e.target.value;\n    if (location !== \"current\") {\n      e.target.value = \"current\";\n      window.location.href = location;\n    }\n  }\n};\n","export default __webpack_public_path__ + \"657b26bd.svg\";","export default __webpack_public_path__ + \"f9c991e7.png\";","export default __webpack_public_path__ + \"4dab80b0.png\";","export default __webpack_public_path__ + \"e213de74.png\";","export default __webpack_public_path__ + \"64c1e059.png\";","export default __webpack_public_path__ + \"8d84725b.svg\";","export default __webpack_public_path__ + \"91bc26e5.svg\";"],"names":["default","defaultValue","value","JSON","parse","decompressFromEncodedURIComponent","window","location","hash","slice","e","console","error","compressToEncodedURIComponent","stringify","addEventListener","files","externalFiles","selectedIndex","externalSelected","selectedFile","nextId","file","index","editing","selected","mutable","d","name","finishRename","modifiedFile","path","replace","nameInput","length","code","focus","setSelectionRange","indexOf","confirm","stopPropagation","t","newFile","content","concat","actions","body","renderBody","valueChange","class","className","el","target","query","fallback","isMatch","matchMedia","matches","mq","listener","removeEventListener","left","right","editorSize","resizing","isVertical","container","preventDefault","handler","buttons","which","rect","getBoundingClientRect","fraction","clientY","top","height","clientX","width","Math","min","max","previewType","activeEditor","substring","async","loading","preview","register","init","siteHeaderEvents","require","classNames","module","exports","onMount","emit","this","cb","scrollLast","startOffset","getEl","offsetHeight","bannerHeight","handleScroll","scrollCurrent","pageYOffset","reset","paused","abs","hide","fix","requestAnimationFrame","removeClass","addClass","cls","classList","add","remove","pause","resume","setTimeout","toggleMenu","EventEmitter","input","grow","shrink","search","encodeURIComponent","href","siteHeaderComponent","forEach","filter","preventOverscroll","listenForHeaderChanges","initScrollSpy","headersSelector","map","n","join","headers","call","document","querySelectorAll","waiting","subscribeTo","on","closestHeader","closestTop","threshold","innerHeight","header","anchor","id","anchorEl","querySelector","targetAnchor","childList","nextSibling","a","parentList","closest","siblings","previousElementSibling","scrollAnchorIntoView","selectedLink","pop","scrollTo","contains","style","overflow","_siteHeaderComponent","sidebar","delta","deltaY","scrollTarget","scrollTop","bottomY","scrollHeight","atTop","atBottom","sidebarScrollTop","offsetTop","sidebarHeight","sidebarScrollBottom","targetList","parentNode","targetTop","targetHeight","switchVersion"],"sourceRoot":""}