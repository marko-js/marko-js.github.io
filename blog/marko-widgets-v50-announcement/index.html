<!doctype html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Announcing Marko Widgets v5 | Marko</title><link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml"><meta name="description"><link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width"><link rel="stylesheet" href="/static/post-fedcde62.css">
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"></head><body><header id="header" data-widget="/markojs.com$1.0.0/src/components/app-header/index"><div class="container"><div id="logo"><a href="/"><img src="/images/logo-header.png" alt="Marko"></a></div><nav role="navigation" id="nav" class="mobile-hidden"><ul class="main-navigation"><li><a href="/docs/">Docs</a></li><li><a href="/community/">Community</a></li><li><a href="/blog/" class="active">Blog</a></li><li><a href="/github/">Github</a></li><li class="nav-search"><i class="fa fa-search" data-w-onclick="handleToggleSearchClick|header"></i><form action="https://google.com/search" method="get" class="search-form"><input type="hidden" name="as_sitesearch" value="markojs.com"><input type="text" name="q" results="0" placeholder class="search-input"></form></li></ul></nav><div style="clear: both"></div></div></header><div class="container"><main class="main"><article class="hentry" role="article"><h1 class="post-title">Announcing Marko Widgets v5</h1><div class="post-meta"><span class="byline author vcard">Posted by <span class="fn">Patrick Steele-Idem</span></span>on <time data-updated="true" pubdate datetime="2015-09-05">Saturday, Sep 5th, 2015</time><span class="categories"><br><i class="fa fa-tags"></i><a href="/blog/category/marko-widgets/" class="category">Marko Widgets</a>, <a href="/blog/category/announcements/" class="category">Announcements</a></span></div><div class="post-body"><p>The release of Marko Widgets v5 introduces some exciting new features that improve how the DOM is updated. The highlight of this release is that Marko Widgets now uses DOM diffing/patching to update the DOM by integrating the <a href="https://github.com/patrick-steele-idem/morphdom">morphdom</a> module. We intentionally omitted the &quot;virtual&quot; part because <code>morphdom</code> does diffing between <em>real</em> DOM nodes. We found it beneficial to not go the &quot;virtual&quot; route for the following reasons:</p>
<ul>
<li>The real DOM is the source of truth so there is no need to have a persistent copy of the actual DOM in memory at all times</li>
<li>Our benchmarks  showed that using the real DOM is plenty fast (for example, &lt;0.5ms to update Todo MVC view, see <a href="https://github.com/patrick-steele-idem/marko-vs-react">Marko vs React</a> and <a href="https://github.com/patrick-steele-idem/morphdom#benchmarks">morphdom » Benchmarks</a>)</li>
<li>Less layers of abstraction</li>
<li>A virtual DOM solution can only be used with code/templates that produce a virtual DOM tree and...</li>
<li>Creating and rendering a virtual DOM tree on the server is much slower than rendering HTML on the server (Our <a href="https://github.com/patrick-steele-idem/marko-vs-react">Marko vs React</a> and <a href="https://github.com/patrick-steele-idem/morphdom#benchmarks">morphdom » Benchmarks</a> benchmark showed that Marko Widgets is 10x faster than React in rendering a page of 100 search results on the server)</li>
<li>Also, by using the real DOM, UI components can manually manipulate the DOM and diffing/patching will still work.</li>
</ul>
<h2 id="size"><a name="size" class="anchor" href="#size"><span class="header-link"></span></a>Size</h2><p>The <code>morphdom</code> module is tiny at ~250 lines of code and about ~1KB gzipped. In addition, by introducing the <code>morphdom</code> we were able to shrink the size of Marko Widgets since it simplified how the DOM was updated and solved a lot of other quirks in the process. As a result Marko Widgets is extremely small:</p>
<ul>
<li>Marko Widgets (including morphdom and core dependencies): <code>~10KB</code> gzipped*</li>
<li>Marko: <code>~4KB</code> gzipped*</li>
</ul>
<p><em>*NOTE: Choice of JavaScript module bundler will impact actual JavaScript size. Some common dependencies such as the <a href="https://nodejs.org/api/events.html">events</a> module have been omitted from size calculation.</em></p>
<h2 id="upgrading"><a name="upgrading" class="anchor" href="#upgrading"><span class="header-link"></span></a>Upgrading</h2><p>Marko Widgets v5 is largely backwards compatible and you will likely be able to upgrade with no code changes. However, because reusing DOM nodes has the potential to introduce different behavior we chose to increment the major version.</p>
<p>For the complete list of changes and instructions for upgrading, please see <a href="https://github.com/marko-js/marko-widgets/blob/master/CHANGELOG.md#v4-to-v5">marko-widgets » CHANGELOG.md</a></p>
</div><div class="post-footer"><div class="sharing"><a href="https://twitter.com/share" class="twitter-share-button" data-via="psteeleidem">Tweet</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
</script></div><div class="post-nav"><br><span class="post-newer"><a title="Next Post: A Closer Look at Marko Widgets" href="/blog/a-closer-look-at-marko-widgets/" class="post-newer">Newer: A Closer Look at Marko Widgets<i class="fa fa-arrow-right"></i></a></span></div></div></article><section><h1>Comments</h1><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname = "markojs";var disqus_identifier = "marko-widgets-v50-announcement";var disqus_title = "Announcing Marko Widgets v5";

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></section></main></div><footer id="footer"><section id="footer-message" class="container">© 2016 eBay, Inc</section></footer><script src="/static/post-66d5bff9.js"></script>
<script src="/static/marko-widgets-eab61816.js"></script>
<script src="/static/marko-e95dd2f4.js"></script>
<script>$_mod.ready();</script><noscript id="markoWidgets" data-ids="header"></noscript><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-66854919-1', 'markojs.com');
ga('send', 'pageview');
</script><script>((window.gitter = {}).chat = {}).options = {
  room: 'marko-js/marko'
};
</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script></body></html>