<!doctype html><html><head><title>Why is Marko Fast? | Marko</title><link rel="icon" type="image/png" sizes="32x32" href="/favicon-3b1126c5.png"><meta name="viewport" content="width=device-width, initial-scale=1"><script>
        var scalingBodyFont = false;

        function scaleBodyFont() {
            var height = Math.max(window.outerHeight, window.screen.height);
            document.documentElement.style.fontSize = Math.pow(Math.min(window.innerWidth, height), 0.25)*19+'%';
            scalingBodyFont = false;
        }

        window.addEventListener('resize', function() {
            requestAnimationFrame(scaleBodyFont);
        });

        scaleBodyFont();
    </script><link rel="stylesheet" href="/docs-eb7f83fd.css"></head><body class="docs"><!--M^s0-0-8--><header class="site-header"><a href="/"><img src="/logo-header-1f990245.png" class="site-logo"></a><div class="stuff"><nav class="site-menu"><a href="/docs/getting-started/">docs</a><a href="/try-online">try online</a><a href="https://github.com/marko-js/marko">github</a><!--M^s0-0-8-4-4--><form class="site-search search" data-marko='{"onclick":"focus s0-0-8-4-4","onsubmit":"search s0-0-8-4-4"}'><img src="/search-c29a7d7d.png"><input type="search" placeholder="search the docs..." data-marko-key="input s0-0-8-4-4"></form><!--M/s0-0-8-4-4--></nav><button class="menu" data-marko='{"onclick":"toggleMenu s0-0-8"}'>&#9776;</button></div></header><!--M/s0-0-8--><!--M^s0-0-9--><div class="doc-sidebar" data-marko-key="sidebar s0-0-9"><button class="close" data-marko='{"onclick":"hide s0-0-9"}'>&#10005;</button><h1>Marko <!--M^s0-0-9-8--><select data-marko='{"onchange":"switchVersion s0-0-9-8"}'><option value="current" selected>4.5.5</option><option value="http://v3.markojs.com/docs/">3.x</option><option value="http://marko-v2.github.io/docs/">2.x</option></select><!--M/s0-0-9-8--></h1><!--M^s0-0-9-9--><form class="site-search search" data-marko='{"onclick":"focus s0-0-9-9","onsubmit":"search s0-0-9-9"}'><img src="/search-c29a7d7d.png"><input type="search" placeholder="search the docs..." data-marko-key="input s0-0-9-9"></form><!--M/s0-0-9-9--><ul class="toc-level0"><li class="section"><a href="/docs/introduction-overview/">INTRODUCTION</a></li><li><a href="/docs/installing/">Installing</a></li><li><a href="/docs/getting-started/">Getting started</a></li><li><a href="/docs/rendering/">Rendering</a></li><li><a href="/docs/syntax/">Syntax</a></li><li><a href="/docs/core-tags/">Core tags</a></li><li><a href="/docs/custom-tags/">Custom tags</a></li><li><a href="/docs/components/">Components</a></li><li><a href="/docs/server-side-rendering/">Server-side rendering</a></li></ul><ul class="toc-level0"><li class="section"><a href="/docs/bundler-integrations-overview/">BUNDLER INTEGRATIONS</a></li><li><a href="/docs/lasso/">Lasso</a></li><li><a href="/docs/webpack/">Webpack</a></li><li><a href="/docs/browserify/">Browserify</a></li><li><a href="/docs/rollup/">Rollup</a></li></ul><ul class="toc-level0"><li class="section"><a href="/docs/server-integrations-overview/">SERVER INTEGRATIONS</a></li><li><a href="/docs/express/">Express</a></li><li><a href="/docs/koa/">Koa</a></li><li><a href="/docs/hapi/">Hapi</a></li><li><a href="/docs/http/">HTTP</a></li><li><a href="/docs/server-integrations-other-overview/">Other</a></li></ul><ul class="toc-level0"><li class="section"><a href="/docs/framework-integrations-overview/">FRAMEWORK INTEGRATIONS</a></li><li><a href="/docs/redux/">Redux</a></li></ul><ul class="toc-level0"><li class="section"><a href="/docs/tooling-overview/">TOOLING</a></li><li><a href="/docs/editor-plugins/">Editor plugins</a></li></ul><ul class="toc-level0"><li class="section"><a href="/docs/tutorials-overview/">TUTORIALS</a></li><li><a href="/docs/color-picker/">Color Picker</a></li></ul><ul class="toc-level0"><li class="section"><a href="/docs/articles-overview/">ARTICLES</a></li><li><a href="/docs/marko-vs-react/">Marko vs React</a></li><li><a class="selected" href="/docs/why-is-marko-fast/">Why is Marko Fast</a><ul class="toc toc-level1"><li><ul class="toc toc-level2"><li><a href="#multiple-compilation-outputs">Multiple Compilation Outputs</a><ul class="toc toc-level3"><li><a href="#compiled-for-the-server">Compiled for the server</a></li><li><a href="#compiled-for-the-browser">Compiled for the browser</a></li></ul></li><li><a href="#modular-runtime">Modular Runtime</a></li><li><a href="#high-performance-server-side-rendering">High performance server-side rendering</a></li><li><a href="#compile-time-optimization-of-static-sub-trees">Compile-time optimization of static sub-trees</a></li><li><a href="#compile-time-optimization-of-static-attributes">Compile-time optimization of static attributes</a></li><li><a href="#smart-compiler">Smart compiler</a></li><li><a href="#event-delegation">Event delegation</a></li></ul></li></ul></li><li><a href="/docs/10-awesome-marko-features/">10 Awesome Marko Features</a></li></ul></div><!--M/s0-0-9--><div class="content"><div class="doc-layout"><div class="doc-container"><div class="doc-content"><h1 id="why-is-marko-fast"><a name="why-is-marko-fast" class="anchor" href="#why-is-marko-fast"><span class="header-link"></span></a>Why is Marko Fast?</h1><p><a href="https://medium.com/@psteeleidem/why-is-marko-fast-a20796cb8ae3"><img src="https://user-images.githubusercontent.com/1958812/28104838-d0182f48-6691-11e7-808d-d1ae2d0fed6d.png" alt="Marko logo" width="100%"></a><br></p><p>You can find the original <a href="https://medium.com/@psteeleidem/why-is-marko-fast-a20796cb8ae3">&quot;Why is Marko Fast?&quot; article here</a>!</p><p>At eBay we are using <a href="/">Marko</a> to render over a billion requests every day and this has required us to finely tune Marko, our open source UI library. We have heavily optimized Marko for fast rendering, <a href="http://www.ebaytechblog.com/2014/12/08/async-fragments-rediscovering-progressive-html-rendering-with-marko/">advanced performance techniques</a> and to achieve a minimal page weight (~10kb gzipped). Performance is only one concern because we have also had to scale Marko to support development across hundreds of teams in a way that allows developers to efficiently create maintainable and robust web apps.</p><p>We have created <a href="https://github.com/marko-js/isomorphic-ui-benchmarks">our own benchmarks</a> and we have <a href="https://github.com/raxjs/server-side-rendering-comparison/pull/11">added Marko to other benchmarks</a>, but benchmarks cannot always be trusted. While we make every effort to be fair with our benchmarks, what matters most is performance in real world applications as opposed to focusing on micro benchmarks. This is one reason that the V8 team has switched to <a href="https://v8project.blogspot.com/2016/12/how-v8-measures-real-world-performance.html">a new methodology to measure and understand real-world JavaScript performance</a>.</p><p>Similarly, we’ve taken a look at how our developers are <em>actually</em> writing their Marko components and have found patterns that could be further optimized. Instead of focusing on benchmarks in this article, I want to focus on the details of optimizations that we have applied to Marko.</p><h3 id="multiple-compilation-outputs"><a name="multiple-compilation-outputs" class="anchor" href="#multiple-compilation-outputs"><span class="header-link"></span></a>Multiple Compilation Outputs</h3><p>Marko is an isomorphic UI library that runs on both the server and in the browser. As <a href="https://medium.com/@mlrawlings">Michael Rawlings</a> mentioned in “<a href="https://hackernoon.com/server-side-rendering-shootout-with-marko-preact-rax-react-and-vue-25e1ae17800f">Server-side Rendering Shootout</a>”, when rendering on the server, Marko renders directly to a string representation of the document (HTML) that can be sent as the HTTP response.</p><p>When rendering in the browser, an HTML string would have to be parsed in order to update the DOM. For this reason, Marko compiles a view to a program that renders directly to a virtual document (VDOM) tree that can be used to efficiently update the real DOM when targeting the browser.</p><p>Given the following template:</p><script>
            if(localStorage.getItem('markojs-website:syntax') === 'concise') {
                document.body.classList.add('concise');
            }
        </script><!--M^s0-4-82--><div class="marko-code-block"><button class="switch-syntax" data-marko='{"onclick":"changeSyntax s0-4-82"}'>switch syntax</button><div class="code html"><pre class="editor editor-colors"><div class="line"><span class="text marko"><span class="punctuation definition tag begin open html"><span>&lt;</span></span><span class="entity name tag open html"><span>div</span></span><span class="punctuation definition tag end open html"><span>&gt;</span></span><span>Hello&nbsp;</span><span class="meta section marko-placeholder"><span class="keyword operator marko"><span>${</span></span><span class="entity name type"><span>input</span></span><span>.name</span><span class="keyword operator marko"><span>}</span></span></span><span>!</span><span class="punctuation definition tag begin close html"><span>&lt;/</span></span><span class="entity name tag close html"><span>div</span></span><span class="punctuation definition tag end close html"><span>&gt;</span></span></span></div></pre></div><div class="code concise"><pre class="editor editor-colors"><div class="line"><span class="text marko"><span class="entity name tag concise"><span>div</span></span><span>&nbsp;</span><span class="keyword operator marko"><span>--</span></span><span>&nbsp;Hello&nbsp;</span><span class="meta section marko-placeholder"><span class="keyword operator marko"><span>${</span></span><span class="entity name type"><span>input</span></span><span>.name</span><span class="keyword operator marko"><span>}</span></span></span><span>!</span></span></div></pre></div></div><!--M/s0-4-82--><h4 id="compiled-for-the-server"><a name="compiled-for-the-server" class="anchor" href="#compiled-for-the-server"><span class="header-link"></span></a>Compiled for the server</h4><p>The compiled output is optimized for streaming HTML output on the server:</p><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="storage type var js"><span>var</span></span><span>&nbsp;marko_template&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta function-call js"><span class="support function js"><span>require</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>marko/html</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>t</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="support variable js"><span>__filename</span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="meta delimiter object comma js"><span>,</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;marko_helpers&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta function-call js"><span class="support function js"><span>require</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>marko/runtime/html/helpers</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="meta delimiter object comma js"><span>,</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;marko_escapeXml&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="variable other object js"><span>marko_helpers</span></span><span class="meta delimiter property period js"><span>.</span></span><span class="support variable property dom js"><span>x</span></span><span class="punctuation terminator statement js"><span>;</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;</span></span></div><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="entity name function js"><span>render</span></span><span class="meta parameters js"><span class="punctuation definition parameters begin bracket round js"><span>(</span></span><span class="variable parameter function js"><span>input</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function js"><span>out</span></span><span class="punctuation definition parameters end bracket round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function body begin bracket curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;</span><span class="variable other object js"><span>out</span></span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>w</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>&lt;div&gt;Hello&nbsp;</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator js"><span>+</span></span></span></span></span></div><div class="line"><span class="source js"><span class="meta method-call js"><span class="meta arguments js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call js"><span class="entity name function js"><span>marko_escapeXml</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="variable other object js"><span>input</span></span><span class="meta delimiter property period js"><span>.</span></span><span class="support variable property dom js"><span>name</span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="keyword operator js"><span>+</span></span></span></span></span></div><div class="line"><span class="source js"><span class="meta method-call js"><span class="meta arguments js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>!&lt;/div&gt;</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></div><div class="line"><span class="source js"><span class="punctuation definition function body end bracket curly js"><span>}</span></span></span></div></pre><h4 id="compiled-for-the-browser"><a name="compiled-for-the-browser" class="anchor" href="#compiled-for-the-browser"><span class="header-link"></span></a>Compiled for the browser</h4><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="storage type var js"><span>var</span></span><span>&nbsp;marko_template&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta function-call js"><span class="support function js"><span>require</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>marko/vdom</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>t</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="support variable js"><span>__filename</span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;</span></span></div><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="entity name function js"><span>render</span></span><span class="meta parameters js"><span class="punctuation definition parameters begin bracket round js"><span>(</span></span><span class="variable parameter function js"><span>input</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function js"><span>out</span></span><span class="punctuation definition parameters end bracket round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function body begin bracket curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;</span><span class="variable other object js"><span>out</span></span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>e</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>DIV</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="constant language null js"><span>null</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="constant numeric decimal js"><span>3</span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>t</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>Hello&nbsp;</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>t</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="variable other object js"><span>input</span></span><span class="meta delimiter property period js"><span>.</span></span><span class="support variable property dom js"><span>name</span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>t</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>!</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></div><div class="line"><span class="source js"><span class="punctuation definition function body end bracket curly js"><span>}</span></span></span></div></pre><p>The compiled output is optimized for virtual DOM rendering in the browser:</p><h3 id="modular-runtime"><a name="modular-runtime" class="anchor" href="#modular-runtime"><span class="header-link"></span></a>Modular Runtime</h3><p>The Marko runtime is not distributed as a single JavaScript file. Instead, the Marko compiler generates a JavaScript module that will only import the parts of the runtime that are actually needed. This allows us to add new features to Marko without bloating existing applications. For example, given the following template:</p><!--M^s0-4-83--><div class="marko-code-block"><button class="switch-syntax" data-marko='{"onclick":"changeSyntax s0-4-83"}'>switch syntax</button><div class="code html"><pre class="editor editor-colors"><div class="line"><span class="text marko"><span class="storage modifier embedded js"><span>$</span></span><span>&nbsp;</span><span class="source js embedded"><span class="storage type var js"><span>var</span></span><span>&nbsp;color</span><span>&nbsp;</span><span class="keyword operator js"><span>=</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&#39;</span></span><span>red</span><span class="punctuation definition string end js"><span>&#39;</span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></div><div class="line"><span class="text marko"><span class="punctuation definition tag begin open html"><span>&lt;</span></span><span class="entity name tag open html"><span>div</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>style</span></span><span class="punctuation separator key-value html"><span>=</span></span><span class="punctuation section scope begin js"><span>{</span></span><span>backgroundColor</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span>color</span><span class="punctuation section scope end js"><span>}</span></span><span class="punctuation definition tag end open html"><span>&gt;</span></span><span class="punctuation definition tag begin close html"><span>&lt;/</span></span><span class="entity name tag close html"><span>div</span></span><span class="punctuation definition tag end close html"><span>&gt;</span></span></span></div></pre></div><div class="code concise"><pre class="editor editor-colors"><div class="line"><span class="text marko"><span class="storage modifier embedded js"><span>$</span></span><span>&nbsp;</span><span class="source js embedded"><span class="storage type var js"><span>var</span></span><span>&nbsp;color</span><span>&nbsp;</span><span class="keyword operator js"><span>=</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&#39;</span></span><span>red</span><span class="punctuation definition string end js"><span>&#39;</span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></div><div class="line"><span class="text marko"><span class="entity name tag concise"><span>div</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>style</span></span><span class="punctuation separator key-value html"><span>=</span></span><span class="punctuation section scope begin js"><span>{</span></span><span>backgroundColor</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span>color</span><span class="punctuation section scope end js"><span>}</span></span></span></div></pre></div></div><!--M/s0-4-83--><p>In the above example, extra runtime code is needed to render the <code>style</code> attribute based on the JavaScript object that is provided. The compiled code that imports the <code>styleAttr</code> helper is shown below:</p><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="storage type var js"><span>var</span></span><span>&nbsp;marko_styleAttr&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta function-call js"><span class="support function js"><span>require</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>marko/runtime/vdom/helper-styleAttr</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;</span></span></div><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="entity name function js"><span>render</span></span><span class="meta parameters js"><span class="punctuation definition parameters begin bracket round js"><span>(</span></span><span class="variable parameter function js"><span>input</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function js"><span>out</span></span><span class="punctuation definition parameters end bracket round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function body begin bracket curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;</span><span class="storage type var js"><span>var</span></span><span>&nbsp;color&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&#39;</span></span><span>red</span><span class="punctuation definition string end js"><span>&#39;</span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;</span><span class="variable other object js"><span>out</span></span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>e</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>DIV</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span></div><div class="line"><span class="source js"><span class="meta method-call js"><span class="meta arguments js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style</span><span class="keyword operator assignment js"><span>:</span></span><span>&nbsp;</span><span class="meta function-call js"><span class="entity name function js"><span>marko_styleAttr</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="meta brace curly js"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="source js"><span class="meta method-call js"><span class="meta arguments js"><span class="meta function-call js"><span class="meta arguments js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backgroundColor</span><span class="keyword operator assignment js"><span>:</span></span><span>&nbsp;color</span></span></span></span></span></span></div><div class="line"><span class="source js"><span class="meta method-call js"><span class="meta arguments js"><span class="meta function-call js"><span class="meta arguments js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span></span></span></span></div><div class="line"><span class="source js"><span class="meta method-call js"><span class="meta arguments js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="constant numeric decimal js"><span>0</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="constant numeric decimal js"><span>4</span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></div><div class="line"><span class="source js"><span class="punctuation definition function body end bracket curly js"><span>}</span></span></span></div></pre><h3 id="high-performance-server-side-rendering"><a name="high-performance-server-side-rendering" class="anchor" href="#high-performance-server-side-rendering"><span class="header-link"></span></a>High performance server-side rendering</h3><p>Compared to solutions based on JSX that exclusively do virtual DOM rendering, Marko has a huge advantage for server-side rendering. When rendering to a virtual DOM tree on the server it’s a two-step process to render HTML:</p><ul><li>First pass to produce an entire virtual DOM tree in memory</li><li>Second pass to serialize the virtual DOM tree to an HTML string that can then be sent over the wire (this requires traversing the entire tree structure)</li></ul><p>In contrast, Marko renders directly to an HTML stream in a single pass. There is no intermediate tree data structure.</p><h3 id="compile-time-optimization-of-static-sub-trees"><a name="compile-time-optimization-of-static-sub-trees" class="anchor" href="#compile-time-optimization-of-static-sub-trees"><span class="header-link"></span></a>Compile-time optimization of static sub-trees</h3><p>Given the following template:</p><!--M^s0-4-84--><div class="marko-code-block"><button class="switch-syntax" data-marko='{"onclick":"changeSyntax s0-4-84"}'>switch syntax</button><div class="code html"><pre class="editor editor-colors"><div class="line"><span class="text marko"><span class="punctuation definition tag begin open html"><span>&lt;</span></span><span class="entity name tag open html"><span>div</span></span><span class="punctuation definition tag end open html"><span>&gt;</span></span><span>This&nbsp;is&nbsp;a&nbsp;</span><span class="punctuation definition tag begin open html"><span>&lt;</span></span><span class="entity name tag open html"><span>strong</span></span><span class="punctuation definition tag end open html"><span>&gt;</span></span><span>static</span><span class="punctuation definition tag begin close html"><span>&lt;/</span></span><span class="entity name tag close html"><span>strong</span></span><span class="punctuation definition tag end close html"><span>&gt;</span></span><span>&nbsp;node</span><span class="punctuation definition tag begin close html"><span>&lt;/</span></span><span class="entity name tag close html"><span>div</span></span><span class="punctuation definition tag end close html"><span>&gt;</span></span></span></div></pre></div><div class="code concise"><pre class="editor editor-colors"><div class="line"><span class="text marko"><span class="entity name tag concise"><span>div</span></span></span></div><div class="line"><span class="text marko"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword operator marko"><span>--</span></span><span>&nbsp;This&nbsp;is&nbsp;a&nbsp;</span><span class="punctuation definition tag begin open html"><span>&lt;</span></span><span class="entity name tag open html"><span>strong</span></span><span class="punctuation definition tag end open html"><span>&gt;</span></span><span>static</span><span class="punctuation definition tag begin close html"><span>&lt;/</span></span><span class="entity name tag close html"><span>strong</span></span><span class="punctuation definition tag end close html"><span>&gt;</span></span><span>&nbsp;node</span></span></div></pre></div></div><!--M/s0-4-84--><p>Marko will recognize that the template fragment produces the same output every time and it will thus create the virtual DOM node once as shown in the following compiled output:</p><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="storage type var js"><span>var</span></span><span>&nbsp;marko_node0&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta function-call js"><span class="entity name function js"><span>marko_createElement</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>DIV</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="constant language null js"><span>null</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="constant numeric decimal js"><span>3</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="keyword operator spread js"><span>...</span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;</span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>t</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>This&nbsp;is&nbsp;a&nbsp;</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;</span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>e</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>STRONG</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="constant language null js"><span>null</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="constant numeric decimal js"><span>1</span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>t</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>static</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;</span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>t</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>&nbsp;node</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;</span></span></div><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="entity name function js"><span>render</span></span><span class="meta parameters js"><span class="punctuation definition parameters begin bracket round js"><span>(</span></span><span class="variable parameter function js"><span>input</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function js"><span>out</span></span><span class="punctuation definition parameters end bracket round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function body begin bracket curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;</span><span class="variable other object js"><span>out</span></span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>n</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span>marko_node0</span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></div><div class="line"><span class="source js"><span class="punctuation definition function body end bracket curly js"><span>}</span></span></span></div></pre><p>Rendering a static sub-tree has virtually zero cost. In addition, Marko will skip diffing/patching static sub-trees.</p><p>Similarly, on the server, Marko will merge static parts of the template into a single string:</p><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="entity name function js"><span>render</span></span><span class="meta parameters js"><span class="punctuation definition parameters begin bracket round js"><span>(</span></span><span class="variable parameter function js"><span>input</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function js"><span>out</span></span><span class="punctuation definition parameters end bracket round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function body begin bracket curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;</span><span class="variable other object js"><span>out</span></span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>w</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>&lt;div&gt;This&nbsp;is&nbsp;a&nbsp;&lt;strong&gt;static&lt;/strong&gt;&nbsp;node&lt;/div&gt;</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></div><div class="line"><span class="source js"><span class="punctuation definition function body end bracket curly js"><span>}</span></span></span></div></pre><h3 id="compile-time-optimization-of-static-attributes"><a name="compile-time-optimization-of-static-attributes" class="anchor" href="#compile-time-optimization-of-static-attributes"><span class="header-link"></span></a>Compile-time optimization of static attributes</h3><p>Marko will also optimize static attributes on dynamic elements.</p><p>Given the following template:</p><!--M^s0-4-85--><div class="marko-code-block"><button class="switch-syntax" data-marko='{"onclick":"changeSyntax s0-4-85"}'>switch syntax</button><div class="code html"><pre class="editor editor-colors"><div class="line"><span class="text marko"><span class="punctuation definition tag begin open html"><span>&lt;</span></span><span class="entity name tag open html"><span>div</span></span><span class="entity other attribute-name shorthand"><span>.hello</span></span><span class="punctuation definition tag end open html"><span>&gt;</span></span><span>Hello&nbsp;</span><span class="meta section marko-placeholder"><span class="keyword operator marko"><span>${</span></span><span class="entity name type"><span>input</span></span><span>.name</span><span class="keyword operator marko"><span>}</span></span></span><span>!</span><span class="punctuation definition tag begin close html"><span>&lt;/</span></span><span class="entity name tag close html"><span>div</span></span><span class="punctuation definition tag end close html"><span>&gt;</span></span></span></div></pre></div><div class="code concise"><pre class="editor editor-colors"><div class="line"><span class="text marko"><span class="entity name tag concise"><span>div</span><span class="entity other attribute-name shorthand"><span>.hello</span></span></span><span>&nbsp;</span><span class="keyword operator marko"><span>--</span></span><span>&nbsp;Hello&nbsp;</span><span class="meta section marko-placeholder"><span class="keyword operator marko"><span>${</span></span><span class="entity name type"><span>input</span></span><span>.name</span><span class="keyword operator marko"><span>}</span></span></span><span>!</span></span></div></pre></div></div><!--M/s0-4-85--><p>Marko will produce the following compiled output:</p><pre class="editor editor-colors"><div class="line"><span class="source js"><span class="storage type var js"><span>var</span></span><span>&nbsp;marko_attrs0&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>class</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="keyword operator assignment js"><span>:</span></span><span>&nbsp;</span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>hello</span><span class="punctuation definition string end js"><span>&quot;</span></span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span><span class="punctuation terminator statement js"><span>;</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;</span></span></div><div class="line"><span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="entity name function js"><span>render</span></span><span class="meta parameters js"><span class="punctuation definition parameters begin bracket round js"><span>(</span></span><span class="variable parameter function js"><span>input</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function js"><span>out</span></span><span class="punctuation definition parameters end bracket round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function body begin bracket curly js"><span>{</span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;</span><span class="variable other object js"><span>out</span></span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>e</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>DIV</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;marko_attrs0</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="constant numeric decimal js"><span>3</span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>t</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>Hello&nbsp;</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>t</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="variable other object js"><span>input</span></span><span class="meta delimiter property period js"><span>.</span></span><span class="support variable property dom js"><span>name</span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span></span></div><div class="line"><span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta method-call js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>t</span></span><span class="meta arguments js"><span class="punctuation definition arguments begin bracket round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>!</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="punctuation definition arguments end bracket round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></div><div class="line"><span class="source js"><span class="punctuation definition function body end bracket curly js"><span>}</span></span></span></div></pre><p>Notice that the attributes object is only created once and it is used for every render. In addition, no diffing/patching will happen for static attributes.</p><h3 id="smart-compiler"><a name="smart-compiler" class="anchor" href="#smart-compiler"><span class="header-link"></span></a>Smart compiler</h3><p>With Marko we favor doing as much at compile-time as possible. This has made our compiler more complex, but it gives us significant gains at runtime. We have ~90% code coverage and over 2,000 tests to ensure that the compiler is working correctly. In addition, in many cases the Marko compiler provides hints to the runtime for a given template so that the runtime can optimize for specific patterns. For example, Marko recognizes if an HTML element only has <code>class</code>/<code>id</code>/<code>style</code> defined and the runtime optimizes for these virtual DOM nodes when doing diffing/patching (the Marko compiler generates code that flags simple virtual DOM nodes for targeted diffing/patching logic).</p><h3 id="event-delegation"><a name="event-delegation" class="anchor" href="#event-delegation"><span class="header-link"></span></a>Event delegation</h3><p>If you are building a UI component you will likely need to write code to handle various DOM events (<code>click</code>, <code>submit</code>, etc.). It is common for developers to write code that adds DOM event listeners using <code>dom.addEventListener(...)</code> or using a library such as jQuery. You can still do that when building UI components using Marko, but there is overhead in attaching listeners when lots of components are being initialized. Instead, Marko recommends using declarative event binding as shown below:</p><!--M^s0-4-86--><div class="marko-code-block"><button class="switch-syntax" data-marko='{"onclick":"changeSyntax s0-4-86"}'>switch syntax</button><div class="code html"><pre class="editor editor-colors"><div class="line"><span class="text marko"><span class="punctuation definition tag begin open html"><span>&lt;</span></span><span class="entity name tag open html"><span>button</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>type</span></span><span class="punctuation separator key-value html"><span>=</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>button</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span>&nbsp;</span><span class="support function marko-attribute"><span>on-click</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>handleClick</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span>)</span><span class="punctuation definition tag end open html"><span>&gt;</span></span></span></div><div class="line"><span class="text marko"><span>&nbsp;&nbsp;Click&nbsp;Me</span></span></div><div class="line"><span class="text marko"><span class="punctuation definition tag begin close html"><span>&lt;/</span></span><span class="entity name tag close html"><span>button</span></span><span class="punctuation definition tag end close html"><span>&gt;</span></span></span></div></pre></div><div class="code concise"><pre class="editor editor-colors"><div class="line"><span class="text marko"><span class="entity name tag concise"><span>button</span></span><span>&nbsp;</span><span class="entity other attribute-name html"><span>type</span></span><span class="punctuation separator key-value html"><span>=</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>button</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span>&nbsp;</span><span class="support function marko-attribute"><span>on-click</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>handleClick</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span>)</span><span>&nbsp;</span><span class="keyword operator marko"><span>--</span></span><span>&nbsp;Click&nbsp;Me</span></span></div></pre></div></div><!--M/s0-4-86--><p>When using declarative event binding, no DOM event listeners are actually attached for events that bubble. Instead, Marko attaches a single listener on the root DOM element of the page for each DOM event that bubbles (done at startup). When Marko receives an event at the root it handles delegating the event to the appropriate components that are interested in that event. This is done by looking at the <code>event.target</code> property to see where the event originated and then walking up the tree to find components that need to be notified. As a result, there is slightly more work that is done when a DOM event is captured at the root, but this approach uses much less memory and reduces the amount of work that is done during initialization. The extra overhead of delegating events to components will not be noticeable so it is a very beneficial optimization.</p><p><em>Cover image credit: <a href="https://thenounproject.com/search/?q=superhero&amp;amp;i=690775">Superhero by Gan Khoon Lay from the Noun Project</a></em></p><a href="https://github.com/marko-js/marko/blob/master/docs/why-is-marko-fast.md" class="edit-on-github">EDIT <img src="/github-02f398dc.svg"></a><h2 id="contributors"><a name="contributors" class="anchor" href="#contributors"><span class="header-link"></span></a> Contributors</h2><p>Helpful? You can thank these awesome people! You can also <a href="https://github.com/marko-js/marko/blob/master/docs/why-is-marko-fast.md">edit this doc</a> if you see any issues or want to improve it.</p><div class="contributors"><a href="https://github.com/austinkelleher" class="contributor"><img src="https://avatars0.githubusercontent.com/u/3771924?v=4" class="photo"><span class="name">austinkelleher</span></a><a href="https://github.com/mlrawlings" class="contributor"><img src="https://avatars1.githubusercontent.com/u/1958812?v=4" class="photo"><span class="name">mlrawlings</span></a><a href="https://github.com/newyork-anthonyng" class="contributor"><img src="https://avatars1.githubusercontent.com/u/14035529?v=4" class="photo"><span class="name">newyork-anthonyng</span></a><a href="https://github.com/marko-js/marko/blob/master/docs/why-is-marko-fast.md" class="contributor you"><div class="photo"><span class="icon">+</span></div><span class="name">You?</span></a></div><footer class="site-footer doc-footer"><span><img src="/ebay-e69eedab.svg"> open source</span><div class="copyright">Copyright &copy; 2017 eBay Inc. &mdash; <a href="https://github.com/marko-js/marko/blob/master/LICENSE">The MIT License</a></div></footer></div></div></div></div><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-66854919-1', 'markojs.com');
ga('send', 'pageview');
</script><script>
    ((window.gitter = {}).chat = {}).options = {
      room: 'marko-js/marko'
    };
    </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script><script src="/docs-f1b69009.js"></script>
<script>$_mod.ready();</script><script>(function(){var w=window;w.$components=(w.$components||[]).concat({"w":[["s0-4-86",0,{"html":"<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text marko\"><span class=\"punctuation definition tag begin open html\"><span>&lt;\u003C/span>\u003C/span><span class=\"entity name tag open html\"><span>button\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span class=\"entity other attribute-name html\"><span>type\u003C/span>\u003C/span><span class=\"punctuation separator key-value html\"><span>=\u003C/span>\u003C/span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;\u003C/span>\u003C/span><span>button\u003C/span><span class=\"punctuation definition string end js\"><span>&quot;\u003C/span>\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span class=\"support function marko-attribute\"><span>on-click\u003C/span>\u003C/span><span class=\"meta brace round js\"><span>(\u003C/span>\u003C/span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;\u003C/span>\u003C/span><span>handleClick\u003C/span><span class=\"punctuation definition string end js\"><span>&quot;\u003C/span>\u003C/span>\u003C/span><span>)\u003C/span><span class=\"punctuation definition tag end open html\"><span>&gt;\u003C/span>\u003C/span>\u003C/span>\u003C/div><div class=\"line\"><span class=\"text marko\"><span>&nbsp;&nbsp;Click&nbsp;Me\u003C/span>\u003C/span>\u003C/div><div class=\"line\"><span class=\"text marko\"><span class=\"punctuation definition tag begin close html\"><span>&lt;/\u003C/span>\u003C/span><span class=\"entity name tag close html\"><span>button\u003C/span>\u003C/span><span class=\"punctuation definition tag end close html\"><span>&gt;\u003C/span>\u003C/span>\u003C/span>\u003C/div>\u003C/pre>","concise":"<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text marko\"><span class=\"entity name tag concise\"><span>button\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span class=\"entity other attribute-name html\"><span>type\u003C/span>\u003C/span><span class=\"punctuation separator key-value html\"><span>=\u003C/span>\u003C/span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;\u003C/span>\u003C/span><span>button\u003C/span><span class=\"punctuation definition string end js\"><span>&quot;\u003C/span>\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span class=\"support function marko-attribute\"><span>on-click\u003C/span>\u003C/span><span class=\"meta brace round js\"><span>(\u003C/span>\u003C/span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;\u003C/span>\u003C/span><span>handleClick\u003C/span><span class=\"punctuation definition string end js\"><span>&quot;\u003C/span>\u003C/span>\u003C/span><span>)\u003C/span><span>&nbsp;\u003C/span><span class=\"keyword operator marko\"><span>--\u003C/span>\u003C/span><span>&nbsp;Click&nbsp;Me\u003C/span>\u003C/span>\u003C/div>\u003C/pre>"},{}],["s0-4-85",0,{"html":"<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text marko\"><span class=\"punctuation definition tag begin open html\"><span>&lt;\u003C/span>\u003C/span><span class=\"entity name tag open html\"><span>div\u003C/span>\u003C/span><span class=\"entity other attribute-name shorthand\"><span>.hello\u003C/span>\u003C/span><span class=\"punctuation definition tag end open html\"><span>&gt;\u003C/span>\u003C/span><span>Hello&nbsp;\u003C/span><span class=\"meta section marko-placeholder\"><span class=\"keyword operator marko\"><span>${\u003C/span>\u003C/span><span class=\"entity name type\"><span>input\u003C/span>\u003C/span><span>.name\u003C/span><span class=\"keyword operator marko\"><span>}\u003C/span>\u003C/span>\u003C/span><span>!\u003C/span><span class=\"punctuation definition tag begin close html\"><span>&lt;/\u003C/span>\u003C/span><span class=\"entity name tag close html\"><span>div\u003C/span>\u003C/span><span class=\"punctuation definition tag end close html\"><span>&gt;\u003C/span>\u003C/span>\u003C/span>\u003C/div>\u003C/pre>","concise":"<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text marko\"><span class=\"entity name tag concise\"><span>div\u003C/span><span class=\"entity other attribute-name shorthand\"><span>.hello\u003C/span>\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span class=\"keyword operator marko\"><span>--\u003C/span>\u003C/span><span>&nbsp;Hello&nbsp;\u003C/span><span class=\"meta section marko-placeholder\"><span class=\"keyword operator marko\"><span>${\u003C/span>\u003C/span><span class=\"entity name type\"><span>input\u003C/span>\u003C/span><span>.name\u003C/span><span class=\"keyword operator marko\"><span>}\u003C/span>\u003C/span>\u003C/span><span>!\u003C/span>\u003C/span>\u003C/div>\u003C/pre>"},{}],["s0-4-84",0,{"html":"<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text marko\"><span class=\"punctuation definition tag begin open html\"><span>&lt;\u003C/span>\u003C/span><span class=\"entity name tag open html\"><span>div\u003C/span>\u003C/span><span class=\"punctuation definition tag end open html\"><span>&gt;\u003C/span>\u003C/span><span>This&nbsp;is&nbsp;a&nbsp;\u003C/span><span class=\"punctuation definition tag begin open html\"><span>&lt;\u003C/span>\u003C/span><span class=\"entity name tag open html\"><span>strong\u003C/span>\u003C/span><span class=\"punctuation definition tag end open html\"><span>&gt;\u003C/span>\u003C/span><span>static\u003C/span><span class=\"punctuation definition tag begin close html\"><span>&lt;/\u003C/span>\u003C/span><span class=\"entity name tag close html\"><span>strong\u003C/span>\u003C/span><span class=\"punctuation definition tag end close html\"><span>&gt;\u003C/span>\u003C/span><span>&nbsp;node\u003C/span><span class=\"punctuation definition tag begin close html\"><span>&lt;/\u003C/span>\u003C/span><span class=\"entity name tag close html\"><span>div\u003C/span>\u003C/span><span class=\"punctuation definition tag end close html\"><span>&gt;\u003C/span>\u003C/span>\u003C/span>\u003C/div>\u003C/pre>","concise":"<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text marko\"><span class=\"entity name tag concise\"><span>div\u003C/span>\u003C/span>\u003C/span>\u003C/div><div class=\"line\"><span class=\"text marko\"><span>&nbsp;&nbsp;&nbsp;&nbsp;\u003C/span><span class=\"keyword operator marko\"><span>--\u003C/span>\u003C/span><span>&nbsp;This&nbsp;is&nbsp;a&nbsp;\u003C/span><span class=\"punctuation definition tag begin open html\"><span>&lt;\u003C/span>\u003C/span><span class=\"entity name tag open html\"><span>strong\u003C/span>\u003C/span><span class=\"punctuation definition tag end open html\"><span>&gt;\u003C/span>\u003C/span><span>static\u003C/span><span class=\"punctuation definition tag begin close html\"><span>&lt;/\u003C/span>\u003C/span><span class=\"entity name tag close html\"><span>strong\u003C/span>\u003C/span><span class=\"punctuation definition tag end close html\"><span>&gt;\u003C/span>\u003C/span><span>&nbsp;node\u003C/span>\u003C/span>\u003C/div>\u003C/pre>"},{}],["s0-4-83",0,{"html":"<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text marko\"><span class=\"storage modifier embedded js\"><span>$\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span class=\"source js embedded\"><span class=\"storage type var js\"><span>var\u003C/span>\u003C/span><span>&nbsp;color\u003C/span><span>&nbsp;\u003C/span><span class=\"keyword operator js\"><span>=\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;\u003C/span>\u003C/span><span>red\u003C/span><span class=\"punctuation definition string end js\"><span>&#39;\u003C/span>\u003C/span>\u003C/span><span class=\"punctuation terminator statement js\"><span>;\u003C/span>\u003C/span>\u003C/span>\u003C/span>\u003C/div><div class=\"line\"><span class=\"text marko\"><span class=\"punctuation definition tag begin open html\"><span>&lt;\u003C/span>\u003C/span><span class=\"entity name tag open html\"><span>div\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span class=\"entity other attribute-name html\"><span>style\u003C/span>\u003C/span><span class=\"punctuation separator key-value html\"><span>=\u003C/span>\u003C/span><span class=\"punctuation section scope begin js\"><span>{\u003C/span>\u003C/span><span>backgroundColor\u003C/span><span class=\"keyword operator js\"><span>:\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span>color\u003C/span><span class=\"punctuation section scope end js\"><span>}\u003C/span>\u003C/span><span class=\"punctuation definition tag end open html\"><span>&gt;\u003C/span>\u003C/span><span class=\"punctuation definition tag begin close html\"><span>&lt;/\u003C/span>\u003C/span><span class=\"entity name tag close html\"><span>div\u003C/span>\u003C/span><span class=\"punctuation definition tag end close html\"><span>&gt;\u003C/span>\u003C/span>\u003C/span>\u003C/div>\u003C/pre>","concise":"<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text marko\"><span class=\"storage modifier embedded js\"><span>$\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span class=\"source js embedded\"><span class=\"storage type var js\"><span>var\u003C/span>\u003C/span><span>&nbsp;color\u003C/span><span>&nbsp;\u003C/span><span class=\"keyword operator js\"><span>=\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;\u003C/span>\u003C/span><span>red\u003C/span><span class=\"punctuation definition string end js\"><span>&#39;\u003C/span>\u003C/span>\u003C/span><span class=\"punctuation terminator statement js\"><span>;\u003C/span>\u003C/span>\u003C/span>\u003C/span>\u003C/div><div class=\"line\"><span class=\"text marko\"><span class=\"entity name tag concise\"><span>div\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span class=\"entity other attribute-name html\"><span>style\u003C/span>\u003C/span><span class=\"punctuation separator key-value html\"><span>=\u003C/span>\u003C/span><span class=\"punctuation section scope begin js\"><span>{\u003C/span>\u003C/span><span>backgroundColor\u003C/span><span class=\"keyword operator js\"><span>:\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span>color\u003C/span><span class=\"punctuation section scope end js\"><span>}\u003C/span>\u003C/span>\u003C/span>\u003C/div>\u003C/pre>"},{}],["s0-4-82",0,{"html":"<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text marko\"><span class=\"punctuation definition tag begin open html\"><span>&lt;\u003C/span>\u003C/span><span class=\"entity name tag open html\"><span>div\u003C/span>\u003C/span><span class=\"punctuation definition tag end open html\"><span>&gt;\u003C/span>\u003C/span><span>Hello&nbsp;\u003C/span><span class=\"meta section marko-placeholder\"><span class=\"keyword operator marko\"><span>${\u003C/span>\u003C/span><span class=\"entity name type\"><span>input\u003C/span>\u003C/span><span>.name\u003C/span><span class=\"keyword operator marko\"><span>}\u003C/span>\u003C/span>\u003C/span><span>!\u003C/span><span class=\"punctuation definition tag begin close html\"><span>&lt;/\u003C/span>\u003C/span><span class=\"entity name tag close html\"><span>div\u003C/span>\u003C/span><span class=\"punctuation definition tag end close html\"><span>&gt;\u003C/span>\u003C/span>\u003C/span>\u003C/div>\u003C/pre>","concise":"<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text marko\"><span class=\"entity name tag concise\"><span>div\u003C/span>\u003C/span><span>&nbsp;\u003C/span><span class=\"keyword operator marko\"><span>--\u003C/span>\u003C/span><span>&nbsp;Hello&nbsp;\u003C/span><span class=\"meta section marko-placeholder\"><span class=\"keyword operator marko\"><span>${\u003C/span>\u003C/span><span class=\"entity name type\"><span>input\u003C/span>\u003C/span><span>.name\u003C/span><span class=\"keyword operator marko\"><span>}\u003C/span>\u003C/span>\u003C/span><span>!\u003C/span>\u003C/span>\u003C/div>\u003C/pre>"},{}],["s0-0-9-9",1,{"class":"search"},{"d":[["blur","shrink","input",null],["focus","grow","input",null]]}],["s0-0-9-8",2,{},{}],["s0-0-9",3,{"doc":"why-is-marko-fast","toc":"<ul class=\"toc toc-level1\"><li><ul class=\"toc toc-level2\"><li><a href=\"#multiple-compilation-outputs\">Multiple Compilation Outputs\u003C/a><ul class=\"toc toc-level3\"><li><a href=\"#compiled-for-the-server\">Compiled for the server\u003C/a>\u003C/li><li><a href=\"#compiled-for-the-browser\">Compiled for the browser\u003C/a>\u003C/li>\u003C/ul>\u003C/li><li><a href=\"#modular-runtime\">Modular Runtime\u003C/a>\u003C/li><li><a href=\"#high-performance-server-side-rendering\">High performance server-side rendering\u003C/a>\u003C/li><li><a href=\"#compile-time-optimization-of-static-sub-trees\">Compile-time optimization of static sub-trees\u003C/a>\u003C/li><li><a href=\"#compile-time-optimization-of-static-attributes\">Compile-time optimization of static attributes\u003C/a>\u003C/li><li><a href=\"#smart-compiler\">Smart compiler\u003C/a>\u003C/li><li><a href=\"#event-delegation\">Event delegation\u003C/a>\u003C/li>\u003C/ul>\u003C/li>\u003C/ul>"},{}],["s0-0-8-4-4",1,{"class":"search"},{"d":[["blur","shrink","input",null],["focus","grow","input",null]]}],["s0-0-8",4,{},{}]],"t":["/markojs-website$1.0.0/components/code-block-marko/component-browser","/markojs-website$1.0.0/components/site-search/component-browser","/markojs-website$1.0.0/components/doc-sidebar/components/version-switcher/component-browser","/markojs-website$1.0.0/components/doc-sidebar/component-browser","/markojs-website$1.0.0/components/site-header/component-browser"]})||w.$components})()</script></body></html>